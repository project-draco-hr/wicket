{
  if (node.isLeaf()) {
    Image img=new Image(NODE_IMAGE_NAME,nodeImage);
    return img;
  }
 else {
    return new Image(NODE_IMAGE_NAME){
      private static final long serialVersionUID=1L;
      protected ResourceReference getImageResourceReference(){
        if (isExpanded(node)) {
          return folderOpen;
        }
 else {
          return folder;
        }
      }
    }
;
  }
}
