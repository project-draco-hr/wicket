{
  super.onBeforeRender();
  if (!bodyContainerAdded) {
    MarkupStream markupStream=getAssociatedMarkupStream(false);
    if (markupStream != null) {
      while (markupStream.hasMore()) {
        final MarkupElement element=markupStream.next();
        if (element instanceof ComponentTag) {
          final ComponentTag tag=(ComponentTag)element;
          if (tag.isOpen() && TagUtils.isBodyTag(tag)) {
            if (HtmlBodyContainer.BODY_ID.equals(tag.getId())) {
              add(new HtmlBodyContainer(tag.getId()));
            }
            bodyContainerAdded=true;
            break;
          }
        }
      }
    }
  }
}
