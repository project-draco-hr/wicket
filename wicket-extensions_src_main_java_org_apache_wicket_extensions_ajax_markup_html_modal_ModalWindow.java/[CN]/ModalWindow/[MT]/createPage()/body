{
  if (pageCreator == null) {
    return null;
  }
 else {
    RequestParameters parameters=RequestCycle.get().getRequest().getRequestParameters();
    String oldPageMapName=parameters.getPageMapName();
    if (getPageMapName() != null) {
      Session session=Session.get();
      if (session.pageMapForName(getPageMapName(),false) == null) {
        deletePageMap=true;
      }
      parameters.setPageMapName(getPageMapName());
    }
    try {
      return pageCreator.createPage();
    }
  finally {
      parameters.setPageMapName(oldPageMapName);
    }
  }
}
