{
  try {
    WebResponse webResponse=((WebRequestCycle)requestCycle).getWebResponse();
    final ServletContext context=((WebApplication)requestCycle.getApplication()).getWicketServlet().getServletContext();
    final InputStream in=context.getResourceAsStream(url);
    if (in != null) {
      String contentType=context.getMimeType(url);
      if (contentType != null) {
        webResponse.setContentType(contentType);
      }
      try {
        Streams.copy(in,webResponse.getHttpServletResponse().getOutputStream());
      }
  finally {
        in.close();
      }
    }
 else {
      log.warn("the resource requested by request " + requestCycle.getRequest() + " was not found");
      HttpServletResponse httpServletResponse=webResponse.getHttpServletResponse();
      httpServletResponse.sendError(HttpServletResponse.SC_NOT_FOUND);
    }
  }
 catch (  IOException e) {
    throw new WicketRuntimeException("Cannot load static content for request " + requestCycle.getRequest(),e);
  }
}
