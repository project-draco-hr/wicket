{
  if (value == null || value.trim().equals(""))   return null;
  NumberFormat format=getNumberFormat(locale);
  try {
    Number number=format.parse(value);
    if (number instanceof BigDecimal) {
      return number;
    }
 else     if (number instanceof Double) {
      return new BigDecimal(number.doubleValue());
    }
 else     if (number instanceof Long) {
      return new BigDecimal(number.longValue());
    }
 else     if (number instanceof Float) {
      return new BigDecimal(number.floatValue());
    }
 else     if (number instanceof Integer) {
      return new BigDecimal(number.intValue());
    }
 else {
      return new BigDecimal(value);
    }
  }
 catch (  Exception e) {
    throw newConversionException("Cannot parse '" + value + "' using format "+ format,value,locale).setFormat(format);
  }
}
