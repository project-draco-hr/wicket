{
  List choices=getChoices();
  final StringBuffer buffer=new StringBuffer((choices.size() * 50) + 16);
  final Object selected=getModelObject();
  buffer.append(getDefaultChoice(selected));
  for (int index=0; index < choices.size(); index++) {
    final Object choice=choices.get(index);
    appendOptionHtml(buffer,choice,index);
  }
  buffer.append("\n");
  replaceComponentTagBody(markupStream,openTag,buffer.toString());
}
