{
  Page page=component.getPage();
  if (page != null) {
    page.startComponentRender(component);
  }
  if (component instanceof Page) {
    new PageRequestTarget((Page)component).respond(requestCycle);
  }
 else {
    boolean old=component.getRenderBodyOnly();
    component.setRenderBodyOnly(renderBodyOnly);
    component.doRender();
    component.setRenderBodyOnly(old);
  }
  if (page != null) {
    page.endComponentRender(component);
  }
}
