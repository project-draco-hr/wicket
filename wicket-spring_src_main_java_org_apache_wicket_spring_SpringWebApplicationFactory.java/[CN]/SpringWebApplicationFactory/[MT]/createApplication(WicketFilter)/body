{
  ServletContext sc=filter.getFilterConfig().getServletContext();
  WebApplicationContext ac=WebApplicationContextUtils.getWebApplicationContext(sc);
  if (getContextConfigLocation(filter) != null) {
    additionalContext=createWebApplicationContext(ac,filter);
  }
  String beanName=filter.getFilterConfig().getInitParameter("applicationBean");
  return createApplication((additionalContext != null) ? additionalContext : ac,beanName);
}
