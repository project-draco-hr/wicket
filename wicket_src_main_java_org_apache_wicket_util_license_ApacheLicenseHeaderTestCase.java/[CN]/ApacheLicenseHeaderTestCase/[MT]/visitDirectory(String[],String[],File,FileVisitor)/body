{
  File[] files=directory.listFiles(new SuffixAndIgnoreFileFilter(suffixes,ignoreFiles));
  if (files != null) {
    for (int i=0; i < files.length; i++) {
      File file=files[i];
      fileVisitor.visitFile(file);
    }
  }
  files=directory.listFiles(new DirectoryFileFilter());
  if (files != null) {
    for (int i=0; i < files.length; i++) {
      File childDirectory=files[i];
      visitDirectory(suffixes,ignoreFiles,childDirectory,fileVisitor);
    }
  }
}
