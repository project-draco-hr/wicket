{
  String markupId=(String)getMetaData(MARKUP_ID_KEY);
  if (markupId == null) {
    Page page=findPage();
    if (page == null) {
      throw new WicketRuntimeException("This component is not (yet) coupled to a page. It has to be able " + "to find the page it is supposed to operate in before you can call " + "this method (Component#getMarkupId)");
    }
    markupId=getId() + page.getAutoIndex();
    setMetaData(MARKUP_ID_KEY,markupId);
  }
  return markupId;
}
