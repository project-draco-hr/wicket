{
  if (!component.isAuto() && getFlag(FLAG_RENDERING)) {
    throw new WicketRuntimeException("Cannot modify component hierarchy during render phase");
  }
  if (getFlag(FLAG_ATTACHING)) {
    throw new WicketRuntimeException("Cannot modify component hierarchy during attach phase");
  }
}
