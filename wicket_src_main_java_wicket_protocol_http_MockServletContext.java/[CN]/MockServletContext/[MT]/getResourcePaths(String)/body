{
  if (webappRoot == null) {
    return new HashSet<String>();
  }
  if (name.startsWith("/")) {
    name=name.substring(1);
  }
  if (name.endsWith("/")) {
    name=name.substring(0,name.length() - 1);
  }
  String[] elements=null;
  if (name.trim().length() == 0) {
    elements=new String[0];
  }
 else {
    elements=name.split("/");
  }
  File current=webappRoot;
  for (  String element : elements) {
    File[] files=current.listFiles();
    boolean match=false;
    for (    File element0 : files) {
      if (element0.getName().equals(element) && element0.isDirectory()) {
        current=element0;
        match=true;
        break;
      }
    }
    if (!match) {
      return null;
    }
  }
  File[] files=current.listFiles();
  Set<String> result=new HashSet<String>();
  int stripLength=webappRoot.getPath().length();
  for (  File element : files) {
    String s=element.getPath().substring(stripLength).replace('\\','/');
    if (element.isDirectory()) {
      s=s + "/";
    }
    result.add(s);
  }
  return result;
}
