{
  this.application=application;
  webappRoot=null;
  if (path != null) {
    webappRoot=new File(path);
    if (!webappRoot.exists() || !webappRoot.isDirectory()) {
      log.warn("WARNING: The webapp root directory is invalid: " + path);
      webappRoot=null;
    }
  }
  mimeTypes.put("html","text/html");
  mimeTypes.put("htm","text/html");
  mimeTypes.put("css","text/css");
  mimeTypes.put("xml","text/xml");
  mimeTypes.put("js","text/plain");
  mimeTypes.put("gif","image/gif");
  mimeTypes.put("jpg","image/jpeg");
  mimeTypes.put("png","image/png");
  try {
    File tmpDir=File.createTempFile("wicket",null);
    File dir=new File(tmpDir.getParentFile(),tmpDir.getName() + "p");
    dir.mkdir();
    setAttribute("javax.servlet.context.tempdir",dir);
    tmpDir.delete();
  }
 catch (  IOException e) {
    throw new WicketRuntimeException(e);
  }
}
