{
  final FeedbackPanel feedback=new FeedbackPanel("feedback");
  feedback.setOutputMarkupId(true);
  add(feedback);
  Bean bean=new Bean();
  Form<Bean> form=new Form<Bean>("form",new CompoundPropertyModel<Bean>(bean));
  add(form);
  form.setOutputMarkupId(true);
  FormComponent fc;
  fc=new RequiredTextField<String>("name");
  fc.add(StringValidator.minimumLength(4));
  fc.setLabel(new ResourceModel("label.name"));
  form.add(fc);
  form.add(new SimpleFormComponentLabel("name-label",fc));
  fc=new RequiredTextField<String>("email");
  fc.add(EmailAddressValidator.getInstance());
  fc.setLabel(new ResourceModel("label.email"));
  form.add(fc);
  form.add(new SimpleFormComponentLabel("email-label",fc));
  AjaxFormValidatingBehavior.addToAllFormComponents(form,"onkeyup",Duration.ONE_SECOND);
  form.add(new AjaxButton("ajax-button",form){
    @Override protected void onSubmit(    AjaxRequestTarget target,    Form<?> form){
      target.add(feedback);
    }
    @Override protected void onError(    AjaxRequestTarget target,    Form<?> form){
      target.add(feedback);
    }
  }
);
}
