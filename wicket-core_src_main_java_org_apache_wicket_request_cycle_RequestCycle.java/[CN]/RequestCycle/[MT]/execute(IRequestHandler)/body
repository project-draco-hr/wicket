{
  Args.notNull(handler,"handler");
  while (handler != null) {
    try {
      listeners.onRequestHandlerResolved(this,handler);
      IRequestHandler next=requestHandlerExecutor.execute(handler);
      listeners.onRequestHandlerExecuted(this,handler);
      handler=next;
    }
 catch (    RuntimeException e) {
      IRequestHandler replacement=requestHandlerExecutor.resolveHandler(e);
      if (replacement != null) {
        handler=replacement;
      }
 else {
        throw e;
      }
    }
  }
}
