{
  if (requestEncoder == null) {
    requestEncoder=newRequestEncoder();
  }
  if (requestEncoder == null) {
    throw new IllegalStateException("no requestEncoder set");
  }
  return requestEncoder;
}
