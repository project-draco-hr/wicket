{
  if (sessionExists()) {
    try {
      getSession().detach();
    }
 catch (    RuntimeException re) {
      log.error("there was an error detaching the session",re);
    }
  }
  if (isRedirect()) {
    setRedirect(false);
  }
  current.set(null);
}
