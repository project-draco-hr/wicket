{
  final Page page=component.getPage();
  final IRequestTarget target;
  if (listener != IRedirectListener.INTERFACE && component.isStateless() && page.isBookmarkable()) {
    target=new BookmarkableListenerInterfaceRequestTarget(page.getPageMap().getName(),page.getClass(),new PageParameters(),component,listener);
  }
 else {
    page.setPageStateless(Boolean.FALSE);
    Session session=Session.get();
    if (session.isTemporary()) {
      session.bind();
    }
    target=new ListenerInterfaceRequestTarget(page,component,listener);
  }
  final IRequestCodingStrategy requestCodingStrategy=getProcessor().getRequestCodingStrategy();
  return requestCodingStrategy.encode(this,target);
}
