{
  final Page page=component.getPage();
  final IRequestTarget target;
  if (listener != IRedirectListener.INTERFACE && component.isStateless() && page.isBookmarkable()) {
    PageParameters parameters=(this.pageParameters != null) ? this.pageParameters : new PageParameters();
    target=new BookmarkableListenerInterfaceRequestTarget(page.getPageMapName(),page.getClass(),parameters,component,listener);
  }
 else {
    page.setPageStateless(Boolean.FALSE);
    final Session session=getSession();
    if (session.isTemporary()) {
      session.bind();
    }
    target=new ListenerInterfaceRequestTarget(page,component,listener);
  }
  final IRequestCodingStrategy requestCodingStrategy=getProcessor().getRequestCodingStrategy();
  return requestCodingStrategy.encode(this,target);
}
