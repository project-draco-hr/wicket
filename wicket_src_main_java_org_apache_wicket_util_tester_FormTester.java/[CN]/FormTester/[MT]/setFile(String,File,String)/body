{
  checkClosed();
  FormComponent<?> formComponent=(FormComponent<?>)workingForm.get(formComponentId);
  if (formComponent instanceof FileUploadField == false) {
    throw new IllegalArgumentException("'" + formComponentId + "' is not "+ "a FileUploadField. You can only attach a file to form "+ "component of this type.");
  }
  MockHttpServletRequest servletRequest=tester.getRequest();
  servletRequest.addFile(formComponent.getInputName(),file,contentType);
}
