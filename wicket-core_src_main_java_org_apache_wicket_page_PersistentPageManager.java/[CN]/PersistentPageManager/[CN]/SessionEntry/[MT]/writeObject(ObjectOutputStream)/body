{
  s.defaultWriteObject();
  List<Serializable> serializedPages=new ArrayList<Serializable>();
  if (pages != null) {
    IPageStore pageStore=getPageStore();
    for (    IManageablePage p : pages) {
      Serializable preparedPage;
      if (pageStore != null) {
        preparedPage=pageStore.prepareForSerialization(sessionId,p);
      }
 else {
        preparedPage=p;
      }
      if (preparedPage != null) {
        serializedPages.add(preparedPage);
      }
    }
  }
  s.writeObject(serializedPages);
}
