{
  if (resource == null) {
    resource=application.getSharedResources().get(scope,name,locale,style);
    if (resource == null) {
      resource=newResource();
      if (resource == null) {
        resource=application.getSharedResources().get(scope,name,null,null);
        if (resource == null) {
          throw new WicketRuntimeException("Unable to resolve shared resource " + this);
        }
      }
      application.getSharedResources().add(scope,name,locale,style,resource);
    }
  }
}
