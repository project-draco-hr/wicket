{
  super(componentName,feedback);
  this.book=book;
  Model bookModel=new Model(book);
  setModel(new PropertyModel(bookModel,getName()));
  final TextField title=new TextField("title",bookModel,"title");
  title.add(new RequiredValidator());
  title.add(LengthValidator.max(30));
  final FormComponentFeedbackBorder titleFeedback=new FormComponentFeedbackBorder("titleFeedback",title);
  add(titleFeedback);
  final TextField author=new TextField("author",bookModel,"author");
  author.add(new RequiredValidator());
  final FormComponentFeedbackBorder authorFeedback=new FormComponentFeedbackBorder("authorFeedback",author);
  add(authorFeedback);
  add(new CheckBox("fiction",bookModel,"fiction"));
  List books=new ArrayList();
  books.addAll(Book.getBooks());
  books.remove(otherBook);
  add(new DropDownChoice("companionBook",bookModel,"companionBook",books));
  final RadioChoice relatedBook=new RadioChoice("relatedBook",bookModel,"relatedBook");
  relatedBook.add(new RadioOptionSet("relatedBooks",books));
  relatedBook.add(new RadioOption("otherBook",otherBook));
  add(relatedBook);
  add(new ListMultipleChoice("writingStyles",new PropertyModel(bookModel,"writingStyles"),EnumeratedType.getValues(Book.WritingStyle.class)));
}
