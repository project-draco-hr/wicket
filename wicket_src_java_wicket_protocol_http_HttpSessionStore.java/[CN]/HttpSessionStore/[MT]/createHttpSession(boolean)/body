{
  RequestCycle requestCycle=RequestCycle.get();
  if (requestCycle != null) {
    Request request=requestCycle.getRequest();
    if (request instanceof WebRequest) {
      WebRequest webRequest=(WebRequest)request;
      HttpSession httpSession=webRequest.getHttpServletRequest().getSession(createWhenNeeded);
      if (httpSession != null) {
        String key=getSessionAttributePrefix() + "-SessionBindingListener";
        httpSession.setAttribute(key,new SessionBindingListener());
      }
      return httpSession;
    }
  }
  return null;
}
