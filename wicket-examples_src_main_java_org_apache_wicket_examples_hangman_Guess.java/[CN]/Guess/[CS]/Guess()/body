{
  add(new Label("guessesRemaining",new PropertyModel<>(getGame(),"guessesRemaining")));
  add(new Label("word",new Model<String>(){
    @Override public String getObject(){
      return getGame().getWord().asString(true);
    }
  }
));
  add(new ListView<Letter>("letters",getGame().getLetters()){
    @Override protected void populateItem(    final ListItem<Letter> listItem){
      final Letter letter=listItem.getModelObject();
      final Link<Void> link=new Link<Void>("letter"){
        @Override protected void onBeforeRender(){
          super.onBeforeRender();
          setAutoEnable(false);
          setEnabled(!letter.isGuessed());
        }
        @Override public void onClick(){
          getGame().guess(letter);
          if (getGame().isWon()) {
            setResponsePage(new Win());
          }
 else           if (getGame().isLost()) {
            setResponsePage(new Lose());
          }
 else {
          }
        }
      }
;
      PageParameters parameters=new PageParameters();
      parameters.set(Letter.PARAMETER_LETTER,letter.asString(),INamedParameters.Type.MANUAL);
      if (letter.isGuessed()) {
        parameters.set(Letter.PARAMETER_GUESSED,true,INamedParameters.Type.MANUAL);
      }
      link.add(new Image("image",Letter.LETTER_RESOURCE_REFERENCE,parameters));
      listItem.add(link);
      link.add(AttributeModifier.replace("id","letter_" + letter.asString()));
    }
  }
);
}
