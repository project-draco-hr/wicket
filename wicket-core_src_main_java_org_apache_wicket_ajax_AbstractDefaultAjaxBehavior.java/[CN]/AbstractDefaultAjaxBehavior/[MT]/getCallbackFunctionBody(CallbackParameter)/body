{
  AjaxRequestAttributes attributes=getAttributes();
  attributes.setEventNames();
  CharSequence attrsJson=renderAjaxAttributes(getComponent(),attributes);
  StringBuilder sb=new StringBuilder();
  sb.append("var attrs = ");
  sb.append(attrsJson);
  sb.append(";\n");
  sb.append("var params = {");
  boolean first=true;
  for (  CallbackParameter curExtraParameter : extraParameters) {
    if (curExtraParameter.getAjaxParameterName() != null) {
      if (!first)       sb.append(',');
 else       first=false;
      sb.append('\'').append(curExtraParameter.getAjaxParameterName()).append("': ").append(curExtraParameter.getAjaxParameterCode());
    }
  }
  sb.append("};\n");
  if (attributes.getExtraParameters().isEmpty())   sb.append("attrs." + AjaxAttributeName.EXTRA_PARAMETERS + " = params;\n");
 else   sb.append("attrs." + AjaxAttributeName.EXTRA_PARAMETERS + " = Wicket.merge(attrs."+ AjaxAttributeName.EXTRA_PARAMETERS+ ", params);\n");
  sb.append("Wicket.Ajax.ajax(attrs);\n");
  return sb;
}
