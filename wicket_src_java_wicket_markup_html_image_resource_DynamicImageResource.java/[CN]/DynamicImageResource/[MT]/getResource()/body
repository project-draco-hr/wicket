{
  return new IResource(){
    /** 
 * Transient input stream to resource 
 */
    private transient InputStream inputStream=null;
    /** 
 * @see wicket.util.resource.IResourceStream#close()
 */
    public void close() throws IOException {
      if (inputStream != null) {
        inputStream.close();
        inputStream=null;
      }
    }
    /** 
 * @see wicket.util.resource.IResource#getContentType()
 */
    public String getContentType(){
      return "image/" + format;
    }
    /** 
 * @see wicket.util.resource.IResourceStream#getInputStream()
 */
    public InputStream getInputStream() throws ResourceNotFoundException {
      if (inputStream == null) {
        inputStream=new ByteArrayInputStream(getImageData());
        lastModifiedTime=Time.now();
      }
      return inputStream;
    }
    /** 
 * @see wicket.util.watch.IModifiable#lastModifiedTime()
 */
    public Time lastModifiedTime(){
      return DynamicImageResource.this.lastModifiedTime();
    }
  }
;
}
