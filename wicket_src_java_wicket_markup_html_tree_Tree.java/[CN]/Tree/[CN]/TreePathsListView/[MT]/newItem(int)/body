{
  IModel<DefaultMutableTreeNode> listItemModel=getListItemModel(getModel(),index);
  return new ListItem<DefaultMutableTreeNode>(this,index,listItemModel){
    private static final long serialVersionUID=1L;
    @Override public boolean isVisible(){
      TreeState treeState=getTreeState();
      DefaultMutableTreeNode node=getModelObject();
      final TreePath path=new TreePath(node.getPath());
      final int row=treeState.getRowForPath(path);
      return (row != -1);
    }
  }
;
}
