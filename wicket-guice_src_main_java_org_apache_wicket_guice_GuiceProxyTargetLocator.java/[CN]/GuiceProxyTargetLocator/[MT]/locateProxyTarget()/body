{
  final GuiceInjectorHolder holder=(GuiceInjectorHolder)Application.get().getMetaData(GuiceInjectorHolder.INJECTOR_KEY);
  final GuiceTypeStore typeStore=(GuiceTypeStore)Application.get().getMetaData(GuiceTypeStore.TYPESTORE_KEY);
  final Type type=typeStore.getType(typeName);
  final Key<?> key;
  if (bindingAnnotation == null) {
    key=Key.get(TypeLiteral.get(type));
  }
 else {
    key=Key.get(TypeLiteral.get(type),bindingAnnotation);
  }
  return holder.getInjector().getInstance(key);
}
