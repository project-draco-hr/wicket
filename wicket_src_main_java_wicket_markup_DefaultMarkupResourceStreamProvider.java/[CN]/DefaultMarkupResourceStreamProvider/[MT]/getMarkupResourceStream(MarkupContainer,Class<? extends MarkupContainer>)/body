{
  final IResourceStreamFactory locator=Application.get().getResourceSettings().getResourceStreamFactory();
  String style=container.getStyle();
  Locale locale=container.getLocale();
  String ext=container.getMarkupType();
  while (containerClass != MarkupContainer.class) {
    String path=containerClass.getName().replace('.','/');
    IResourceStream resourceStream=locator.newResourceStream(container.getClass(),path,style,locale,ext);
    if (resourceStream != null) {
      return new MarkupResourceStream(resourceStream,new ContainerInfo(container),containerClass);
    }
    containerClass=(Class<? extends MarkupContainer>)containerClass.getSuperclass();
  }
  return null;
}
