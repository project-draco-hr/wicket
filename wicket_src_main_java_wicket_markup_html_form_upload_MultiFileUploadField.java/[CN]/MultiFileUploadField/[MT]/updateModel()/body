{
  final Object object=getModelObject();
  if (object == null) {
    setModelObject(getConvertedInput());
  }
 else {
    if (!(object instanceof Collection)) {
      throw new IllegalStateException("Model object of " + getClass().getName() + " component must be of type `"+ Collection.class.getName()+ "<"+ FileUpload.class.getName()+ ">` but is of type `"+ object.getClass().getName()+ "`");
    }
 else {
      Collection collection=(Collection)object;
      collection.clear();
      if (getConvertedInput() != null) {
        collection.addAll((Collection)getConvertedInput());
      }
      setModelObject(collection);
    }
  }
}
