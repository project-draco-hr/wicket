{
  StringBuffer buf=new StringBuffer();
  buf.append("http://localhost");
  buf.append(getContextPath());
  if (getPathInfo() != null) {
    buf.append(getPathInfo());
  }
  final String query=getQueryString();
  if (query != null) {
    buf.append('?');
    buf.append(query);
  }
  return buf;
}
