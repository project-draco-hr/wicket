{
  if (file == null) {
    throw new IllegalArgumentException("File must not be null");
  }
  if (file.exists() == false) {
    throw new IllegalArgumentException("File does not exists. You must provide an existing file: " + file.getAbsolutePath());
  }
  if (file.isFile() == false) {
    throw new IllegalArgumentException("You can only add a File, which is not a directory. Only files can be uploaded.");
  }
  if (uploadedFiles == null) {
    uploadedFiles=new HashMap<String,UploadedFile>();
  }
  UploadedFile uf=new UploadedFile(fieldName,file,contentType);
  uploadedFiles.put(fieldName,uf);
  setUseMultiPartContentType(true);
}
