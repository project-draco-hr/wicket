{
  final FeedbackPanel feedback=new FeedbackPanel(this,"feedback");
  feedback.setOutputMarkupId(true);
  Form<Bean> form=new Form<Bean>(this,"form",new CompoundPropertyModel<Bean>(bean));
  form.setOutputMarkupId(true);
  FormComponent fc;
  fc=new TextField(form,"name").setRequired(true);
  fc.add(StringValidator.minimumLength(4));
  fc.setLabel(new ResourceModel("label.name"));
  new SimpleFormComponentLabel(form,"name-label",fc);
  fc=new TextField(form,"email").setRequired(true);
  fc.add(EmailAddressPatternValidator.getInstance());
  fc.setLabel(new ResourceModel("label.email"));
  new SimpleFormComponentLabel(form,"email-label",fc);
  AjaxFormValidatingBehavior.addToAllFormComponents(form,ClientEvent.KEYUP,Duration.ONE_SECOND);
  new AjaxSubmitButton(form,"ajax-submit-button",form){
    @Override protected void onSubmit(    final AjaxRequestTarget target,    final Form form){
      target.addComponent(feedback);
    }
    @Override protected void onError(    final AjaxRequestTarget target,    final Form form){
      target.addComponent(feedback);
    }
  }
;
}
