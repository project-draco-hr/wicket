{
  super.onAfterRender();
  checkRendering(this);
  if (Application.get().getDebugSettings().getComponentUseCheck()) {
    visitChildren(new IVisitor<Component>(){
      public Object component(      Component component){
        component.setMetaData(Component.CONSTRUCTED_AT_KEY,null);
        component.setMetaData(Component.ADDED_AT_KEY,null);
        return CONTINUE_TRAVERSAL;
      }
    }
);
  }
  if (!isPageStateless()) {
    Session.get().getSessionStore().getSessionId(RequestCycle.get().getRequest(),true);
    getSession().touch(this);
  }
  if (getApplication().getDebugSettings().isOutputMarkupContainerClassName()) {
    Class<?> klass=getClass();
    while (klass.isAnonymousClass()) {
      klass=klass.getSuperclass();
    }
    getResponse().write("<!-- Page Class ");
    getResponse().write(klass.getName());
    getResponse().write(" -->\n");
  }
}
