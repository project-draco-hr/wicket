{
  checkClosed();
  try {
    MockHttpServletRequest servletRequest=wicketTester.getServletRequest();
    WebRequestCycle requestCycle=wicketTester.createRequestCycle();
    servletRequest.setRequestToComponent(workingForm);
    if (servletRequest.hasUploadedFiles()) {
      requestCycle.setRequest(new MultipartServletWebRequest(servletRequest,workingForm.getMaxSize()));
    }
    wicketTester.processRequestCycle(requestCycle);
  }
 catch (  FileUploadException e) {
    throw new IllegalStateException(e);
  }
 finally {
    closed=true;
  }
}
