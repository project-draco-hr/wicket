{
  if (form == null) {
    Component cursor=getComponent();
    while (cursor != null && !(cursor instanceof Form)) {
      cursor=cursor.getParent();
    }
    if (cursor == null) {
      throw new IllegalStateException("form was not specified in the constructor and cannot " + "be found in the hierarchy of the component this behavior " + "is attached to");
    }
 else {
      form=(Form)cursor;
    }
  }
  return form;
}
