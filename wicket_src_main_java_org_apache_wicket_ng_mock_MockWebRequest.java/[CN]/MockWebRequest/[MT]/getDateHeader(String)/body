{
  List<Object> dates=headers.get(name);
  if (dates == null || dates.isEmpty()) {
    throw new WicketRuntimeException("Date header with name '" + name + "' does not exist.");
  }
  Object date=dates.get(0);
  if (date instanceof Long == false) {
    throw new WicketRuntimeException("Date header with name '" + name + "' is not a valid long.");
  }
  return (Long)date;
}
