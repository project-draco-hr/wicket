{
  super(id,model);
  setOutputMarkupId(true);
  add(new AbstractDefaultAjaxBehavior(){
    private static final long serialVersionUID=1L;
    @Override protected void respond(    final AjaxRequestTarget target){
      if (state < 2) {
        Component component=getLazyLoadComponent(LAZY_LOAD_COMPONENT_ID);
        AjaxLazyLoadPanel.this.replace(component);
        setState((byte)2);
      }
      target.add(AjaxLazyLoadPanel.this);
    }
    @Override public void renderHead(    final Component component,    final IHeaderResponse response){
      super.renderHead(component,response);
      if (state < 2) {
        handleCallbackScript(response,getCallbackScript().toString());
      }
    }
    @Override protected AjaxChannel getChannel(){
      return AjaxLazyLoadPanel.this.getChannel();
    }
  }
);
}
