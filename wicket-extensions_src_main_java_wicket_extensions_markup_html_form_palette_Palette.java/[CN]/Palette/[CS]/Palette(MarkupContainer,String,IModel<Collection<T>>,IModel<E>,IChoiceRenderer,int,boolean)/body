{
  super(parent,id,model);
  this.choicesModel=choicesModel;
  this.choiceRenderer=choiceRenderer;
  this.rows=rows;
  recorderComponent=newRecorderComponent();
  choicesComponent=newChoicesComponent();
  selectionComponent=newSelectionComponent();
  newAddComponent();
  newRemoveComponent();
  newUpComponent().setVisible(allowOrder);
  newDownComponent().setVisible(allowOrder);
  newAvailableHeader(AVAILABLE_HEADER_ID);
  newSelectedHeader(SELECTED_HEADER_ID);
  add(HeaderContributor.forJavaScript(JAVASCRIPT));
  HeaderContributor css=getCss();
  if (css != null) {
    add(css);
  }
}
