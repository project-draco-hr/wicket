{
  RequestCycleContext context=new RequestCycleContext(request,response,getRootRequestMapper(),getExceptionMapperProvider().get());
  RequestCycle requestCycle=getRequestCycleProvider().get(context);
  requestCycle.getListeners().add(new AbstractRequestCycleListener(){
    @Override public void onDetach(    final RequestCycle requestCycle){
      Session.get().getPageManager().commitRequest();
    }
    @Override public void onEndRequest(    RequestCycle cycle){
      if (Application.exists()) {
        IRequestLogger requestLogger=Application.get().getRequestLogger();
        if (requestLogger != null) {
          requestLogger.requestTime((System.currentTimeMillis() - cycle.getStartTime()));
        }
      }
    }
  }
);
  requestCycle.getListeners().add(requestCycleListeners);
  return requestCycle;
}
