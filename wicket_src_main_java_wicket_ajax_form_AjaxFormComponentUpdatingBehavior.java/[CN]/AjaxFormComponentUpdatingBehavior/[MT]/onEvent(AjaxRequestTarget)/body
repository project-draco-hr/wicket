{
  final FormComponent formComponent=getFormComponent();
  boolean callOnUpdate=true;
  try {
    formComponent.inputChanged();
    formComponent.validate();
    if (formComponent.hasErrorMessage()) {
      formComponent.invalid();
      onError(target,null);
    }
 else {
      formComponent.valid();
      formComponent.updateModel();
    }
  }
 catch (  RuntimeException e) {
    callOnUpdate=false;
    onError(target,e);
  }
  if (callOnUpdate) {
    onUpdate(target);
  }
}
