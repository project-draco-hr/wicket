{
  if (component instanceof BookmarkablePageLink) {
    final Class clazz=((BookmarkablePageLink)component).getPageClass();
    renderParameters.put(PortletRequestCodingStrategy.PAGEMAP,PageMap.DEFAULT_NAME);
    renderParameters.put(PortletRequestCodingStrategy.BOOKMARKABLE_PAGE_PARAMETER_NAME,clazz.getName());
  }
 else {
    int version=component.getPage().getCurrentVersionNumber();
    Class clazz=null;
    if (component instanceof IRedirectListener) {
      clazz=IRedirectListener.class;
    }
 else     if (component instanceof IResourceListener) {
      clazz=IResourceListener.class;
    }
 else     if (component instanceof IFormSubmitListener) {
      clazz=IFormSubmitListener.class;
    }
 else     if (component instanceof ILinkListener) {
      clazz=ILinkListener.class;
    }
 else     if (component instanceof IOnChangeListener) {
      clazz=IOnChangeListener.class;
    }
 else {
      throw new IllegalArgumentException("The component class doesn't seem to implement any of the known *Listener Interfaces: " + component.getClass());
    }
    renderParameters.put(PortletRequestCodingStrategy.VERSION_PARAMETER_NAME,version == 0 ? "" : "" + version);
    renderParameters.put(PortletRequestCodingStrategy.COMPONENT_PATH_PARAMETER_NAME,component.getPath());
    renderParameters.put(PortletRequestCodingStrategy.INTERFACE_PARAMETER_NAME,Classes.simpleName(clazz));
    renderParameters.put(PortletRequestCodingStrategy.PAGEMAP,PageMap.DEFAULT_NAME);
  }
}
