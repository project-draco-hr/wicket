{
  TreeStateNode aChild;
  int maxCounter=getChildCount();
  for (int counter=0; counter < maxCounter; counter++) {
    aChild=(TreeStateNode)getChildAt(counter);
    if (aChild.childIndex >= index) {
      if (isExpandedAndVisible) {
        adjustRowBy(1,counter);
        adjustRowCountBy(1);
      }
      for (; counter < maxCounter; counter++) {
        ((TreeStateNode)getChildAt(counter)).childIndex++;
      }
      childCount++;
      return;
    }
  }
  if (isExpandedAndVisible) {
    adjustRowBy(1,maxCounter);
    adjustRowCountBy(1);
  }
  childCount++;
}
