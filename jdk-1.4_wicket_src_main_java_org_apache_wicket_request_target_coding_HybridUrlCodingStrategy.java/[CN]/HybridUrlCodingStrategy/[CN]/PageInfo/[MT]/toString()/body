{
  AppendingStringBuffer buffer=new AppendingStringBuffer(5);
  final boolean pmEmpty=Strings.isEmpty(pageMapName);
  final boolean pmStartsWithCharacter=!pmEmpty && Character.isLetter(pageMapName.charAt(0));
  if (pageId != null && pmEmpty && versionNumber.intValue() == 0) {
    buffer.append(pageId);
  }
 else   if (pageId != null && pmEmpty && versionNumber.intValue() != 0) {
    buffer.append(pageId);
    buffer.append(getPageInfoSeparator());
    buffer.append(versionNumber);
  }
 else   if (pageId == null && pmStartsWithCharacter) {
    buffer.append(pageMapName);
  }
 else   if (pageId == null && !pmEmpty && !pmStartsWithCharacter) {
    buffer.append(getPageInfoSeparator());
    buffer.append(pageMapName);
  }
 else   if (pmStartsWithCharacter && pageId != null && versionNumber.intValue() == 0) {
    buffer.append(pageMapName);
    buffer.append(getPageInfoSeparator());
    buffer.append(pageId);
  }
 else   if (!pmEmpty && pageId != null) {
    buffer.append(pageMapName);
    buffer.append(getPageInfoSeparator());
    buffer.append(pageId);
    buffer.append(getPageInfoSeparator());
    buffer.append(versionNumber);
  }
  return buffer.toString();
}
