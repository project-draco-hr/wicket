{
  boolean add=true;
  int id=entry.getNumericId();
  for (int i=accessStack.size() - 1; i >= 0; i--) {
    final Access access=(Access)accessStack.get(i);
    if (access.id == id && access.version == version) {
      add=false;
      while (i < accessStack.size() - 1) {
        final Access topAccess=popAccess();
        final IPageMapEntry top=getEntry(topAccess.getId());
        if (top instanceof Page) {
          Page topPage=(Page)top;
          if (topPage.getVersions() > 1) {
            topPage.getVersion(topAccess.getVersion() - 1);
          }
 else           if (topPage.getNumericId() != access.id && topPage.getCurrentVersionNumber() != access.version) {
            remove(topPage);
          }
        }
 else         if (top != null) {
          removeEntry(top);
        }
      }
      break;
    }
  }
  if (add) {
    pushAccess(entry);
  }
}
