{
  Collection selectedValues=(Collection)getModelObject();
  if (selectedValues != null) {
    selectedValues.clear();
  }
 else {
    selectedValues=new ArrayList();
    setModelObject(selectedValues);
  }
  final String[] ids=inputAsStringArray();
  if (ids != null && ids.length > 0 && !Strings.isEmpty(ids[0])) {
    final IChoiceList choices=getChoices();
    for (int i=0; i < ids.length; i++) {
      final IChoice choice=choices.choiceForId(ids[i]);
      selectedValues.add(choice.getObject());
    }
  }
}
