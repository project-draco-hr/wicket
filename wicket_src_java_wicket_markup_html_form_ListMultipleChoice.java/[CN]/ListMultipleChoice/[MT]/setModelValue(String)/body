{
  Collection selectedValues=(Collection)getModelObject();
  if (selectedValues == null) {
    selectedValues=new ArrayList();
    setModelObject(selectedValues);
  }
 else {
    selectedValues.clear();
  }
  final Collection choices=getChoices();
  for (final StringTokenizer tokenizer=new StringTokenizer(value,";"); tokenizer.hasMoreTokens(); ) {
    String selected=tokenizer.nextToken();
    Iterator it=getChoices().iterator();
    int index=-1;
    while (it.hasNext()) {
      index++;
      Object object=it.next();
      if (getChoiceRenderer().getIdValue(object,index).equals(selected)) {
        selectedValues.add(object);
        break;
      }
    }
  }
}
