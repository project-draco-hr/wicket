{
  Collection selectedValues=(Collection)getModelObject();
  if (selectedValues == null) {
    selectedValues=new ArrayList();
    setModelObject(selectedValues);
  }
 else {
    selectedValues.clear();
  }
  final List choices=getChoices();
  for (final StringTokenizer tokenizer=new StringTokenizer(value,";"); tokenizer.hasMoreTokens(); ) {
    String selected=tokenizer.nextToken();
    for (int index=0; index < choices.size(); index++) {
      final Object choice=choices.get(index);
      if (getChoiceRenderer().getIdValue(choice,index).equals(selected)) {
        selectedValues.add(choice);
        break;
      }
    }
  }
}
