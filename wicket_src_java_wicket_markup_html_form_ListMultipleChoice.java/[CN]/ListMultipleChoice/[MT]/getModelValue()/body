{
  final Collection selectedValues=(Collection)getModelObject();
  final AppendingStringBuffer buffer=new AppendingStringBuffer();
  if (selectedValues != null) {
    final List choices=getChoices();
    for (final Iterator iterator=selectedValues.iterator(); iterator.hasNext(); ) {
      final Object object=iterator.next();
      int index=choices.indexOf(object);
      buffer.append(getChoiceRenderer().getIdValue(object,index));
      buffer.append(VALUE_SEPARATOR);
    }
  }
  return buffer.toString();
}
