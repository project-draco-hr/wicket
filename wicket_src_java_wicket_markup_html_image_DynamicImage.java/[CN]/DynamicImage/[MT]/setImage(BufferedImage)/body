{
  try {
    final ByteArrayOutputStream out=new ByteArrayOutputStream();
    final ImageWriter writer=(ImageWriter)ImageIO.getImageWritersByFormatName(extension).next();
    writer.setOutput(ImageIO.createImageOutputStream(out));
    writer.write(image);
    this.inputStream=new ByteArrayInputStream(out.toByteArray());
  }
 catch (  IOException e) {
    throw new RenderException("Unable to convert dynamic image to stream",e);
  }
  return this;
}
