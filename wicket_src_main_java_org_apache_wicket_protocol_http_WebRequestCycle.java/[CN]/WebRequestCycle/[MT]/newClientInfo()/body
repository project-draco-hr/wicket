{
  if (getApplication().getRequestCycleSettings().getGatherExtendedBrowserInfo()) {
    Session session=getSession();
    if (session.getMetaData(BROWSER_WAS_POLLED_KEY) == null) {
      session.setMetaData(BROWSER_WAS_POLLED_KEY,Boolean.TRUE);
      String url="/" + getRequest().getUrl();
      throw new RestartResponseException(newBrowserInfoPage(url));
    }
    session.setMetaData(BROWSER_WAS_POLLED_KEY,(Boolean)null);
  }
  return new WebClientInfo(this);
}
