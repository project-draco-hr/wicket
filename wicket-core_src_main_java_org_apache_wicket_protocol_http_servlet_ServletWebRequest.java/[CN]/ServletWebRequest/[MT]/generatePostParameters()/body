{
  if (isMultiPart(getContainerRequest())) {
    return Collections.emptyMap();
  }
  Map<String,List<StringValue>> postParameters=new HashMap<String,List<StringValue>>();
  try {
    final BufferedReader reader=getContainerRequest().getReader();
    final String value=Streams.readString(reader);
    if (!Strings.isEmpty(value)) {
      final Url url=Url.parse("?" + value,getCharset());
      for (      final QueryParameter q : url.getQueryParameters()) {
        List<StringValue> list=postParameters.get(q.getName());
        if (list == null) {
          list=new ArrayList<StringValue>();
          postParameters.put(q.getName(),list);
        }
        list.add(StringValue.valueOf(q.getValue()));
      }
    }
  }
 catch (  final Exception e) {
    logger.warn("Error parsing request body for post parameters; Fallback to ServletRequest#getParameters().",e);
    for (    final String name : (List<String>)Collections.list(getContainerRequest().getParameterNames())) {
      List<StringValue> list=postParameters.get(name);
      if (list == null) {
        list=new ArrayList<StringValue>();
        postParameters.put(name,list);
      }
      for (      final String value : getContainerRequest().getParameterValues(name)) {
        list.add(StringValue.valueOf(value));
      }
    }
  }
  return postParameters;
}
