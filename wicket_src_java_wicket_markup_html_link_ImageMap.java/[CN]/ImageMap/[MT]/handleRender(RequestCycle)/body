{
  final MarkupStream markupStream=findMarkupStream();
  final ComponentTag tag=markupStream.getTag().mutable();
  checkTag(tag,"img");
  tag.put("usemap","#" + getPath());
  renderTag(cycle,markupStream,tag);
  final StringBuffer imageMap=new StringBuffer();
  imageMap.append("\n<map name=\"" + getPath() + "\"> ");
  for (Iterator iterator=shapeLinks.iterator(); iterator.hasNext(); ) {
    final ShapeLink shapeLink=(ShapeLink)iterator.next();
    imageMap.append('\n');
    imageMap.append(shapeLink.toString(cycle));
  }
  imageMap.append("\n</map>");
  cycle.getResponse().write(imageMap.toString());
}
