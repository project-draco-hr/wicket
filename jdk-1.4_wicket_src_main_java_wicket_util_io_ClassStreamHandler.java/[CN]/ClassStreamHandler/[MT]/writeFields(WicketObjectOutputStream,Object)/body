{
  FieldAndIndex fai=null;
  try {
    for (int i=0; i < fields.size(); i++) {
      fai=(FieldAndIndex)fields.get(i);
      fai.writeField(obj,woos);
    }
  }
 catch (  WicketSerializeableException wse) {
    wse.addTrace(fai.field.getName());
    throw wse;
  }
catch (  Exception ex) {
    throw new WicketSerializeableException("Error writing field: " + fai.field.getName() + " for object class: "+ obj.getClass(),ex);
  }
}
