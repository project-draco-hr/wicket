{
  if (!storeAfterSessionReplication() || serializable instanceof Page2) {
    return serializable;
  }
 else   if (serializable instanceof SerializedPage) {
    SerializedPage page=(SerializedPage)serializable;
    if (page.getData() != null) {
      storePageData(page.getSessionId(),page.getPageId(),page.getData());
      return new SerializedPage(page.getSessionId(),page.getPageId(),null);
    }
 else {
      return page;
    }
  }
 else   if (serializable == null) {
    return null;
  }
 else {
    String type=serializable != null ? serializable.getClass().getName() : null;
    throw new IllegalArgumentException("Unknown object type " + type);
  }
}
