{
  super.onDetach();
  if (queue != null && !queue.isEmpty()) {
    throw new WicketRuntimeException("Detach called on component: " + getId() + " while it had a non-empty queue");
  }
  queue=null;
}
