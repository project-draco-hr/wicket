{
  if (!component.isAuto() && getFlag(FLAG_IS_RENDERING)) {
    throw new WicketRuntimeException("Cannot modify component hierarchy during render phase");
  }
 else   if (getFlag(FLAG_ATTACHING)) {
    throw new WicketRuntimeException("Cannot modify component hierarchy during attach phase");
  }
}
