{
  Form form=new Form("form");
  add(form);
  final AutoCompleteTextField field=new AutoCompleteTextField("ac",new Model("")){
    protected Iterator getChoices(    String input){
      if (Strings.isEmpty(input)) {
        return Collections.EMPTY_LIST.iterator();
      }
      List choices=new ArrayList(10);
      Locale[] locales=Locale.getAvailableLocales();
      for (int i=0; i < locales.length; i++) {
        final Locale locale=locales[i];
        final String country=locale.getDisplayCountry();
        if (country.toUpperCase().startsWith(input.toUpperCase())) {
          choices.add(country);
          if (choices.size() == 10) {
            break;
          }
        }
      }
      return choices.iterator();
    }
  }
;
  form.add(field);
  final Label label=new Label("selectedValue",field.getModel());
  label.setOutputMarkupId(true);
  form.add(label);
  field.add(new AjaxFormSubmitBehavior(form,"onchange"){
    protected void onSubmit(    AjaxRequestTarget target){
      target.addComponent(label);
    }
  }
);
}
