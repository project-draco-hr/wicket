{
  super(id);
  if (resourceReference == null) {
    throw new NullPointerException("resourceReference may not be null");
  }
  if (attributeToReplace == null) {
    throw new NullPointerException("attributeToReplace may not be null");
  }
  IModel srcReplacement=new Model(){
    public Object getObject(    Component component){
      Object o=resourceReference.getObject(component);
      if (o == null) {
        throw new NullPointerException("the model must provide a non-null object (component == " + component + ")");
      }
      if (!(o instanceof ResourceReference)) {
        throw new WicketRuntimeException("the model must provide an instance of ResourceReference");
      }
      ResourceReference ref=(ResourceReference)o;
      String url=getPage().urlFor(ref.getPath());
      return url;
    }
  }
;
  add(new AttributeModifier(attributeToReplace,true,srcReplacement));
}
