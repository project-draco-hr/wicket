{
  super.setUp();
  application=new MockHttpApplication(null);
  application.getSettings().setHomePage(MockPage.class);
  application.setupRequestAndResponse();
  this.panel=new SignInPanel("panel"){
    public String signIn(    final RequestCycle cycle,    final String username,    final String password){
      return null;
    }
  }
;
  this.panel.setPersistent(true);
  this.form=(Form)panel.get("signInForm");
  final String encryptedPassword=application.getSettings().getCryptInstance().encryptStringToString("test");
  this.cookieUsername=new Cookie("panel.signInForm.username","juergen");
  this.cookiePassword=new Cookie("panel.signInForm.password",encryptedPassword);
  this.cookies=new Cookie[]{cookieUsername,cookiePassword};
  application.getServletRequest().setCookies(cookies);
  cycle=new HttpRequestCycle(application,application.getWicketSession(),application.getWicketRequest(),application.getWicketResponse());
  this.page=new MockPage(null);
  page.add(this.panel);
}
