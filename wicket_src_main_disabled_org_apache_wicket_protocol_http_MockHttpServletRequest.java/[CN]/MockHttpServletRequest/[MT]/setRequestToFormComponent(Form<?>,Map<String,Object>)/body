{
  setRequestToComponent(form);
  final Map<String,Object> valuesApplied=new HashMap<String,Object>();
  form.visitChildren(FormComponent.class,new IVisitor<FormComponent<?>>(){
    public Object component(    final FormComponent<?> component){
      String value=(String)values.get(component);
      if (value != null) {
        parameters.put(component.getInputName(),values.get(component));
        valuesApplied.put(component.getId(),component);
      }
      return CONTINUE_TRAVERSAL;
    }
  }
);
  if (values.size() != valuesApplied.size()) {
    Map<String,Object> diff=new HashMap<String,Object>();
    diff.putAll(values);
    Iterator<String> iter=valuesApplied.keySet().iterator();
    while (iter.hasNext()) {
      diff.remove(iter.next());
    }
    log.error("Parameter mismatch: didn't find all components referenced in parameter 'values': " + diff.keySet());
  }
}
