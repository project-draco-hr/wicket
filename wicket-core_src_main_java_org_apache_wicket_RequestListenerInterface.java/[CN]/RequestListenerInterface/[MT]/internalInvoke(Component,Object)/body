{
  Boolean frozen=null;
  Page page=component.getPage();
  if (isAjax(component)) {
    frozen=page.setFreezePageId(true);
  }
  if (!page.isInitialized()) {
    page.internalInitialize();
  }
  try {
    method.invoke(target);
  }
 catch (  InvocationTargetException e) {
    if (e.getTargetException() instanceof ReplaceHandlerException || e.getTargetException() instanceof AuthorizationException || e.getTargetException() instanceof WicketRuntimeException) {
      throw (RuntimeException)e.getTargetException();
    }
    throw new WicketRuntimeException("Method " + method.getName() + " of "+ method.getDeclaringClass()+ " targeted at "+ target+ " on component "+ component+ " threw an exception",e);
  }
catch (  Exception e) {
    throw new WicketRuntimeException("Method " + method.getName() + " of "+ method.getDeclaringClass()+ " targeted at "+ target+ " on component "+ component+ " threw an exception",e);
  }
 finally {
    if (frozen != null) {
      page.setFreezePageId(frozen);
    }
  }
}
