{
  MockWebApplication application=new MockWebApplication(null);
  application.getRequiredPageSettings().setHomePage(SimpleTablePage.class);
  application.setupRequestAndResponse();
  application.processRequestCycle();
  SimpleTablePage page=(SimpleTablePage)application.getLastRenderedPage();
  String document=application.getServletResponse().getDocument();
  assertTrue(validateDocument(document));
  ListView view=(ListView)application.getLastRenderedPage().get("table");
  assertNotNull(view);
  application.rerender(view);
  document=application.getServletResponse().getDocument();
  assertNotNull(document);
  assertFalse("".equals(document));
  assertEquals("<li wicket:id=\"table\"><span wicket:id=\"txt\">one</span></li><li wicket:id=\"table\"><span wicket:id=\"txt\">two</span></li><li wicket:id=\"table\"><span wicket:id=\"txt\">three</span></li>",document);
}
