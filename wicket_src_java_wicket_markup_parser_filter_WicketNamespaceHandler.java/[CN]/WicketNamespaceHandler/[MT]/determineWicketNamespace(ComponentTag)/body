{
  final ValueMap attributes=tag.getAttributes();
  final Iterator it=attributes.entrySet().iterator();
  while (it.hasNext()) {
    final Map.Entry entry=(Map.Entry)it.next();
    final String attributeName=(String)entry.getKey();
    if (attributeName.startsWith(XMLNS)) {
      final String xmlnsUrl=(String)entry.getValue();
      if ((xmlnsUrl == null) || (xmlnsUrl.trim().length() == 0) || xmlnsUrl.startsWith(WICKET_URI)) {
        String namespace=attributeName.substring(XMLNS.length());
        if (Application.get().getMarkupSettings().getStripWicketTags()) {
          attributes.remove(attributeName);
          tag.setModified(true);
        }
        return namespace;
      }
    }
  }
  return null;
}
