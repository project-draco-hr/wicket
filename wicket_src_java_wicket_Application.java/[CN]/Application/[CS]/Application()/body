{
  this.name=Classes.simpleName(getClass());
  this.markupCache=new MarkupCache(this);
  this.sharedResources=new SharedResources(this);
  getPageSettings().addComponentResolver(new ParentResolver());
  getPageSettings().addComponentResolver(new AutoComponentResolver());
  getPageSettings().addComponentResolver(new MarkupInheritanceResolver());
  getPageSettings().addComponentResolver(new HtmlHeaderResolver());
  getPageSettings().addComponentResolver(new WicketLinkResolver());
  getPageSettings().addComponentResolver(new WicketMessageResolver());
  getResourceSettings().addResourceFactory("buttonFactory",new DefaultButtonImageResourceFactory());
  addComponentInstantiationListener(new IComponentInstantiationListener(){
    /** 
 * @see wicket.application.IComponentInstantiationListener#onInstantiation(wicket.Component)
 */
    public void onInstantiation(    final Component component){
      if (!Session.get().getAuthorizationStrategy().isInstantiationAuthorized(component.getClass())) {
        getSecuritySettings().getUnauthorizedComponentInstantiationListener().onUnauthorizedInstantiation(component);
      }
    }
  }
);
}
