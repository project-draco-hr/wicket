{
  if (log.isDebugEnabled()) {
    log.debug("Attempting to locate resource '" + path + "' using classloader the servlet context");
  }
  String location;
  if (clazz == AlternativePageFromWebContext.class) {
    String extension=path.substring(path.lastIndexOf('.') + 1);
    String simpleFileName=Strings.lastPathComponent(clazz.getName(),'.');
    location="/WEB-INF/templates/" + simpleFileName + "."+ extension;
  }
 else {
    location="/WEB-INF/templates/" + path;
  }
  URL url;
  try {
    url=getServletContext().getResource(location);
    if (url != null) {
      return new UrlResourceStream(url);
    }
  }
 catch (  MalformedURLException e) {
    throw new WicketRuntimeException(e);
  }
  return super.locate(clazz,path);
}
