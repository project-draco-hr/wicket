{
  String href=tag.getString("href");
  if (href.charAt(0) != '/') {
    WebRequestCycle hcycle=(WebRequestCycle)getRequestCycle();
    String requestUrl=((WebRequest)hcycle.getRequest()).getHttpServletRequest().getRequestURL().toString();
    String urlPrefix=getPage().urlFor("");
    int idx=requestUrl.indexOf(urlPrefix);
    if (idx > 0) {
      urlPrefix=requestUrl.substring(0,idx + urlPrefix.length());
      href=urlPrefix + "/" + href;
    }
    tag.put("href",href);
  }
  super.onComponentTag(tag);
}
