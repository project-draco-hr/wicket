{
  String prefix=urlPrefix(requestCycle);
  String relativePath=resourceReference.getRelativeUrl();
  if ((relativePath == null) || (relativePath.trim().length() == 0)) {
    return prefix;
  }
 else {
    if (prefix.endsWith("/") || relativePath.startsWith("/")) {
      return prefix + relativePath;
    }
    return prefix + "/" + relativePath;
  }
}
