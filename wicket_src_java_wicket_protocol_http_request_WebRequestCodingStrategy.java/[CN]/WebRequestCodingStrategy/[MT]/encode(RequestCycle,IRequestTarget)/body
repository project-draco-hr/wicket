{
  IRequestTargetUrlCodingStrategy encoder=getMountEncoder(requestTarget);
  if (encoder != null) {
    final StringBuffer prefix=new StringBuffer(urlPrefix(requestCycle));
    return prefix.append(pathForTarget(requestTarget)).toString();
  }
  if (requestTarget instanceof IBookmarkablePageRequestTarget) {
    return encode(requestCycle,(IBookmarkablePageRequestTarget)requestTarget);
  }
 else   if (requestTarget instanceof IListenerInterfaceRequestTarget) {
    return encode(requestCycle,(IListenerInterfaceRequestTarget)requestTarget);
  }
 else   if (requestTarget instanceof IPageRequestTarget) {
    return encode(requestCycle,(IPageRequestTarget)requestTarget);
  }
  String url=doEncode(requestCycle,requestTarget);
  if (url != null) {
    return url;
  }
  throw new WicketRuntimeException("unable to encode " + requestTarget);
}
