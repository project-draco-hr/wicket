{
  final FeedbackMessage message=(FeedbackMessage)listItem.getModelObject();
  IModel replacementModel=new AbstractModel(){
    /** 
 * Returns feedbackPanel + the message level, eg
 * 'feedbackPanelERROR'. This is used as the class of the li /
 * span elements.
 * @see wicket.model.IModel#getObject(Component)
 */
    public Object getObject(    final Component component){
      return "feedbackPanel" + message.getLevelAsString();
    }
    /** 
 * @see wicket.model.IModel#setObject(Component,Object)
 */
    public void setObject(    final Component component,    final Object object){
    }
    public Object getNestedModel(){
      return message;
    }
  }
;
  final Label label=new Label("message",message.getMessage());
  final AttributeModifier levelModifier=new AttributeModifier("class",replacementModel);
  label.add(levelModifier);
  listItem.add(levelModifier);
  listItem.add(label);
}
