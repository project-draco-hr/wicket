{
  boolean hit=false;
  final Iterator<Book> iter=idToBook.values().iterator();
  while (iter.hasNext()) {
    final Book value=iter.next();
    if (value.toString().equals(book.toString())) {
      book.id=value.id;
      hit=true;
      break;
    }
  }
  if (hit == false) {
    idToBook.put(book.id,book);
  }
}
