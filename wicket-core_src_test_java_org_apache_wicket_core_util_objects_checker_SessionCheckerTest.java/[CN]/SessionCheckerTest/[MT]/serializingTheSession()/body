{
  JavaSerializer serializer=new JavaSerializer("JavaSerializerTest"){
    @Override protected ObjectOutputStream newObjectOutputStream(    OutputStream out) throws IOException {
      IObjectChecker checker=new SessionChecker();
      return new CheckingObjectOutputStream(out,checker);
    }
  }
;
  WebComponent component=new ComponentWithAReferenceToTheSession("id");
  byte[] serialized=serializer.serialize(component);
  assertNull("The produced byte[] must be null if there was an error",serialized);
}
