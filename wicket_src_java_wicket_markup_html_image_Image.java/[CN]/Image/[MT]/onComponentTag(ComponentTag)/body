{
  if (imageResource == null) {
    final String modelString=getModelObjectAsString();
    final String resourcePath;
    if (Strings.isEmpty(modelString)) {
      resourcePath=tag.getString("src");
    }
 else {
      resourcePath=modelString;
    }
    final Package basePackage=findParentWithAssociatedMarkup().getClass().getPackage();
    this.imageResource=StaticImageResource.get(getClass().getClassLoader(),basePackage,resourcePath,getLocale(),getStyle());
  }
  super.onComponentTag(tag);
}
