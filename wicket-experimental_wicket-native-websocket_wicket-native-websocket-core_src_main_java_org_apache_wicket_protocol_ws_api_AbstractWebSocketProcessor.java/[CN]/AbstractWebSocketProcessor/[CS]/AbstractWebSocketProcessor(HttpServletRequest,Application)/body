{
  this.sessionId=request.getSession(true).getId();
  Session.get().bind();
  String pageId=request.getParameter("pageId");
  Checks.notEmpty(pageId,"Request parameter 'pageId' is required!");
  this.pageId=Integer.parseInt(pageId,10);
  this.webRequest=new WebSocketRequest(new ServletRequestCopy(request));
  this.application=Args.notNull(application,"application");
  IWebSocketSettings webSocketSettings=IWebSocketSettings.HOLDER.get(application);
  this.connectionRegistry=webSocketSettings.getConnectionRegistry();
}
