{
  final TreeState treeState=new TreeState();
  final TreeSelectionModel treeSelectionModel=new DefaultTreeSelectionModel();
  treeSelectionModel.setSelectionMode(TreeSelectionModel.DISCONTIGUOUS_TREE_SELECTION);
  treeState.setModel(treeModel);
  treeState.setSelectionModel(treeSelectionModel);
  treeState.setRootVisible(rootVisible);
  treeModel.addTreeModelListener(treeState);
  return treeState;
}
