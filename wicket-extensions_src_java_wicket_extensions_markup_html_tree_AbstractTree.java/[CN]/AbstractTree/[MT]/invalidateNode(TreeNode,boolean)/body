{
  TreeItem item=(TreeItem)nodeToItemMap.get(node);
  if (forceRebuld) {
    int level=item.getLevel();
    List children=item.getChildren();
    String id=item.getId();
    TreeItem parent=item.getParentItem();
    int index=parent != null ? parent.getChildren().indexOf(item) : -1;
    item.remove();
    item=newTreeItem(node,level,id);
    itemContainer.add(item);
    item.setChildren(children);
    if (parent != null) {
      parent.getChildren().set(index,item);
    }
  }
  if (item != null)   dirtyItems.add(item);
}
