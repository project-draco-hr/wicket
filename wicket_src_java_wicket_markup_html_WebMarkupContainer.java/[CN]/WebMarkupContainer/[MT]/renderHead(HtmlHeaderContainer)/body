{
  WebMarkupContainer headerPart=getHeaderPart();
  if ((headerPart != null) && (container.get(headerPart.getId()) == null)) {
    container.autoAdd(headerPart);
    checkBodyOnLoad();
  }
 else   if (headerPart != null) {
    Response response=getRequestCycle().getResponse();
    try {
      getRequestCycle().setResponse(NullResponse.getInstance());
      container.autoAdd(headerPart);
    }
  finally {
      getRequestCycle().setResponse(response);
    }
  }
  List behaviours=getBehaviours();
  for (Iterator i=behaviours.iterator(); i.hasNext(); ) {
    IBehaviour behaviour=(IBehaviour)i.next();
    if (behaviour instanceof IHeaderContributor) {
      ((IHeaderContributor)behaviour).renderHead(container);
    }
    if (behaviour instanceof IBodyOnloadContributor) {
      String stmt=((IBodyOnloadContributor)behaviour).getBodyOnload();
      if (stmt != null) {
        ((WebPage)getPage()).appendToBodyOnLoad(stmt);
      }
    }
  }
}
