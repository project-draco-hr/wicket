{
  super(componentName);
  this.data=new ArrayList();
  this.data.addAll(data);
  add(new SortableTableHeaders("header",data,"rows",true){
    protected int compareTo(    SortableTableHeader header,    Object o1,    Object o2){
      if (header.getName().equals("id")) {
        return ((ListObject)o1).getId() - ((ListObject)o2).getId();
      }
      return super.compareTo(header,o1,o2);
    }
    protected Comparable getObjectToCompare(    final SortableTableHeader header,    final Object object){
      final String name=header.getName();
      if (name.equals("name")) {
        return ((ListObject)object).getName();
      }
      if (name.equals("email")) {
        return ((ListObject)object).getEmail();
      }
      if (name.equals("status")) {
        return ((ListObject)object).getStatus();
      }
      if (name.equals("comment")) {
        return ((ListObject)object).getDescription();
      }
      return "";
    }
  }
);
  final PagedTableWithAlternatingRowStyle table=new PagedTableWithAlternatingRowStyle("rows",data,10){
    public void populateItem(    final ListItem listItem){
      super.populateItem(listItem);
      final ListObject value=(ListObject)listItem.getModelObject();
      listItem.add(new Label("id",new Integer(value.getId())));
      listItem.add(new Label("name",value.getName()));
      listItem.add(new Label("email",value.getEmail()));
      listItem.add(new Label("status",value.getStatus()));
      listItem.add(new Label("comments",value.getDescription()));
    }
  }
;
  add(table);
  add(new Label("headline",null){
    protected void handleBody(    final RequestCycle cycle,    final MarkupStream markupStream,    final ComponentTag openTag){
      int firstCell=table.getCurrentPage() * table.getRowsPerPage();
      String text=String.valueOf(data.size()) + " items found, displaying " + String.valueOf(firstCell + 1)+ " to "+ String.valueOf(firstCell + table.getRowsPerPage())+ ".";
      replaceBody(cycle,markupStream,openTag,text);
    }
  }
);
  final TableNavigation tableNavigation=new TableNavigation("navigation",table);
  add(tableNavigation);
  add(new TableNavigationLink("first",table,0));
  add(new TableNavigationIncrementLink("prev",table,-1));
  add(new TableNavigationIncrementLink("next",table,1));
  add(new TableNavigationLink("last",table,table.getPageCount() - 1));
}
