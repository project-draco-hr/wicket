{
  PrependingStringBuffer buffer=new PrependingStringBuffer(url);
  for (int i=0; i < baseUrl.getSegments().size() - 1; ++i) {
    buffer.prepend("../");
  }
  buffer.prepend(request.getPrefixToContextPath());
  return buffer.toString();
}
