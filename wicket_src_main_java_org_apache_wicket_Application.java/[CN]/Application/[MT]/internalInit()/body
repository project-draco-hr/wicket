{
  settingsAccessible=true;
  IPageSettings pageSettings=getPageSettings();
  pageSettings.addComponentResolver(new AutoComponentResolver());
  pageSettings.addComponentResolver(new MarkupInheritanceResolver());
  pageSettings.addComponentResolver(new HtmlHeaderResolver());
  pageSettings.addComponentResolver(new WicketLinkTagHandler());
  pageSettings.addComponentResolver(new WicketMessageResolver());
  pageSettings.addComponentResolver(new WicketMessageTagHandler());
  pageSettings.addComponentResolver(new FragmentResolver());
  pageSettings.addComponentResolver(new RelativePathPrefixHandler());
  pageSettings.addComponentResolver(new EnclosureHandler());
  pageSettings.addComponentResolver(new WicketContainerResolver());
  getResourceSettings().addResourceFactory("buttonFactory",new DefaultButtonImageResourceFactory());
  String applicationKey=getApplicationKey();
  applicationKeyToApplication.put(applicationKey,this);
  converterLocator=newConverterLocator();
  setPageManagerProvider(new DefaultPageManagerProvider(this,getPageManagerContext()));
  resourceReferenceRegistry=newResourceReferenceRegistry();
  sharedResources=newSharedResources(resourceReferenceRegistry);
  setRootRequestMapper(new SystemMapper(this));
  pageFactory=newPageFactory();
  requestCycleProvider=new DefaultRequestCycleProvider();
}
