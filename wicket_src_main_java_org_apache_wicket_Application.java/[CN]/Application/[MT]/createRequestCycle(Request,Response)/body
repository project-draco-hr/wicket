{
  RequestCycleContext context=new RequestCycleContext(request,response,getRootRequestMapper(),newExceptionMapper());
  RequestCycle requestCycle=getRequestCycleProvider().get(context);
  requestCycle.register(new RequestCycle.DetachCallback(){
    public void onDetach(    RequestCycle requestCycle){
      getPageManager().commitRequest();
    }
  }
);
  return requestCycle;
}
