{
  final String localeKeyPart=(locale != null) ? locale.toString() : "";
  final String localeStylePart=(style != null) ? style : "";
  final String key=classLoader.toString() + basePackage.getName() + resourcePath+ localeKeyPart+ localeStylePart;
synchronized (imageResourceMap) {
    StaticImageResource imageResource=(StaticImageResource)imageResourceMap.get(key);
    if (imageResource == null) {
      imageResource=new StaticImageResource(classLoader,basePackage,resourcePath,locale,style);
      imageResourceMap.put(key,imageResource);
    }
    return imageResource;
  }
}
