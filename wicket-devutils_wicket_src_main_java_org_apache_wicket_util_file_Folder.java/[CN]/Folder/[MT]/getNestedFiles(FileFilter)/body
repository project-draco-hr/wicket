{
  final List<File> files=new ArrayList<File>();
  files.addAll(Arrays.asList(getFiles(filter)));
  final Folder[] folders=getFolders();
  for (int i=0; i < folders.length; i++) {
    files.addAll(Arrays.asList(folders[i].getNestedFiles(filter)));
  }
  return files.toArray(new File[files.size()]);
}
