{
  IMarkupFragment markup=getAssociatedMarkup();
  if (markup == null) {
    throw new MarkupException("Unable to find associated markup file for Border: " + this.toString());
  }
  int i;
  for (i=0; i < markup.size(); i++) {
    MarkupElement elem=markup.get(i);
    if (elem instanceof WicketTag) {
      WicketTag tag=(WicketTag)elem;
      if (tag.isBorderTag()) {
        break;
      }
    }
  }
  if (child == null) {
    return new MarkupFragment(markup,i);
  }
  IMarkupFragment childMarkup=null;
  if (child == body) {
    childMarkup=markup.find(BODY_ID,i);
    if (childMarkup != null) {
      return childMarkup;
    }
  }
  childMarkup=markup.find(child.getId(),i);
  if (childMarkup != null) {
    return childMarkup;
  }
  return findMarkupInAssociatedFileHeader(markup,child);
}
