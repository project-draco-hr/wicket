{
  final String extensionString;
  if (extension == null) {
    extensionString="." + Strings.lastPathComponent(path,'.');
    path=Strings.beforeLastPathComponent(path,'.');
  }
 else {
    if (extension.startsWith(".")) {
      extensionString=extension;
    }
 else {
      extensionString="." + extension;
    }
  }
  int index=path.indexOf("/");
  if (index == -1) {
    path=path.replace('.','/');
  }
  return locator.locate(path,style,locale,extensionString);
}
