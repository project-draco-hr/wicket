{
  Application application=Application.get();
  RequestCycle originalRequestCycle=RequestCycle.get();
  BufferedWebResponse tempResponse=new BufferedWebResponse(null);
  RequestCycleContext requestCycleContext=new RequestCycleContext(originalRequestCycle.getRequest(),tempResponse,application.getRootRequestMapper(),application.getExceptionMapperProvider().get());
  RequestCycle tempRequestCycle=new RequestCycle(requestCycleContext);
  try {
    ThreadContext.setRequestCycle(tempRequestCycle);
    pageProvider.getPageInstance().renderPage();
  }
  finally {
    ThreadContext.setRequestCycle(originalRequestCycle);
  }
  return tempResponse.getText();
}
