{
  final String upload=attributes.getParameters().get(UPLOAD_PARAMETER).toString();
  final HttpServletRequest req=(HttpServletRequest)attributes.getRequest().getContainerRequest();
  UploadInfo info=MultipartServletWebRequestImpl.getUploadInfo(req,upload);
  String status=null;
  if ((info == null) || (info.getTotalBytes() < 1)) {
    status="100|";
  }
 else {
    status=info.getPercentageComplete() + "|" + new StringResourceModel(RESOURCE_STATUS,(Component)null,Model.of(info)).getString();
  }
  return status;
}
