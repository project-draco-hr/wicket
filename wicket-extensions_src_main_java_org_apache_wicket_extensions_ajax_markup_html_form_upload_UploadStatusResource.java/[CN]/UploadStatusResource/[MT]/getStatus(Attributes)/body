{
  final HttpServletRequest req=(HttpServletRequest)attributes.getRequest().getContainerRequest();
  UploadInfo info=MultipartServletWebRequestImpl.getUploadInfo(req);
  String status=null;
  if ((info == null) || (info.getTotalBytes() < 1)) {
    status="100|";
  }
 else {
    status=info.getPercentageComplete() + "|" + new StringResourceModel(RESOURCE_STATUS,(Component)null,Model.of(info),"${percentageComplete}% finished, ${bytesUploadedString} of ${totalBytesString} at ${transferRateString}; ${remainingTimeString}").getString();
  }
  return status;
}
