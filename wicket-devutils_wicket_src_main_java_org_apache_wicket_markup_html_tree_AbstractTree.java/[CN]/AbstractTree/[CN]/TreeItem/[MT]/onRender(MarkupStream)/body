{
  if (this == rootItem && isRootLess() == true) {
    String tagName=((ComponentTag)markupStream.get()).getName();
    getResponse().write("<" + tagName + " style=\"display:none\" id=\""+ getMarkupId()+ "\"></"+ tagName+ ">");
    markupStream.skipComponent();
  }
 else {
    final int index=markupStream.getCurrentIndex();
    super.onRender(markupStream);
    if (isRenderChildren()) {
      visitItemChildren(this,new IItemCallback(){
        public void visitItem(        TreeItem item){
          markupStream.setCurrentIndex(index);
          item.onRender(markupStream);
          List<IBehavior> behaviors=item.getBehaviors();
          for (          IBehavior behavior : behaviors) {
            behavior.afterRender(item);
          }
        }
      }
);
    }
  }
}
