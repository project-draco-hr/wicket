{
  tester.getApplication().getSecuritySettings().setEnforceMounts(true);
  tester.setupRequestAndResponse();
  tester.getServletRequest().setURL("?wicket:bookmarkablePage=:" + TestPage.class.getName() + "");
  try {
    tester.processRequestCycle();
    fail("This request should not have been allowed");
  }
 catch (  AbortWithWebErrorCodeException e) {
    assertEquals(e.getErrorCode(),HttpServletResponse.SC_FORBIDDEN);
  }
}
