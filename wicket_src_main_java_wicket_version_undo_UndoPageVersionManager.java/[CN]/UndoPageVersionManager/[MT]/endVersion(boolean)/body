{
  if (mergeVersion) {
    if (changeListStack.size() > 0) {
      ChangeList previous=(ChangeList)changeListStack.peek();
      previous.add(changeList);
    }
 else {
      log.info("an end version request is made with mergedVersion to true without previous changes, can't merge");
    }
  }
 else {
    changeListStack.push(changeList);
    if (getVersions() > maxVersions) {
      expireOldestVersion();
    }
    changeListStack.trimToSize();
    if (log.isDebugEnabled()) {
      log.debug("Version " + currentVersionNumber + " for page "+ page+ " stored");
    }
  }
}
