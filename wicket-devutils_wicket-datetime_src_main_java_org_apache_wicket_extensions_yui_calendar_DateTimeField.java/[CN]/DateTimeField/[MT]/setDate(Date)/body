{
  if (date == null) {
    this.date=null;
    setDefaultModelObject(null);
    setHours(null);
    setMinutes(null);
    return;
  }
  this.date=new MutableDateTime(date);
  setDefaultModelObject(date);
  Integer hours=getHours();
  Integer minutes=getMinutes();
  boolean use12HourFormat=use12HourFormat();
  if (hours != null) {
    this.date.set(DateTimeFieldType.hourOfDay(),hours.intValue() % (use12HourFormat ? 12 : 24));
    this.date.setMinuteOfHour((minutes != null) ? minutes.intValue() : 0);
  }
  setDefaultModelObject(this.date.toDate());
}
