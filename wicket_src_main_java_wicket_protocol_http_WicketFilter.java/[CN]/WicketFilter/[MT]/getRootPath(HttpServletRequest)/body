{
  if (rootPath != null) {
    return rootPath;
  }
  String path=webApplication.getApplicationSettings().getContextPath();
  if (path == null) {
    path=request.getContextPath();
    if (path == null) {
      path="";
    }
  }
  if (SERVLET_PATH_HOLDER.equals(filterPath)) {
    filterPath=request.getServletPath();
    if (filterPath.startsWith("/")) {
      filterPath=filterPath.substring(1);
    }
  }
  if (filterPath != null && filterPath.length() > 0 && !path.endsWith("/")) {
    path+="/" + filterPath;
  }
  return rootPath=path;
}
