{
  TreeNodeModel treeNodeModel=(TreeNodeModel)listItem.getModelObject();
  int level=treeNodeModel.getLevel();
  listItem.add(new SpacerList("spacers",level));
  HtmlContainer nodeContainer=new HtmlContainer("node");
  Serializable userObject=treeNodeModel.getUserObject();
  if (userObject == null) {
    throw new WicketRuntimeException("User object cannot be null");
  }
  Link expandCollapsLink=IndentTree.this.createJunctionLink(treeNodeModel);
  nodeContainer.add(expandCollapsLink);
  Link selectLink=IndentTree.this.createNodeLink(treeNodeModel);
  nodeContainer.add(selectLink);
  listItem.add(nodeContainer);
  listItem.add(new ComponentTagAttributeModifier("class",true,new SelectedPathReplacementModel(treeNodeModel)));
}
