{
  this.application.getMarkupSettings().setMarkupParserFactory(new MarkupParserFactory(){
    @Override public MarkupParser newMarkupParser(    MarkupResourceStream resource){
      MarkupParser parser=super.newMarkupParser(resource);
      parser.registerMarkupFilter(new EnclosureHandler());
      return parser;
    }
  }
);
  log.info("Scanning for HTML files");
  final List<File> files=new ArrayList<File>();
  for (  final String srcDir : srcDirs) {
    files.addAll(getFileListing(new Folder(srcDir)));
  }
  this.files=Collections.unmodifiableList(files);
  log.info("Found overall " + files.size() + " files");
  List<MarkupResourceStream> resources=loadFiles(files);
  log.info("All Files loaded into memory");
  this.resources=Collections.unmodifiableList(resources);
}
