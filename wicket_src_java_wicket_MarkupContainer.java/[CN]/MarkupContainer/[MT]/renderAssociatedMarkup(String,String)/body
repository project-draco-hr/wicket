{
  final MarkupStream originalMarkupStream=getMarkupStream();
  final MarkupStream associatedMarkupStream;
  try {
    associatedMarkupStream=new MarkupStream(getAssociatedMarkup(true).getWicketFragment(openTagName));
  }
 catch (  WicketRuntimeException ex) {
    throw new MarkupException("Unable to load associated markup file for " + this,ex);
  }
  associatedMarkupStream.skipUntil(openTagName);
  setMarkupStream(associatedMarkupStream);
  final ComponentTag associatedMarkupOpenTag=associatedMarkupStream.getTag();
  if (!((associatedMarkupOpenTag != null) && associatedMarkupOpenTag.isOpen() && associatedMarkupOpenTag.isWicketTag())) {
    associatedMarkupStream.throwMarkupException(exceptionMessage);
  }
  try {
    setIgnoreAttributeModifier(true);
    renderComponentTag(associatedMarkupOpenTag);
    associatedMarkupStream.next();
    renderComponentTagBody(associatedMarkupStream,associatedMarkupOpenTag);
    renderClosingComponentTag(associatedMarkupStream,associatedMarkupOpenTag,false);
    setMarkupStream(originalMarkupStream);
  }
  finally {
    setIgnoreAttributeModifier(false);
  }
}
