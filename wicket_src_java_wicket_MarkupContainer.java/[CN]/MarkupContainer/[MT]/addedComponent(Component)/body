{
  if (component == this) {
    throw new IllegalArgumentException("Component can't be added to itself");
  }
  MarkupContainer parent=component.getParent();
  if (parent != null) {
    if (parent == getParent()) {
      parent.remove(component);
    }
 else {
      throw new WicketRuntimeException("You can not add the same Component instance to two different parents: " + component.toString());
    }
  }
  component.setParent(this);
  final Page page=findPage();
  if (page != null) {
    page.componentAdded(component);
  }
}
