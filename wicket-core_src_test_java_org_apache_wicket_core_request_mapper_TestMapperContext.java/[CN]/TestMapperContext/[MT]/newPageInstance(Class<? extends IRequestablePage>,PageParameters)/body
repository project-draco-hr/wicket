{
  try {
    MockPage page=(MockPage)pageClass.newInstance();
    page.setPageId(++idCounter);
    page.setBookmarkable(true);
    page.setCreatedBookmarkable(true);
    if (pageParameters != null) {
      page.getPageParameters().overwriteWith(pageParameters);
    }
    return page;
  }
 catch (  Exception e) {
    throw new WicketRuntimeException(e);
  }
}
