{
  final String key=resourceKey(scope,name,locale,style);
synchronized (resourceMap) {
    Resource value=(Resource)resourceMap.get(key);
    if (value == null)     resourceMap.put(key,resource);
 else     if (!value.equals(resource)) {
      throw new IllegalArgumentException(key + " has a different resource " + "already associated with it: "+ value);
    }
  }
}
