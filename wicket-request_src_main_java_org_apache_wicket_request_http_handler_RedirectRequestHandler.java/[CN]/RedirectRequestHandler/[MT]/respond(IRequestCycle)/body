{
  final String location;
  if (redirectUrl.startsWith("/")) {
    location=requestCycle.getUrlRenderer().renderContextPathRelativeUrl(redirectUrl,requestCycle.getRequest());
  }
 else {
    location=redirectUrl;
  }
  WebResponse response=(WebResponse)requestCycle.getResponse();
  if (status == HttpServletResponse.SC_MOVED_TEMPORARILY) {
    response.sendRedirect(location);
  }
 else {
    response.setStatus(HttpServletResponse.SC_MOVED_PERMANENTLY);
    response.setHeader("Location",location);
  }
}
