{
  final RequestCycle cycle=RequestCycle.get();
  cycle.setResponsePage((Page)null);
  parameters=null;
  IResourceStream resourceStream=init();
  final Response response=cycle.getResponse();
  response.setContentType(resourceStream.getContentType());
  response.setContentLength((int)resourceStream.length());
  if (isCacheable()) {
    response.setLastModifiedTime(resourceStream.lastModifiedTime());
  }
 else {
    response.setLastModifiedTime(Time.valueOf(-1));
  }
  if (response instanceof WebResponse) {
    setHeaders((WebResponse)response);
  }
  respond(resourceStream,response);
}
