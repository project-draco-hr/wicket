{
  try {
    final OutputStream out=new BufferedOutputStream(response.getOutputStream());
    try {
      Streams.writeStream(new BufferedInputStream(resourceStream.getInputStream()),out);
    }
  finally {
      resourceStream.close();
      out.flush();
    }
  }
 catch (  Exception e) {
    throw new WicketRuntimeException("Unable to render resource stream " + resourceStream,e);
  }
}
