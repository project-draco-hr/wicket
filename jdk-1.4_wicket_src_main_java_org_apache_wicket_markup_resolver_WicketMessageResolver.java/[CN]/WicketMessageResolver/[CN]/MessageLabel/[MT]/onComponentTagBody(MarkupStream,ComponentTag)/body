{
  final String key=getModelObjectAsString();
  final String value=getLocalizer().getString(key,this,DEFAULT_VALUE);
  if (value != null && !DEFAULT_VALUE.equals(value)) {
    replaceComponentTagBody(markupStream,openTag,value.trim());
  }
 else {
    log.debug("No value found for wicket:message tag with key: {}",key);
    markupStream.setCurrentIndex(markupStream.getCurrentIndex() - 1);
    ComponentTag tag=markupStream.getTag();
    markupStream.next();
    if (!tag.isOpenClose()) {
      MarkupElement body=markupStream.get();
      if (body instanceof RawMarkup) {
        replaceComponentTagBody(markupStream,openTag,body.toCharSequence());
      }
    }
  }
}
