{
  Calendar cal=Calendar.getInstance();
  cal.set(2004,Calendar.OCTOBER,15,13,21);
  MessageFormat format=new MessageFormat("The report for {0,date,medium}, shows the temparature as {2,number,###.##} {3} and the weather to be {1}",page.getLocale());
  StringResourceModel model=new StringResourceModel("weather.detail",page,wsModel,new Object[]{cal.getTime(),"${currentStatus}",new PropertyModel(wsModel,"currentTemperature"),new PropertyModel(wsModel,"units")});
  String expected=format.format(new Object[]{cal.getTime(),"sunny",new Double(25.7),"\u00B0C"});
  Assert.assertEquals("Text should be as expected",expected,model.getString());
  ws.setCurrentStatus("raining");
  ws.setCurrentTemperature(11.568);
  expected=format.format(new Object[]{cal.getTime(),"raining",new Double(11.568),"\u00B0C"});
  Assert.assertEquals("Text should be as expected",expected,model.getString());
}
