{
  IMarkupFragment markup=container.getMarkup();
  if (markup == null) {
    return null;
  }
  if (child == null) {
    return markup;
  }
  markup=markup.find(child.getId());
  if (markup != null) {
    return markup;
  }
  for (  Component ch : container) {
    if ((ch != child) && (ch instanceof MarkupContainer) && (ch instanceof IComponentResolver)) {
      markup=((MarkupContainer)ch).getMarkup(child);
      if (markup != null) {
        return markup;
      }
    }
  }
  if (Character.isDigit(child.getId().charAt(0))) {
    String id=child.getId();
    boolean miss=false;
    for (int i=1; i < id.length(); i++) {
      if (Character.isDigit(id.charAt(i)) == false) {
        miss=true;
        break;
      }
    }
    if (miss == false) {
      markup=container.getMarkup();
      if (!(child instanceof AbstractItem) && log.isWarnEnabled()) {
        log.warn("1.4 to 1.5 migration issue: the childs wicket-id contains decimals only. " + "By convention that +" + "is only the case for children (Items) of Loop, ListView, "+ "Tree etc.. To avoid the warning, the childs container should implement:\n"+ "@Override public IMarkupFragment getMarkup(Component child) {\n"+ "// The childs markup is always equal to the parents markup.\n"+ "return getMarkup(); }\n"+ "Child: " + child.toString() + "\nContainer: "+ container.toString());
      }
    }
  }
  return markup;
}
