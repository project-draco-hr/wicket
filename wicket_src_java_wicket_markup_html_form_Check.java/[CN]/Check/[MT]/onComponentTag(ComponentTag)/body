{
  super.onComponentTag(tag);
  checkComponentTag(tag,"input");
  checkComponentTagAttribute(tag,"type","checkbox");
  CheckGroup group=(CheckGroup)findParent(CheckGroup.class);
  String path=getPath();
  if (group == null) {
    throw new WicketRuntimeException("Check component [" + path + "] cannot find its parent CheckGroup. All Check components must be a child of or below in the hierarchy of a CheckGroup component.");
  }
  tag.put("name",group.getInputName());
  tag.put("value",path);
  Collection collection=(Collection)group.getModelObject();
  if (collection == null) {
    throw new WicketRuntimeException("CheckGroup [" + group.getPath() + "] contains a null model object, must be an object of type java.util.Collection");
  }
  String rawInput=group.getRawInput();
  if (rawInput != null) {
    if (rawInput.indexOf(path) != -1) {
      tag.put("checked","checked");
    }
  }
 else   if (collection.contains(getModelObject())) {
    tag.put("checked","checked");
  }
  if (group.wantOnSelectionChangedNotifications()) {
    final CharSequence url=group.urlFor(IOnChangeListener.INTERFACE);
    try {
      Form form=group.getForm();
      tag.put("onClick",form.getJsForInterfaceUrl(url));
    }
 catch (    WicketRuntimeException ex) {
      tag.put("onClick","location.href='" + url + "&"+ group.getInputName()+ "=' + this.value;");
    }
  }
  if (!isActionAuthorized(ENABLE) || !isEnabled()) {
    tag.put(ATTR_DISABLED,ATTR_DISABLED);
  }
}
