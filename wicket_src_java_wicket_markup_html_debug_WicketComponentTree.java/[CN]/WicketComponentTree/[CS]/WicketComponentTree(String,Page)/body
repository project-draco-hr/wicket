{
  super(name);
  final List data=new ArrayList();
  add(new Label("page",page.toString()));
  add(new ListView("components",data){
    /** 
 * Assuming all other components of the page to be analyzed are
 * already populated (and rendered), determine the components and
 * fill the ListView's model object.
 * <p>
 * Why don't we load the model object earlier? Because the page's
 * components must already be added to the page. Else, we can not
 * find them.
 */
    protected void onRender(){
      data.clear();
      data.addAll(getComponentData(page));
      Collections.sort(data,new Comparator(){
        public int compare(        Object o1,        Object o2){
          return ((ComponentData)o1).path.compareTo(((ComponentData)o2).path);
        }
      }
);
      super.onRender();
    }
    /** 
 * Populate the table with Wicket elements
 */
    protected void populateItem(    final ListItem listItem){
      final ComponentData cdata=(ComponentData)listItem.getModelObject();
      listItem.add(new Label("row",new Integer(listItem.getIndex() + 1)));
      listItem.add(new Label("path",cdata.path));
      listItem.add(new Label("type",cdata.type));
      listItem.add(new Label("model",cdata.value));
    }
  }
);
}
