{
  final List data=new ArrayList();
  page.visitChildren(new IVisitor(){
    public Object component(    Component component){
      final ComponentData object=new ComponentData();
      String name=component.getClass().getName();
      if (name.indexOf("$") > 0) {
        name=component.getClass().getSuperclass().getName();
      }
      name=Strings.lastPathComponent(name,'.');
      object.path=component.getPageRelativePath();
      object.type=name;
      object.value=component.getModelObjectAsString();
      data.add(object);
      return IVisitor.CONTINUE_TRAVERSAL;
    }
  }
);
  return data;
}
