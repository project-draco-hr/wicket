{
  if (handleMultiPart()) {
    registerNewUserInput();
    String url=getRequest().getParameter(getHiddenFieldId());
    if (!Strings.isEmpty(url)) {
      new WebEventProcessorStrategy().dispatchEvent(getPage(),url);
    }
 else {
      final Button submittingButton=findSubmittingButton();
      if (submittingButton != null && !submittingButton.getDefaultFormProcessing()) {
        submittingButton.onSubmit();
      }
 else {
        if (process()) {
          delegateSubmit(submittingButton);
        }
      }
    }
  }
}
