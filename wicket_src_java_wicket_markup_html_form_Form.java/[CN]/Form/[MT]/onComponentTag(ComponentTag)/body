{
  checkComponentTag(tag,"form");
  super.onComponentTag(tag);
  cssId=(String)tag.getAttributes().get("id");
  if (Strings.isEmpty(cssId)) {
    cssId=getCssId();
    tag.put("id",cssId);
  }
  tag.put("method","post");
  tag.put("action",Strings.replaceAll(urlFor(IFormSubmitListener.class),"&","&amp;"));
  if (multiPart) {
    tag.put("enctype","multipart/form-data");
  }
 else {
    String enctype=(String)tag.getAttributes().get("enctype");
    if ("multipart/form-data".equalsIgnoreCase(enctype)) {
      setMultiPart(true);
    }
  }
}
