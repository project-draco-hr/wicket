{
  final FeedbackMessages messages=FeedbackMessages.get();
  visitChildren(FormComponent.class,new IVisitor(){
    public Object component(    final Component component){
      ValidationErrorMessage message=((FormComponent)component).validate();
      if (message != ValidationErrorMessage.NO_MESSAGE) {
        if (log.isDebugEnabled()) {
          log.debug("validation error: " + message);
        }
        messages.add(message);
        ValidationErrorModelDecorator deco=new ValidationErrorModelDecorator(component,message.getInput());
        component.setModel(deco);
      }
      return IVisitor.CONTINUE_TRAVERSAL;
    }
  }
);
  return messages;
}
