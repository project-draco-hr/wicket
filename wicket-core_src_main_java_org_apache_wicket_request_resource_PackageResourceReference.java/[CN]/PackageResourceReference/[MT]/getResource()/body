{
  final String extension=getExtension();
  final PackageResource resource;
  if (CSS_EXTENSION.equals(extension)) {
    resource=new CssPackageResource(getScope(),getName(),getLocale(),getStyle(),getVariation());
  }
 else   if (JAVASCRIPT_EXTENSION.equals(extension)) {
    resource=new JavaScriptPackageResource(getScope(),getName(),getLocale(),getStyle(),getVariation());
  }
 else {
    resource=new PackageResource(getScope(),getName(),getLocale(),getStyle(),getVariation());
  }
  if (minifiedExists) {
    resource.setCompress(false);
  }
  return resource;
}
