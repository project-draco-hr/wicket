{
  final String extension=getExtension();
  final PackageResource resource;
  if (CSS_EXTENSION.equals(extension)) {
    resource=new CssPackageResource(getScope(),getName(),getLocale(),getStyle(),getVariation()).readBuffered(readBuffered);
  }
 else   if (JAVASCRIPT_EXTENSION.equals(extension)) {
    resource=new JavaScriptPackageResource(getScope(),getName(),getLocale(),getStyle(),getVariation()).readBuffered(readBuffered);
  }
 else {
    resource=new PackageResource(getScope(),getName(),getLocale(),getStyle(),getVariation()).readBuffered(readBuffered);
  }
  removeCompressFlagIfUnnecessary(resource);
  return resource;
}
