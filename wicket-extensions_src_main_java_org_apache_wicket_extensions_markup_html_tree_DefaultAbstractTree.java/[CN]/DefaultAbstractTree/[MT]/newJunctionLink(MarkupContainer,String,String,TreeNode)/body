{
  final MarkupContainer junctionLink;
  if (node.isLeaf() == false) {
    junctionLink=newLink(parent,id,new ILinkCallback(){
      private static final long serialVersionUID=1L;
      @Override public void onClick(      final AjaxRequestTarget target){
        if (isNodeExpanded(node)) {
          getTreeState().collapseNode(node);
        }
 else {
          getTreeState().expandNode(node);
        }
        onJunctionLinkClicked(target,node);
        if (target != null) {
          updateTree(target);
        }
      }
    }
);
  }
 else {
    junctionLink=new WebMarkupContainer(id){
      private static final long serialVersionUID=1L;
      /** 
 * {@inheritDoc}
 */
      @Override protected void onComponentTag(      final ComponentTag tag){
        super.onComponentTag(tag);
        tag.put("onclick","return false");
      }
    }
;
  }
  if (imageId != null) {
    junctionLink.add(newJunctionImage(junctionLink,imageId,node));
  }
  return junctionLink;
}
