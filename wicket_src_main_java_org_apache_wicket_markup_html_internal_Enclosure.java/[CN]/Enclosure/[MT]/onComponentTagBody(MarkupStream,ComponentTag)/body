{
  changes=new HashMap<Component,Boolean>();
  final MarkupContainer container=getEnclosureParent();
  ensureAllChildrenPresent(container,markupStream,enclosureOpenTag);
  Component controller=container.get(childId.toString());
  checkChildComponent(controller);
  setVisible(controller.determineVisibility());
  applyEnclosureVisibilityToChildren(container,markupStream,enclosureOpenTag);
  if (isVisible() == true) {
    super.onComponentTagBody(markupStream,enclosureOpenTag);
  }
 else {
    markupStream.skipToMatchingCloseTag(enclosureOpenTag);
  }
}
