{
  ComponentTag tag=next;
  next=null;
  if (tag != null && tag.isOpenClose()) {
    tag=null;
  }
  while (markupStream.hasMore()) {
    final MarkupElement cursor=markupStream.next();
    if (cursor.closes(parent)) {
      break;
    }
    if (tag != null && cursor.closes(tag)) {
      tag=null;
    }
 else     if (tag == null && cursor instanceof ComponentTag) {
      next=(ComponentTag)cursor;
      break;
    }
  }
}
