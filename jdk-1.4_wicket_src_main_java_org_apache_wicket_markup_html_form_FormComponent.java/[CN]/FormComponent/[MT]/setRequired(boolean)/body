{
  if (!required && getType() != null && getType().isPrimitive()) {
    throw new WicketRuntimeException("FormComponent can't be not required when the type is primitive class: " + this);
  }
  if (required != isRequired()) {
    addStateChange(new RequiredStateChange());
  }
  setFlag(FLAG_REQUIRED,required);
  return this;
}
