{
  final Component feedback=new FeedbackPanel("feedback").setOutputMarkupId(true);
  add(feedback);
  final Form<?> form=new Form<Void>("form"){
    private static final long serialVersionUID=1L;
    /** 
 * @see org.apache.wicket.markup.html.form.Form#onSubmit()
 */
    @Override protected void onSubmit(){
      info("Text: " + text.getModelObject());
      FileUpload upload=file.getFileUpload();
      if (upload == null) {
        info("No file uploaded");
      }
 else {
        info("File-Name: " + upload.getClientFileName() + " File-Size: "+ Bytes.bytes(upload.getSize()).toString());
      }
    }
  }
;
  form.setMaxSize(Bytes.megabytes(1));
  add(form);
  form.add(text=new TextField<>("text",new Model<String>()));
  text.add(StringValidator.minimumLength(2));
  form.add(file=new FileUploadField("file"));
  form.add(new Label("max",new IModel<String>(){
    private static final long serialVersionUID=1L;
    @Override public String getObject(){
      return form.getMaxSize().toString();
    }
  }
));
  form.add(new UploadProgressBar("progress",form,file));
  form.add(new AjaxButton("ajaxSubmit"){
    private static final long serialVersionUID=1L;
    @Override protected void onSubmit(    AjaxRequestTarget target,    Form<?> form){
      info("This request was processed using AJAX");
      target.add(feedback);
    }
    @Override protected void onError(    AjaxRequestTarget target,    Form<?> form){
      target.add(feedback);
    }
  }
);
}
