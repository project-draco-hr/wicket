{
  IResourceStream stream=getOriginalResourceStream();
  try {
    byte ret[];
    if (cache != null) {
      ret=cache.get();
      if (ret != null && timeStamp != null) {
        if (timeStamp.equals(stream.lastModifiedTime())) {
          return ret;
        }
      }
    }
    ByteArrayOutputStream out=new ByteArrayOutputStream();
    GZIPOutputStream zout=new GZIPOutputStream(out);
    Streams.copy(stream.getInputStream(),zout);
    zout.close();
    stream.close();
    ret=out.toByteArray();
    timeStamp=stream.lastModifiedTime();
    cache=new SoftReference<byte[]>(ret);
    return ret;
  }
 catch (  IOException e) {
    throw new RuntimeException(e);
  }
catch (  ResourceStreamNotFoundException e) {
    throw new RuntimeException(e);
  }
}
