{
  super();
  if (userAgent == null) {
    throw new WicketRuntimeException("user agent must be provided");
  }
  this.userAgent=userAgent;
  HttpServletRequest httpServletRequest=requestCycle.getWebRequest().getHttpServletRequest();
  properties.setRemoteAddress(httpServletRequest.getRemoteAddr());
  init();
}
