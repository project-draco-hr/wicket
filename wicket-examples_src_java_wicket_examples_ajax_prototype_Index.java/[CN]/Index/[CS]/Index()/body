{
  add(new Link("link"){
    /** 
 * Handles a click on the link. This method is accessed normally using a standard
 * http request, but in this example, we use Ajax to perform the call.
 */
    public void onClick(){
      counter=Integer.valueOf(counter.intValue() + 1);
      Component component=getPage().get("counter");
      ComponentRequestTarget target=new ComponentRequestTarget(component);
      RequestCycle cycle=RequestCycle.get();
      cycle.setRequestTarget(target);
    }
    /** 
 * Alter the javascript 'onclick' event to emit the Ajax call and update the
 * counter label.
 */
    protected String getOnClickScript(    String url){
      StringBuffer sb=new StringBuffer();
      sb.append("new Ajax.Updater('counter',");
      sb.append("'" + urlFor(ILinkListener.class) + "',{method:'get'}");
      sb.append(");");
      sb.append("return false;");
      return sb.toString();
    }
  }
);
  add(new Label("counter",new PropertyModel(this,"counter")));
}
