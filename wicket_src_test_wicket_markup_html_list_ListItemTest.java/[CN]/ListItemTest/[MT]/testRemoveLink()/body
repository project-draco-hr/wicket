{
  WebRequestCycle cycle=createRequestCycle();
  ListView lv=createListView(4);
  cycle.getResponsePage().add(lv);
  ListItem li=new ListItem(lv,1);
  Link removeLink=li.removeLink("1");
  removeLink.onClick();
  assertEquals(new Integer(0),lv.getListObject(0));
  assertEquals(new Integer(2),lv.getListObject(1));
  assertEquals(new Integer(3),lv.getListObject(2));
  li=new ListItem(lv,0);
  removeLink=li.removeLink("0");
  removeLink.onClick();
  assertEquals(new Integer(2),lv.getListObject(0));
  assertEquals(new Integer(3),lv.getListObject(1));
  li=new ListItem(lv,1);
  removeLink=li.removeLink("3");
  removeLink.onClick();
  assertEquals(new Integer(2),lv.getListObject(0));
  li=new ListItem(lv,0);
  removeLink=li.removeLink("xxx");
  removeLink.onClick();
  assertEquals(0,lv.getList().size());
}
