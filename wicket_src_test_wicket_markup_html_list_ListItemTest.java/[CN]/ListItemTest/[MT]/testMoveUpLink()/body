{
  HttpRequestCycle cycle=createRequestCycle();
  ListView lv=createListView(4);
  cycle.getPage().add(lv);
  ListItem li=new ListItem(1,lv);
  Link link=li.moveUpLink("1");
  link.linkClicked();
  assertEquals(new Integer(1),lv.getListObject(0));
  assertEquals(new Integer(0),lv.getListObject(1));
  assertEquals(new Integer(2),lv.getListObject(2));
  assertEquals(new Integer(3),lv.getListObject(3));
  li=new ListItem(0,lv);
  link=li.moveUpLink("1");
  try {
    link.linkClicked();
  }
 catch (  ArrayIndexOutOfBoundsException ex) {
    link=null;
  }
  assertNull(link);
  li=new ListItem(3,lv);
  link=li.moveUpLink("1");
  link.linkClicked();
  assertEquals(new Integer(1),lv.getListObject(0));
  assertEquals(new Integer(0),lv.getListObject(1));
  assertEquals(new Integer(3),lv.getListObject(2));
  assertEquals(new Integer(2),lv.getListObject(3));
  link.linkClicked();
  assertEquals(new Integer(1),lv.getListObject(0));
  assertEquals(new Integer(0),lv.getListObject(1));
  assertEquals(new Integer(2),lv.getListObject(2));
  assertEquals(new Integer(3),lv.getListObject(3));
}
