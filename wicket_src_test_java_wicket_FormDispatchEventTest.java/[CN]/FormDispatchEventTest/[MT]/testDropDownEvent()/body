{
  MyForm form=new MyForm("form");
  DropDownChoice dropDown=new DropDownChoice("dropdown",new Model(),new ArrayList()){
    private static final long serialVersionUID=1L;
    protected void onSelectionChanged(    Object newSelection){
      selection=true;
    }
    /** 
 * @see wicket.markup.html.form.DropDownChoice#wantOnSelectionChangedNotifications()
 */
    protected boolean wantOnSelectionChangedNotifications(){
      return true;
    }
  }
;
  form.add(dropDown);
  MockPage page=new MockPage();
  page.add(form);
  tester.setupRequestAndResponse();
  RequestCycle cycle=tester.createRequestCycle();
  page.urlFor(IRedirectListener.INTERFACE);
  cycle.getSession().touch(page);
  cycle.getSession().update();
  form.onFormSubmitted();
  assertTrue("form should should set value ",submit);
  tester.getServletRequest().setParameter(form.getHiddenField(),dropDown.urlFor(IOnChangeListener.INTERFACE).toString());
  form.onFormSubmitted();
  assertTrue("Selection should be called",selection);
}
