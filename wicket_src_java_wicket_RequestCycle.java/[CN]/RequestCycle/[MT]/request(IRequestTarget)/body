{
  prepare();
  IRequestCycleProcessor processor=getRequestCycleProcessor();
  if (processor == null) {
    throw new WicketRuntimeException("request cycle processor must be not-null");
  }
  try {
    setRequestTarget(target);
    processEventsAndRespondWithSync(processor);
  }
  finally {
    cleanUp();
  }
}
