{
synchronized (session) {
    try {
      threadAttach();
      internalOnBeginRequest();
      onBeginRequest();
      component.render();
    }
 catch (    RuntimeException e) {
      log.error(e.getMessage(),e);
      IRequestCycleProcessor processor=getRequestCycleProcessor();
      processor.respond(e,this);
    }
 finally {
      try {
        internalOnEndRequest();
      }
 catch (      RuntimeException e) {
        log.error("Exception occurred during internalOnEndRequest",e);
      }
      try {
        onEndRequest();
      }
 catch (      RuntimeException e) {
        log.error("Exception occurred during onEndRequest",e);
      }
      threadDetach();
    }
  }
}
