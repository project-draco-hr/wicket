{
  final Application application=Application.get();
  final IExceptionSettings settings=application.getExceptionSettings();
  final Page responsePage=requestCycle.getResponsePage();
  Page override=onRuntimeException(responsePage,e);
  if (override != null) {
    throw new RestartResponseException(override);
  }
 else   if (e instanceof AuthorizationException) {
    Class accessDeniedPageClass=application.getApplicationSettings().getAccessDeniedPage();
    throw new RestartResponseAtInterceptPageException(accessDeniedPageClass);
  }
 else   if (e instanceof PageExpiredException) {
    Class pageExpiredErrorPageClass=application.getApplicationSettings().getPageExpiredErrorPage();
    throw new RestartResponseException(pageExpiredErrorPageClass);
  }
 else   if (settings.getUnexpectedExceptionDisplay() != IExceptionSettings.SHOW_NO_EXCEPTION_PAGE) {
    requestCycle.setRedirect(false);
    Class internalErrorPageClass=application.getApplicationSettings().getInternalErrorPage();
    Class responseClass=responsePage != null ? responsePage.getClass() : null;
    if (responseClass != internalErrorPageClass && settings.getUnexpectedExceptionDisplay() == IExceptionSettings.SHOW_INTERNAL_ERROR_PAGE) {
      throw new RestartResponseException(internalErrorPageClass);
    }
 else     if (responseClass != ExceptionErrorPage.class) {
      throw new RestartResponseException(new ExceptionErrorPage(e,responsePage));
    }
 else {
      throw new WicketRuntimeException("Internal Error: Could not render error page " + internalErrorPageClass,e);
    }
  }
}
