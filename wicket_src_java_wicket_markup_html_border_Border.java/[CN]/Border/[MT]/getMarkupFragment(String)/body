{
  try {
    return super.getMarkupFragment(path);
  }
 catch (  RuntimeException ex) {
  }
  if (this instanceof IAlternateParentProvider) {
    MarkupContainer parent=((IAlternateParentProvider)this).getAlternateParent(null,null);
    String id=parent.getId() + Component.PATH_SEPARATOR;
    if (path.startsWith(id)) {
      path=path.substring(id.length());
    }
  }
  path=getId() + Component.PATH_SEPARATOR + path;
  MarkupContainer parent=getParent();
  while ((parent != null) && !(parent instanceof IMarkupProvider)) {
    path=parent.getMarkupFragmentPath(path);
    parent=parent.getParent();
  }
  if (parent == null) {
    throw new MarkupNotFoundException("Component has no parent with external markup file: " + getId());
  }
  MarkupFragment fragment=((IMarkupProvider)parent).getMarkupFragment(path);
  if (fragment == null) {
    throw new MarkupNotFoundException("Unable to find the markup fragment with markup path '" + path + "'. Component: "+ getId());
  }
  return fragment;
}
