{
  final ComponentTag bodyTag=renderBodyComponentTag(markupStream,wtag);
  Border border=this;
  if (border.getMarkupStream() == null) {
    final MarkupContainer borderParent=border.getParent();
    border=(Border)((borderParent instanceof Border) ? borderParent : borderParent.findParent(Border.class));
  }
  final MarkupStream borderMarkup=border.findMarkupStream();
  border.setMarkupStream(null);
  border.renderComponentTagBody(border.findMarkupStream(),border.openTag);
  border.setMarkupStream(borderMarkup);
  if (wtag.isOpenClose()) {
    markupStream.next();
    bodyTag.setType(XmlTag.Type.CLOSE);
    renderComponentTag(bodyTag);
  }
  if (border.haveSeenBodyTag == true) {
    markupStream.throwMarkupException("There must be exactly one <wicket:body> tag for each border compoment.");
  }
  border.haveSeenBodyTag=true;
}
