{
  for (int s=0; s < segments.length; ++s) {
    Segment seg=segments[s];
synchronized (seg) {
      Entry[] tab=table;
      for (int i=s; i < tab.length; i+=segments.length) {
        for (Entry e=tab[i]; e != null; e=e.next)         e.value=null;
        tab[i]=null;
        seg.count=0;
      }
    }
  }
}
