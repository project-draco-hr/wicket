{
  try {
    final String expression=ognlExpression(component);
    if (Strings.isEmpty(expression)) {
      if (nestedModel instanceof IModel) {
        ((IModel)nestedModel).setObject(null,object);
      }
 else {
        nestedModel=object;
      }
    }
 else {
      Object modelObject=modelObject(component);
      if (object instanceof String) {
        final String string=(String)object;
        if (!Strings.isEmpty(string)) {
          final Class propertyType=propertyType(component);
          if (propertyType != null) {
            object=component.getConverter().convert(string,propertyType);
          }
        }
      }
      prepareContext(component);
      Ognl.setValue(ognlExpression(component),conversionContext,modelObject,object);
    }
  }
 catch (  OgnlException e) {
    throw new WicketRuntimeException(e);
  }
}
