{
  final String expression=propertyExpression(component);
  if (Strings.isEmpty(expression)) {
    if (nestedModel instanceof IModel) {
      ((IModel)nestedModel).setObject(null,object);
    }
 else {
      nestedModel=object;
    }
  }
 else {
    Object modelObject=modelObject(component);
    if (object instanceof String) {
      final String string=(String)object;
      if (!Strings.isEmpty(string)) {
        final Class propertyType=propertyType(component);
        if (propertyType != null && component != null) {
          object=(T)component.getConverter(propertyType).convertToObject(string,component.getLocale());
        }
      }
    }
    PropertyResolverConverter prc=null;
    if (component != null) {
      prc=new PropertyResolverConverter(component,component.getLocale());
    }
 else {
      prc=new PropertyResolverConverter(Session.get(),Session.get().getLocale());
    }
    PropertyResolver.setValue(expression,modelObject,object,prc);
  }
}
