{
  DecimalFormat formatter=(DecimalFormat)DecimalFormat.getInstance(locale);
  if (pattern != null) {
    if (locPattern) {
      formatter.applyLocalizedPattern(pattern);
    }
 else {
      formatter.applyPattern(pattern);
    }
  }
  return formatter;
}
