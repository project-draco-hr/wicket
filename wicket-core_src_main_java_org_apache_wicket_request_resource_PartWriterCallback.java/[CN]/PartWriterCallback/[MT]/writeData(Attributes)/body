{
  try {
    OutputStream outputStream=attributes.getResponse().getOutputStream();
    byte[] buffer=new byte[getBufferSize()];
    if (startbyte != null || endbyte != null) {
      if (startbyte != null) {
        inputStream.skip(startbyte);
      }
      if (endbyte == null || Long.valueOf(-1).equals(endbyte)) {
        endbyte=contentLength;
      }
      long totalBytes=0;
      int actualReadBytes;
      while ((actualReadBytes=inputStream.read(buffer)) != -1) {
        totalBytes=totalBytes + buffer.length;
        long lowerBuffer=endbyte - totalBytes;
        if (lowerBuffer <= 0) {
          buffer=resizeArray(buffer,actualReadBytes);
          outputStream.write(buffer);
          break;
        }
 else {
          outputStream.write(buffer);
        }
      }
    }
 else {
      Streams.copy(inputStream,outputStream,getBufferSize());
    }
  }
 catch (  ResponseIOException e) {
  }
}
