{
  try {
    OutputStream outputStream=attributes.getResponse().getOutputStream();
    byte[] buffer=new byte[getBufferSize()];
    if (startbyte != null || endbyte != null) {
      if (startbyte != null) {
        inputStream.skip(startbyte);
      }
      if (endbyte == null || Long.valueOf(-1).equals(endbyte)) {
        endbyte=contentLength;
      }
      int readBytes;
      long totalBytes=0;
      while ((readBytes=inputStream.read(buffer)) != -1) {
        totalBytes+=readBytes;
        if (endbyte - totalBytes < 0) {
          int leftBytesToBeRead=(int)(totalBytes - startbyte) - (int)(totalBytes - endbyte);
          outputStream.write(buffer,0,leftBytesToBeRead);
          break;
        }
 else {
          outputStream.write(buffer,0,readBytes);
        }
      }
    }
 else {
      Streams.copy(inputStream,outputStream,getBufferSize());
    }
  }
 catch (  ResponseIOException e) {
  }
}
