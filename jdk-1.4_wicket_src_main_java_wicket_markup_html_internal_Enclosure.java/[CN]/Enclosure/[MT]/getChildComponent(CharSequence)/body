{
  MarkupContainer parent=getParent();
  while ((parent != null) && parent.isTransparentResolver()) {
    parent=parent.getParent();
  }
  if (parent == null) {
    throw new WicketRuntimeException("Unable to find parent component which is not a transparent resolver");
  }
  if (childId == null) {
    throw new MarkupException("You most likely forgot to register the EnclosureHandler with the MarkupParserFactory");
  }
  final Component child=parent.get(childId.toString());
  if (child == null) {
    throw new MarkupException("Didn't find child component of <wicket:enclosure> with id='" + childId + "'. Component: "+ this.toString());
  }
  return child;
}
