{
  Object object=getModelObject();
  boolean isModelCollection=object instanceof Collection;
  clearModel();
  String[] paths=getInputAsArray();
  if (paths != null && paths.length > 0) {
    checkSelectedOptionsCount(paths.length);
    for (    String element : paths) {
      String path=element;
      if (path != null) {
        path=path.substring(getPath().length() + 1);
        SelectOption option=(SelectOption)get(path);
        if (option == null) {
          throw new WicketRuntimeException("submitted http post value [" + paths.toString() + "] for SelectOption component ["+ getPath()+ "] contains an illegal relative path element ["+ path+ "] which does not point to an SelectOption component. Due to this the Select component cannot resolve the selected SelectOption component pointed to by the illegal value. A possible reason is that component hierarchy changed between rendering and form submission.");
        }
        assignValue(option.getModelObject());
      }
    }
  }
  finishModelUpdate();
}
