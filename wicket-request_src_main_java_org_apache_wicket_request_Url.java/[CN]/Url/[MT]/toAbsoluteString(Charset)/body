{
  StringBuilder result=new StringBuilder();
  String protocol=this.protocol;
  if (Strings.isEmpty(protocol)) {
    protocol="http";
  }
  if (Strings.isEmpty(host) == false) {
    result.append(protocol);
    result.append("://");
    result.append(host);
    if (port != null && port.equals(getDefaultPortForProtocol(protocol)) == false) {
      result.append(':');
      result.append(port);
    }
  }
  return Strings.join("/",result.toString(),this.toString());
}
