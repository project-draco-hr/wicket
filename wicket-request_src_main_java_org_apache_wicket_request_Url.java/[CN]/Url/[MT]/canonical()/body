{
  Url url=new Url(this);
  url.segments.clear();
  for (int i=0; i < segments.size(); i++) {
    final String segment=segments.get(i);
    if (".".equals(segment)) {
      continue;
    }
    if ((i + 1) < segments.size() && "..".equals(segments.get(i + 1))) {
      i++;
      continue;
    }
    url.segments.add(segment);
  }
  return url;
}
