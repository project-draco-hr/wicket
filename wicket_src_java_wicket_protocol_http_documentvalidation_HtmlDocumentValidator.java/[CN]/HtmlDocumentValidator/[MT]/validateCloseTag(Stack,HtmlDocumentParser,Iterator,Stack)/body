{
  if (tagNameStack.isEmpty()) {
    System.err.println("Found closing tag </" + parser.getTag() + "> when there are no "+ "tags currently open");
    expectedElements=null;
  }
 else {
    String expectedTag=(String)tagNameStack.pop();
    if (!expectedTag.equals(parser.getTag())) {
      System.err.println("Found closing tag </" + parser.getTag() + "> when we expecting "+ "the closing tag </"+ expectedTag+ "> instead");
      expectedElements=null;
    }
 else {
      if (expectedElements.hasNext()) {
        DocumentElement e=(DocumentElement)expectedElements.next();
        System.err.println("Found closing tag </" + parser.getTag() + "> but we were "+ "expecting to find another child element: "+ e.toString());
        expectedElements=null;
      }
 else {
        if (iteratorStack.isEmpty()) {
          System.err.println("Unexpected parsing error");
          expectedElements=null;
        }
 else {
          expectedElements=(Iterator)iteratorStack.pop();
        }
      }
    }
  }
  return expectedElements;
}
