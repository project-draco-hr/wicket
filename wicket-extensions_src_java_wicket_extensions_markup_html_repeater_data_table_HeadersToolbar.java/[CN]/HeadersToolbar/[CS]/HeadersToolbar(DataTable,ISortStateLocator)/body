{
  super(table);
  RefreshingView headers=new RefreshingView("headers"){
    private static final long serialVersionUID=1L;
    protected Iterator getItemModels(){
      return new ArrayIteratorAdapter(table.getColumns()){
        protected IModel model(        Object object){
          return new Model((IColumn)object);
        }
      }
;
    }
    protected void populateItem(    Item item){
      IColumn column=(IColumn)item.getModelObject();
      WebMarkupContainer header=null;
      if (column.isSortable()) {
        header=newSortableHeader("header",column.getSortProperty(),stateLocator);
      }
 else {
        header=new WebMarkupContainer("header");
      }
      item.add(header);
      item.setRenderBodyOnly(true);
      header.add(column.getHeader("label"));
    }
  }
;
  add(headers);
}
