{
  Page page=getPage();
  if (page == null) {
    final String id=Strings.firstPathComponent(componentPath,Component.PATH_SEPARATOR);
    page=(Page)Session.get().getPageManager().getPage(Integer.valueOf(id));
    if (page != null && page.getClass() == getPageClass()) {
      setPage(page);
    }
 else {
      page=getPage(requestCycle);
    }
  }
  if (page == null) {
    throw new PageExpiredException("Request cannot be processed. The target page does not exist anymore.");
  }
  final String pageRelativeComponentPath=Strings.afterFirstPathComponent(componentPath,Component.PATH_SEPARATOR);
  Component component=page.get(pageRelativeComponentPath);
  if (component == null) {
    page.prepareForRender(false);
    component=page.get(pageRelativeComponentPath);
    if (component == null) {
      throw new WicketRuntimeException("unable to find component with path " + pageRelativeComponentPath + " on stateless page "+ page+ " it could be that the component is inside a repeater make your component return false in getStatelessHint()");
    }
  }
  RequestListenerInterface listenerInterface=RequestListenerInterface.forName(interfaceName);
  if (listenerInterface == null) {
    throw new WicketRuntimeException("unable to find listener interface " + interfaceName);
  }
  listenerInterface.invoke(page,component);
}
