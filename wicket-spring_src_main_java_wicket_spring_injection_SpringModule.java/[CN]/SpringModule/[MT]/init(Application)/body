{
  if (!(application instanceof WebApplication)) {
    throw new IllegalStateException("This initializer can only be used with applications that extend WebApplication");
  }
  application.addComponentInstantiationListener(new SpringComponentInjector((WebApplication)application));
}
