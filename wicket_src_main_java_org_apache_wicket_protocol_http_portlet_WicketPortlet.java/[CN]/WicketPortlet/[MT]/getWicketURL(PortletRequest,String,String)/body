{
  String wicketURL=null;
  if (request instanceof ActionRequest) {
    wicketURL=request.getParameter((String)request.getAttribute(WicketPortlet.WICKET_URL_PORTLET_PARAMETER_ATTR));
  }
 else {
    wicketURL=request.getParameter((String)request.getAttribute(WicketPortlet.WICKET_URL_PORTLET_PARAMETER_ATTR) + request.getPortletMode().toString());
  }
  if (wicketURL == null) {
    wicketURL=getWicketConfigParameter(request,CONFIG_PARAM_PREFIX + pageType,defaultPage);
  }
  return wicketURL;
}
