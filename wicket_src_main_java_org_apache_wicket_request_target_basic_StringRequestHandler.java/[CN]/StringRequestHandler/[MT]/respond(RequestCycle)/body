{
  final WebResponse response=(WebResponse)requestCycle.getResponse();
  response.setContentType(contentType + ";charset=" + encoding);
  try {
    response.write(string.getBytes(encoding));
  }
 catch (  IOException e) {
    throw new WicketRuntimeException("Unable to render string: " + e.getMessage(),e);
  }
}
