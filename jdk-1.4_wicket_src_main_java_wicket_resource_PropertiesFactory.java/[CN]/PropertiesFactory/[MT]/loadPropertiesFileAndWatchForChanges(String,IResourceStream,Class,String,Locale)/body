{
  final ModificationWatcher watcher=Application.get().getResourceSettings().getResourceWatcher(true);
  if (watcher != null) {
    watcher.add(resourceStream,new IChangeListener(){
      public void onChange(){
        log.info("A properties files has changed. Remove all entries " + "from the cache. Resource: " + resourceStream);
        clearCache();
        for (Iterator iter=afterReloadListeners.iterator(); iter.hasNext(); ) {
          IPropertiesReloadListener listener=(IPropertiesReloadListener)iter.next();
          try {
            listener.propertiesLoaded(key);
          }
 catch (          Throwable ex) {
            log.error("PropertiesReloadListener throw an exception: " + ex.getMessage());
          }
        }
      }
    }
);
  }
  log.info("Loading properties files from " + resourceStream);
  return loadPropertiesFile(key,resourceStream,componentClass,style,locale);
}
