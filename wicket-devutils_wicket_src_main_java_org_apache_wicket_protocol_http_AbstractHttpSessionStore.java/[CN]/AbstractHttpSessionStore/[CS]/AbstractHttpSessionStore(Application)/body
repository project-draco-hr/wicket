{
  if (application == null) {
    throw new IllegalArgumentException("the application object must be provided");
  }
  if (!(application instanceof WebApplication)) {
    throw new IllegalStateException(getClass().getName() + " can only operate in the context of web applications");
  }
  this.application=(WebApplication)application;
}
