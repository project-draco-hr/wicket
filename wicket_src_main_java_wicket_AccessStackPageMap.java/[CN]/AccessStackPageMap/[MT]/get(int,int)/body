{
  final IPageMapEntry entry=(IPageMapEntry)getSession().getAttribute(attributeForId(id));
  if (entry != null) {
    Page page=entry.getPage();
    page.dirty();
    final Page version=page.getVersion(versionNumber);
    access(entry,versionOf(entry));
    if (version != null) {
      if (version != page) {
        page=version;
        page.getPageMap().put(page);
      }
    }
 else {
      if (log.isInfoEnabled()) {
        log.info("Unable to get version " + versionNumber + " of page "+ page);
      }
      return null;
    }
    return page;
  }
  return null;
}
