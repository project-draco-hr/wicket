{
  long now=System.currentTimeMillis();
  response.setDateHeader("Date",now);
  if (data.isCacheable()) {
    response.setDateHeader("Expires",now + (data.getCacheDuration() * 1000L));
    response.setHeader(CACHE_CONTROL,"public, max-age=" + data.getCacheDuration());
    response.setHeader("Vary","Accept-Encoding");
  }
 else {
    response.setHeader(CACHE_CONTROL,"no-cache, must-revalidate");
  }
}
