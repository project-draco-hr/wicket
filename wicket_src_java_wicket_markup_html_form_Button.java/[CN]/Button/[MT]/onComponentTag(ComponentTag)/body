{
  String lowerCaseTagName=tag.getName().toLowerCase();
  if (!(lowerCaseTagName.equals("input") || lowerCaseTagName.equals("button"))) {
    findMarkupStream().throwMarkupException("Component " + getId() + " must be applied to a tag of type 'input' or 'button', not "+ tag.toUserDebugString());
  }
  final ValueMap attributes=tag.getAttributes();
  final String type=attributes.getString("type");
  if (type == null || !(type.equalsIgnoreCase("button") || type.equalsIgnoreCase("image") || type.equalsIgnoreCase("submit"))) {
    throw new WicketRuntimeException("Button tag must have a type of 'button', 'image' or 'submit'");
  }
  final String value=tag.getAttributes().getString("value");
  if (Strings.isEmpty(value)) {
    throw new WicketRuntimeException("Button tag must have non-empty value attribute");
  }
  super.onComponentTag(tag);
  final String onClickJavaScript=getOnClickScript();
  if (onClickJavaScript != null) {
    tag.put("onclick",onClickJavaScript);
  }
}
