{
  final T object=getModelObject();
  if (object != null) {
    int index=-1;
    List<? extends T> choices=getChoices();
    for (int i=0; i < choices.size(); i++) {
      String otherId=getChoiceRenderer().getIdValue(choices.get(i),i);
      if (isSelected(object,i,otherId)) {
        index=i;
        break;
      }
    }
    if (index < 0) {
      logger.warn("Detected inconsistency in choice component: {}/{}. Model returned object: {}, but this object is not available in the list of selected objects.",new Object[]{getPage().getClass(),getPageRelativePath(),object});
      return "";
    }
    return getChoiceRenderer().getIdValue(object,index);
  }
 else {
    return "";
  }
}
