{
  this.filterConfig=filterConfig;
  IWebApplicationFactory factory=getApplicationFactory();
  this.webApplication=factory.createApplication(this);
  this.webApplication.setWicketFilter(this);
  String contextKey="wicket:" + filterConfig.getFilterName();
  filterConfig.getServletContext().setAttribute(contextKey,this.webApplication);
  filterPath=filterConfig.getInitParameter(FILTER_PATH_PARAM);
  if (filterPath == null) {
    filterPath="";
  }
  try {
    Application.set(webApplication);
    this.webApplication.internalInit();
    this.webApplication.init();
    this.webApplication.initializeComponents();
    log.info("Wicket application " + this.webApplication.getName() + " started [factory="+ factory.getClass().getName()+ "]");
  }
  finally {
    Application.unset();
  }
}
