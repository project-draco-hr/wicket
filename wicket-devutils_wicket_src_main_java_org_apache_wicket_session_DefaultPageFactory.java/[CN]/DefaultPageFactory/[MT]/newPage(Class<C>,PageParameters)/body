{
  if (parameters == null) {
    return newPage(pageClass);
  }
  Constructor<? extends Page> constructor=constructor(pageClass,PageParameters.class);
  if (constructor != null) {
    return createPage(constructor,parameters);
  }
  constructor=constructor(pageClass);
  if (constructor != null) {
    return createPage(constructor,null);
  }
  throw new WicketRuntimeException("Unable to create page from " + pageClass + ". Class does neither have a constructor with PageParameter nor a default constructor");
}
