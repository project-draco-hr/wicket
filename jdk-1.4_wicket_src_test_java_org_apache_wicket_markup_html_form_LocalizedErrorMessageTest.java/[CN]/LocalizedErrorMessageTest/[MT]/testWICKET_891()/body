{
  tester.setupRequestAndResponse();
  tester.getWicketSession().setLocale(new Locale("nl"));
  LocalizedMessagePage page=new LocalizedMessagePage();
  tester.startPage(page);
  tester.processRequestCycle();
  tester.setupRequestAndResponse();
  tester.getServletRequest().setRequestToComponent(page.form);
  tester.getServletRequest().setParameter(page.integerField.getInputName(),"foo");
  page.form.onFormSubmitted();
  tester.assertErrorMessages(new String[]{"'foo' is geen valide type van Integer."});
  tester.getWicketSession().setLocale(new Locale("us"));
  tester.getWicketSession().cleanupFeedbackMessages();
  tester.setupRequestAndResponse();
  page=new LocalizedMessagePage();
  tester.startPage(page);
  tester.processRequestCycle();
  tester.setupRequestAndResponse();
  tester.getServletRequest().setRequestToComponent(page.form);
  tester.getServletRequest().setParameter(page.integerField.getInputName(),"foo");
  page.form.onFormSubmitted();
  tester.assertErrorMessages(new String[]{"'foo' is not a valid Integer."});
}
