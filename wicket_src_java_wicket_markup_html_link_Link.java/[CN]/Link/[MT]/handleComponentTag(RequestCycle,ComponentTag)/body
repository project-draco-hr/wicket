{
  checkTag(tag,"a");
  super.handleComponentTag(cycle,tag);
  if (autoEnable) {
    setEnabled(!linksTo(getPage()));
  }
  if (!enabled) {
    tag.setName("span");
    tag.remove("href");
  }
 else {
    String url=getURL(cycle);
    url=url.replaceAll("&","&amp;");
    tag.put("href",url);
  }
  if (popupSpecification != null) {
    String popupScript=popupSpecification.getPopupJavaScript();
    popupScript=popupScript.replaceAll("&","&amp;");
    tag.put("onClick",popupScript);
  }
}
