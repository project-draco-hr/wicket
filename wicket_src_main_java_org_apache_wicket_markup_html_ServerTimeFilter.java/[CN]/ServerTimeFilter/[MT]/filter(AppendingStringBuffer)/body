{
  int index=responseBuffer.indexOf("<head>");
  long timeTaken=System.currentTimeMillis() - RequestCycle.get().getStartTime();
  if (index != -1) {
    AppendingStringBuffer script=new AppendingStringBuffer(75);
    script.append("\n");
    script.append(JavascriptUtils.SCRIPT_OPEN_TAG);
    script.append("\nwindow.defaultStatus='Server time: ");
    script.append(((double)timeTaken) / 1000);
    script.append("s';\n");
    script.append(JavascriptUtils.SCRIPT_CLOSE_TAG);
    script.append("\n");
    responseBuffer.insert(index + 6,script);
  }
  log.info(timeTaken + "ms server time taken for request " + RequestCycle.get().getRequest().getUrl()+ " response size: "+ responseBuffer.length());
  return responseBuffer;
}
