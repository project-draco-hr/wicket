{
  IRequestTarget mounted=requestCycle.getProcessor().getRequestCodingStrategy().targetForRequest(requestParameters);
  if (mounted != null) {
    if (mounted instanceof IBookmarkablePageRequestTarget) {
      IBookmarkablePageRequestTarget bookmarkableTarget=(IBookmarkablePageRequestTarget)mounted;
      if (requestParameters.getComponentPath() != null && requestParameters.getInterfaceName() != null) {
        final String componentPath=requestParameters.getComponentPath();
        final Page page=Session.get().getPage(requestParameters.getPageMapName(),componentPath,requestParameters.getVersionNumber());
        if (page != null && page.getClass() == bookmarkableTarget.getPageClass()) {
          return resolveListenerInterfaceTarget(requestCycle,page,componentPath,requestParameters.getInterfaceName(),requestParameters);
        }
 else {
          PageParameters params=new PageParameters(requestParameters.getParameters());
          return new BookmarkableListenerInterfaceRequestTarget(requestParameters.getPageMapName(),bookmarkableTarget.getPageClass(),params,requestParameters.getComponentPath(),requestParameters.getInterfaceName());
        }
      }
    }
    return mounted;
  }
  final String path=requestParameters.getPath();
  if (requestParameters.getBookmarkablePageClass() != null) {
    return resolveBookmarkablePage(requestCycle,requestParameters);
  }
 else   if (requestParameters.getComponentPath() != null) {
    boolean processRequest=true;
synchronized (requestCycle.getSession()) {
      if (requestParameters.isOnlyProcessIfPathActive()) {
        Session session=Session.get();
        IPageMap pageMap=session.pageMapForName(requestParameters.getPageMapName(),false);
        if (pageMap == null) {
          processRequest=false;
        }
 else         if (pageMap instanceof AccessStackPageMap) {
          AccessStackPageMap accessStackPageMap=(AccessStackPageMap)pageMap;
          if (accessStackPageMap.getAccessStack().size() > 0) {
            final Access access=(Access)accessStackPageMap.getAccessStack().peek();
            final int pageId=Integer.parseInt(Strings.firstPathComponent(requestParameters.getComponentPath(),Component.PATH_SEPARATOR));
            if (pageId != access.getId()) {
              processRequest=false;
            }
 else {
              final int version=requestParameters.getVersionNumber();
              if (version != Page.LATEST_VERSION && version != access.getVersion()) {
                processRequest=false;
              }
            }
          }
        }
 else {
        }
      }
    }
    if (processRequest) {
      return resolveRenderedPage(requestCycle,requestParameters);
    }
 else {
      return EmptyRequestTarget.getInstance();
    }
  }
 else   if (requestParameters.getResourceKey() != null) {
    return resolveSharedResource(requestCycle,requestParameters);
  }
 else   if (Strings.isEmpty(path) || ("/".equals(path))) {
    return resolveHomePageTarget(requestCycle,requestParameters);
  }
  return resolveExternalResource(requestCycle);
}
