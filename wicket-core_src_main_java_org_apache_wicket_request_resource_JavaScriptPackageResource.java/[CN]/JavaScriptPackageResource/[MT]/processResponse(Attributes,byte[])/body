{
  final byte[] processedResponse=super.processResponse(attributes,bytes);
  IJavaScriptCompressor compressor=getCompressor();
  if (compressor != null && getCompress()) {
    try {
      String nonCompressed=new String(processedResponse,"UTF-8");
      return compressor.compress(nonCompressed).getBytes("UTF-8");
    }
 catch (    Exception e) {
      log.error("Error while filtering content",e);
      return processedResponse;
    }
  }
 else {
    return processedResponse;
  }
}
