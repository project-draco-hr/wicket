{
  final IAuthorizationStrategy authorizationStrategy=getApplication().getAuthorizationStrategy();
  visitChildren(new IVisitor(){
    public Object component(    Component component){
      component.setRenderAllowed(authorizationStrategy.allowRender(component));
      return IVisitor.CONTINUE_TRAVERSAL;
    }
  }
);
  resetMarkupStreams();
  final MarkupStream markupStream=getAssociatedMarkupStream();
  setMarkupStream(markupStream);
  configureResponse();
  setFlag(FLAG_IS_RENDERING,true);
  try {
    renderAll(markupStream);
  }
  finally {
    setFlag(FLAG_IS_RENDERING,false);
  }
}
