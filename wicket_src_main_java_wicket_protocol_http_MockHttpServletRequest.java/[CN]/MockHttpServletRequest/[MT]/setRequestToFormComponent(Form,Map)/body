{
  setRequestToComponent(form);
  final Map valuesApplied=new HashMap();
  form.visitChildren(new Component.IVisitor(){
    public Object component(    final Component component){
      if (component instanceof FormComponent) {
        String value=(String)values.get(component);
        if (value != null) {
          parameters.put(((FormComponent)component).getInputName(),values.get(component));
          valuesApplied.put(component.getId(),component);
        }
      }
      return CONTINUE_TRAVERSAL;
    }
  }
);
  if (values.size() != valuesApplied.size()) {
    Map diff=new HashMap();
    diff.putAll(values);
    Iterator iter=valuesApplied.keySet().iterator();
    while (iter.hasNext()) {
      diff.remove(iter.next());
    }
    log.error("Parameter mismatch: didn't find all components referenced in parameter 'values': " + diff.keySet());
  }
}
