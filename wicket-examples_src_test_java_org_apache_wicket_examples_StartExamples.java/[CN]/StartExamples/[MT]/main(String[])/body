{
  Server server=new Server();
  SocketConnector connector=new SocketConnector();
  connector.setMaxIdleTime(1000 * 60 * 60);
  connector.setSoLingerTime(-1);
  connector.setPort(8080);
  server.setConnectors(new Connector[]{connector});
  WebAppContext bb=new WebAppContext();
  bb.setServer(server);
  bb.setContextPath("/");
  bb.setWar("src/main/webapp");
  server.setHandler(bb);
  MBeanServer mBeanServer=ManagementFactory.getPlatformMBeanServer();
  MBeanContainer mBeanContainer=new MBeanContainer(mBeanServer);
  server.getContainer().addEventListener(mBeanContainer);
  try {
    mBeanContainer.start();
    server.start();
    server.join();
  }
 catch (  Exception e) {
    e.printStackTrace();
    System.exit(100);
  }
}
