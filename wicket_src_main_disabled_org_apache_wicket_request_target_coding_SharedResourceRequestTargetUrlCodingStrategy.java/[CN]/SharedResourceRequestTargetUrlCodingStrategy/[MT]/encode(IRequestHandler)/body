{
  if (!(requestTarget instanceof ISharedResourceRequestTarget)) {
    throw new IllegalArgumentException("This encoder can only be used with " + "instances of " + ISharedResourceRequestTarget.class.getName());
  }
  final AppendingStringBuffer url=new AppendingStringBuffer(40);
  url.append(getMountPath());
  final ISharedResourceRequestTarget target=(ISharedResourceRequestTarget)requestTarget;
  ObsoleteRequestParameters requestParameters=target.getRequestParameters();
  appendParameters(url,requestParameters.getParameters());
  return url;
}
