{
  if (dateField == null) {
    PropertyModel<Date> dateFieldModel=new PropertyModel<Date>(this,"date");
    add(dateField=newDateTextField("date",dateFieldModel));
    dateField.add(newDatePicker());
  }
  dateField.setRequired(isRequired());
  Date d=(Date)getDefaultModelObject();
  if (d != null) {
    date=new MutableDateTime(d);
  }
 else {
    date=null;
  }
  super.onBeforeRender();
}
