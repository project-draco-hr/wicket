{
  final Tree tree;
  if (TYPE_LIST.equals(type)) {
    tree=new ListTree("fileTree",currentTree.getTreeState()){
      protected void linkClicked(      RequestCycle cycle,      TreeNodeModel node){
        super.linkClicked(cycle,node);
        FileBrowser.log.info("tree link was clicked, user object: " + node.getUserObject());
      }
    }
;
  }
 else   if (TYPE_INDENT.equals(type)) {
    tree=new CustomIndentTree("fileTree",currentTree.getTreeState());
  }
 else   if (TYPE_LIST_CUSTOM_ROWS.equals(type)) {
    tree=new CustomListTree("fileTree",currentTree.getTreeState());
  }
 else {
    throw new RuntimeException("invalid type selection");
  }
  FileBrowser.this.setTreeComponent(tree);
}
