{
  String type=(String)newSelection;
  final Tree tree;
  if (TYPE_NESTED.equals(type)) {
    tree=new NLTree("fileTree",currentTree.getTreeState());
  }
 else   if (TYPE_FLAT.equals(type)) {
    tree=new FileTreeFlat("fileTree",currentTree.getTreeState());
  }
 else   if (TYPE_NESTED_CUSTOM_ROWS.equals(type)) {
    tree=new FileTreeCustomRows("fileTree",currentTree.getTreeState());
  }
 else {
    throw new RuntimeException("invalid type selection");
  }
  FileBrowser.this.setTreeComponent(tree);
}
