{
  FileBrowser.this.removeAll();
  addDefaultComponents();
  String type=(String)newSelection;
  final AbstractTree tree;
  if (TYPE_NESTED.equals(type)) {
    tree=new Tree("fileTree",currentTree.getTreeState());
  }
 else   if (TYPE_FLAT.equals(type)) {
    tree=new FileTreeFlat("fileTree",currentTree.getTreeState());
  }
 else   if (TYPE_NESTED_CUSTOM_ROW.equals(type)) {
    tree=new FileTreeCustomRow("fileTree",currentTree.getTreeState());
  }
 else   if (TYPE_NESTED_CUSTOM_ROWS.equals(type)) {
    tree=new FileTreeCustomRows("fileTree",currentTree.getTreeState());
  }
 else {
    throw new RuntimeException("invalid type selection");
  }
  FileBrowser.this.add(tree);
  FileBrowser.this.currentTree=tree;
}
