{
  String id=null;
  WebRequest webRequest=toWebRequest(request);
  HttpSession httpSession=webRequest.getHttpServletRequest().getSession(false);
  if (httpSession != null) {
    id=httpSession.getId();
  }
 else   if (create) {
    httpSession=webRequest.getHttpServletRequest().getSession(true);
    id=httpSession.getId();
    IRequestLogger logger=application.getRequestLogger();
    if (logger != null)     logger.sessionCreated(id);
  }
  return id;
}
