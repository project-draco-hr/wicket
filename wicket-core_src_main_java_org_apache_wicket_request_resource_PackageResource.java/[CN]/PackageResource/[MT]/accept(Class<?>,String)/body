{
  IPackageResourceGuard guard=ThreadContext.getApplication().getResourceSettings().getPackageResourceGuard();
  String realPath=path;
  IResourceStream resourceStream=getResourceStream();
  if (resourceStream instanceof IFixedLocationResourceStream) {
    realPath=((IFixedLocationResourceStream)resourceStream).locationAsString();
    if (realPath != null) {
      int index=realPath.indexOf(path);
      if (index != -1) {
        realPath=realPath.substring(index);
      }
 else       return guard.accept(null,realPath);
    }
 else {
      realPath=path;
    }
  }
  return guard.accept(scope,realPath);
}
