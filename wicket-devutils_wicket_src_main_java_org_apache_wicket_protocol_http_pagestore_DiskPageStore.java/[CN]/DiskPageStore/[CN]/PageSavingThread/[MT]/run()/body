{
  while (stop == Boolean.FALSE) {
    while (pagesToSaveActive.isEmpty() && stop == false) {
      try {
        Thread.sleep(getSavingThreadSleepTime());
      }
 catch (      InterruptedException ignore) {
      }
    }
    for (Iterator<Entry<String,List<SerializedPage>>> i=pagesToSaveActive.entrySet().iterator(); i.hasNext(); ) {
      Entry<String,List<SerializedPage>> entry=i.next();
      String sessionId=entry.getKey();
      List<SerializedPage> pages=entry.getValue();
synchronized (pages) {
        try {
          flushPagesToSaveList(sessionId,pages);
        }
 catch (        Exception e) {
          log.error("Error flushing serialized pages from worker thread for session " + sessionId,e);
        }
        i.remove();
      }
    }
  }
  stop=null;
}
