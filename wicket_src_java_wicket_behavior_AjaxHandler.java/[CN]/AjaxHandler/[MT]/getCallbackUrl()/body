{
  if (getComponent() == null) {
    throw new IllegalArgumentException("Behavior must be bound to a component to create the URL");
  }
  if (this instanceof IBehaviorListener) {
    throw new IllegalArgumentException("The behavior must implement IBehaviorListener to accept requests");
  }
  int index=getComponent().getBehaviors().indexOf(this);
  if (index == -1) {
    throw new IllegalArgumentException("Behavior " + this + " was not registered with this component: "+ getComponent().toString());
  }
  return getComponent().urlFor(IBehaviorListener.class) + "&behaviorId=" + index;
}
