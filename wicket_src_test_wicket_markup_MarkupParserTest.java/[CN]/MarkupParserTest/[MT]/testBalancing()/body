{
  IMarkup markup=parse("<span wicket:id=\"span\"><img wicket:id=\"img\"><span wicket:id=\"span2\"></span></span>");
  ComponentTag t=(ComponentTag)markup.get(0);
  assertEquals(t.getId(),"span");
  assertNotNull(markup.findComponentIndex("span"));
  t=(ComponentTag)markup.get(1);
  assertEquals(t.getId(),"img");
  assertNotNull(markup.findComponentIndex("span:img"));
  t=(ComponentTag)markup.get(2);
  assertEquals(t.getId(),"span2");
  assertNotNull(markup.findComponentIndex("span:span2"));
}
