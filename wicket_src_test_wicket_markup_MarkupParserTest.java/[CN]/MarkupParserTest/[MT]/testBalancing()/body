{
  IMarkup markup=parse("<span wicket:id=\"span\"><img wicket:id=\"img\"><span wicket:id=\"span2\"></span></span>");
  ComponentTag t=(ComponentTag)markup.get(0);
  assertEquals(t.getId(),"span");
  assertNotNull(markup.findTag("span"));
  assertNotNull(markup.findMarkupFragment("span",false));
  t=(ComponentTag)markup.get(1);
  assertEquals(t.getId(),"img");
  assertNotNull(markup.findTag("span:img"));
  assertNotNull(markup.findMarkupFragment("span:img",false));
  t=(ComponentTag)markup.get(2);
  assertEquals(t.getId(),"span2");
  assertNotNull(markup.findTag("span:span2"));
  assertNotNull(markup.findMarkupFragment("span:span2",false));
}
