{
  final String extension;
  if (component instanceof MarkupContainer) {
    extension=((MarkupContainer<?>)component).getMarkupType();
  }
 else {
    extension=component.getParent().getMarkupId();
  }
  MarkupFragment markupFragment=findMarkup(extension);
  MarkupFragment childFragment=markupFragment.getWicketFragment(Border.BORDER,true);
  List<MarkupElement> allElementsFlat=childFragment.getAllElementsFlat();
  Response response=component.getResponse();
  boolean render=false;
  for (  MarkupElement markupElement : allElementsFlat) {
    if (markupElement instanceof ComponentTag) {
      ComponentTag tag=(ComponentTag)markupElement;
      if (tag.isWicketBodyTag()) {
        render=true;
        continue;
      }
 else       if (tag.isBorderTag()) {
        continue;
      }
    }
    if (render) {
      response.write(markupElement.toCharSequence());
    }
  }
}
