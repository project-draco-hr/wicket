{
  page.visitChildren(new IVisitor(){
    public Object component(    final Component component){
      IModel componentModel=component.getModel();
      if ((componentModel != null) && (componentModel instanceof IDetachableModel)) {
        ((IDetachableModel)componentModel).detach(getSession());
      }
      if (component.attributeModifiers != null) {
        for (Iterator iterator=component.attributeModifiers.iterator(); iterator.hasNext(); ) {
          IModel modifierModel=(IModel)((ComponentTagAttributeModifier)iterator.next()).getReplaceModel();
          if ((modifierModel != null) && (modifierModel instanceof IDetachableModel)) {
            ((IDetachableModel)modifierModel).detach(getSession());
          }
        }
      }
      return CONTINUE_TRAVERSAL;
    }
  }
);
}
