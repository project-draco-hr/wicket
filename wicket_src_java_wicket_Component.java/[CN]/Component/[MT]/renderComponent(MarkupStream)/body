{
  final ComponentTag tag=markupStream.getTag().mutable();
  onComponentTag(tag);
  final XmlTag.Type type=tag.getType();
  if (tag.isOpenClose()) {
    tag.setType(XmlTag.OPEN);
  }
 else {
    if (!tag.isOpen()) {
      markupStream.throwMarkupException("Method renderComponent called on bad markup element " + tag);
    }
  }
  renderComponentTag(tag);
  markupStream.next();
  tag.setType(type);
  onComponentTagBody(markupStream,tag);
  renderClosingComponentTag(markupStream,tag);
}
