{
  if (this.markupStreamPosition < 0) {
    this.markupStreamPosition=markupStream.getCurrentIndex();
  }
 else {
    markupStream.setCurrentIndex(this.markupStreamPosition);
  }
  final ComponentTag tag=markupStream.getTag().mutable();
  onComponentTag(tag);
  if (!tag.isOpenClose() && !tag.isOpen()) {
    markupStream.throwMarkupException("Method renderComponent called on bad markup element " + tag);
  }
  if (getRenderBodyOnly() == false) {
    renderComponentTag(tag);
  }
  markupStream.next();
  if (tag.isOpen()) {
    onComponentTagBody(markupStream,tag);
  }
  if (tag.isOpen()) {
    renderClosingComponentTag(markupStream,tag,getRenderBodyOnly());
  }
}
