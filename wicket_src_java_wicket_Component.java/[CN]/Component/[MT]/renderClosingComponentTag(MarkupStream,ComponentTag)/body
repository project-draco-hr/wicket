{
  if (openTag.isOpen()) {
    if (markupStream.atCloseTag() && markupStream.getTag().closes(openTag)) {
      ComponentTag closeTag=markupStream.getTag();
      if (openTag.getNameChanged()) {
        closeTag=closeTag.mutable();
        closeTag.setName(openTag.getName());
      }
      renderComponentTag(closeTag);
      markupStream.next();
    }
 else {
      if (openTag.requiresCloseTag()) {
        markupStream.throwMarkupException("Expected close tag for " + openTag);
      }
    }
  }
 else   if (openTag.isOpenClose()) {
    if (this.renderComponentTag == false) {
      getResponse().write(openTag.syntheticCloseTagString());
    }
  }
}
