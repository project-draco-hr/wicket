{
  if (this.markupFragment != null) {
    return this.markupFragment;
  }
  String path=getId();
  MarkupContainer parent=getParent();
  while ((parent != null) && !(parent instanceof IMarkupProvider)) {
    path=parent.getMarkupFragmentPath(path);
    parent=parent.getParent();
  }
  if (parent == null) {
    throw new MarkupNotFoundException("Component has no parent with external markup file: " + getId());
  }
  return ((IMarkupProvider)parent).getMarkupFragment(path);
}
