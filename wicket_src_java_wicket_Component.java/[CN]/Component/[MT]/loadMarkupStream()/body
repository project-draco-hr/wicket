{
  try {
    this.markupFragment=getMarkupFragment();
    if ((this.markupFragment.size() > 0) && (this.markupFragment.get(0) instanceof ComponentTag)) {
      final ComponentTag tag=this.markupFragment.getTag(0);
      if (tag.hasBehaviors()) {
        Iterator<IBehavior> behaviors=tag.getBehaviors();
        while (behaviors.hasNext()) {
          add(behaviors.next());
        }
      }
    }
    final MarkupStream markupStream=new MarkupStream(markupFragment);
    return markupStream;
  }
 catch (  MarkupException ex) {
    log.warn("MarkupFragmentFinder was unable to find the markup associated with Component '" + id + "'. You will not be able to use the component for AJAX calls.");
    throw ex;
  }
catch (  RuntimeException re) {
    log.warn("MarkupFragmentFinder was unable to find the markup associated with Component '" + id + "'. You will not be able to use the component for AJAX calls.");
    throw new MarkupNotFoundException("Couldn't find the markup of the component '" + id + "' in parent '"+ parent.getPageRelativePath()+ "'",re);
  }
}
