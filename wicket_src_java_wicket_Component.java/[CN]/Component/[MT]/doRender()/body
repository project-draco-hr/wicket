{
  MarkupContainer parent=getParent();
  MarkupStream originalMarkupStream=parent.getMarkupStream();
  MarkupStream markupStream=initializeMarkupStream();
  this.markupStreamPosition=markupStream.getCurrentIndex();
  try {
    parent.setMarkupStream(markupStream);
    internalBeginRequest();
    render(markupStream);
  }
  finally {
    parent.setMarkupStream(originalMarkupStream);
  }
}
