{
  onInternalBeginRender();
  onBeginRender();
  RuntimeException exception=null;
  try {
    final RequestCycle cycle=getRequestCycle();
    final Response originalResponse=cycle.getResponse();
    if (!isVisible()) {
      cycle.setResponse(NullResponse.getInstance());
    }
synchronized (getModelLock()) {
      onRender();
      getPage().componentRendered(this);
    }
    cycle.setResponse(originalResponse);
  }
 catch (  RuntimeException e) {
    exception=e;
  }
 finally {
    try {
      onEndRender();
      onInternalEndRender();
      detachModels();
    }
 catch (    RuntimeException ex) {
      if (exception == null) {
        exception=ex;
      }
    }
  }
  if (exception != null) {
    throw exception;
  }
}
