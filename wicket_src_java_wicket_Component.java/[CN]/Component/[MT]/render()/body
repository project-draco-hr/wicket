{
  final boolean isVisible=isVisible();
  final RequestCycle cycle=getRequestCycle();
  final Response originalResponse;
  if (isVisible) {
    originalResponse=null;
    if (log.isDebugEnabled()) {
      log.debug("Begin render " + this);
    }
  }
 else {
    originalResponse=cycle.getResponse();
    cycle.setResponse(NullResponse.getInstance());
  }
  onRender();
  rendered();
  detachModels();
  if (isVisible) {
    if (log.isDebugEnabled()) {
      log.debug("End render " + this);
    }
  }
 else {
    cycle.setResponse(originalResponse);
  }
}
