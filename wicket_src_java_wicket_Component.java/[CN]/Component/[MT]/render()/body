{
  onBeginRender();
  try {
    final RequestCycle cycle=getRequestCycle();
    final Response originalResponse=cycle.getResponse();
    if (!isVisible()) {
      cycle.setResponse(NullResponse.getInstance());
    }
synchronized (getModelLock()) {
      onRender();
    }
    cycle.setResponse(originalResponse);
  }
  finally {
    rendering++;
    onEndRender();
    detachModels();
  }
}
