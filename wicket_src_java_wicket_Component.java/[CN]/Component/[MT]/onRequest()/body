{
  final String id=getRequest().getParameter("behaviorId");
  if (id == null) {
    throw new IllegalStateException("Parameter behaviorId was not provided: unable to locate listener");
  }
  final int idAsInt=Integer.parseInt(id);
  final IBehaviorListener behaviorListener=(IBehaviorListener)behaviors.get(idAsInt);
  if (behaviorListener == null) {
    throw new IllegalStateException("No behavior listener found with behaviorId " + id);
  }
  behaviorListener.onRequest();
}
