{
  final IModel model=getModel();
  if (model == null) {
    throw new IllegalStateException("Attempt to set model object on null model of component: " + getPageRelativePath());
  }
  if (!getApplication().getSecuritySettings().getAuthorizationStrategy().allowEnabledState(this)) {
    throw new UnauthorizedEnabledStateException("operation not allowed in the current authorization context");
  }
  final Object current=model.getObject(this);
  if (!getModelComparator().compare(current,object)) {
    modelChanging();
    if (getFlag(FLAG_HAS_ROOT_MODEL)) {
      getRootModel(model).setObject(null,object);
    }
 else {
      model.setObject(this,object);
    }
    modelChanged();
  }
  return this;
}
