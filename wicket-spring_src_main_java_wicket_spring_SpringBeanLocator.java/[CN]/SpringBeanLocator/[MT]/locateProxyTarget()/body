{
  final ApplicationContext context=springContextLocator.getSpringContext();
  if (context == null) {
    throw new IllegalStateException("spring application context locator returned null");
  }
  if (beanId != null && beanId.length() > 0) {
    return lookupSpringBean(context,beanId,getBeanType());
  }
 else {
    return lookupSpringBean(context,getBeanType());
  }
}
