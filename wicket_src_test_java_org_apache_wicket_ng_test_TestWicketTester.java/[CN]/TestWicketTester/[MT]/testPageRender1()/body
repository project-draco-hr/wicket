{
  WicketTester tester=new WicketTester();
  ThreadContext old=ThreadContext.get(false);
  ThreadContext.setSession(tester.getApplication().getSession());
  Page page=new Page1();
  tester.startPage(page);
  System.out.println(tester.getLastResponse().getTextResponse());
  Component c=tester.getLastRenderedPage().get("link");
  tester.executeListener(c,ILinkListener.INTERFACE);
  tester.destroy();
  ThreadContext.restore(old);
}
