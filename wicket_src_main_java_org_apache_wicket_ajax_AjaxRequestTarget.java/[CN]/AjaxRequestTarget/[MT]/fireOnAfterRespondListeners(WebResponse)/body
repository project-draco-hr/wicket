{
  if (listeners != null) {
    final Map<String,Component> components=Collections.unmodifiableMap(markupIdToComponent);
    final IJavascriptResponse jsresponse=new IJavascriptResponse(){
      public void addJavascript(      String script){
        respondInvocation(response,script);
      }
    }
;
    Iterator<IListener> it=listeners.iterator();
    while (it.hasNext()) {
      (it.next()).onAfterRespond(components,jsresponse);
    }
  }
}
