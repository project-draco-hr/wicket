{
  super.renderHead(response);
  AppendingStringBuffer asb=new AppendingStringBuffer();
  asb.append("function attachChoiceHandlers(markupid, callbackscript) {\n");
  asb.append(" var choiceElementGroup = document.getElementById(markupid);\n");
  asb.append(" for( var x = 0; x < choiceElementGroup.childNodes.length; x++ ) {\n");
  asb.append("   var choiceElementList = choiceElementGroup.childNodes[x];");
  asb.append("   for( var y = 0; y < choiceElementList.childNodes.length; y++ ) {\n");
  asb.append("     if (choiceElementList.childNodes[y] && choiceElementList.childNodes[y].tagName) {\n");
  asb.append("       var tag = choiceElementList.childNodes[y].tagName.toLowerCase();\n");
  asb.append("       if (tag == 'input') {\n");
  asb.append("         Wicket.Event.add(choiceElementList.childNodes[y],'click', callbackscript);");
  asb.append("       }\n");
  asb.append("     }\n");
  asb.append("   }\n");
  asb.append(" }\n");
  asb.append("}\n");
  response.renderJavascript(asb,"attachChoice");
  response.renderOnLoadJavascript("attachChoiceHandlers('" + getComponent().getMarkupId() + "', function() {"+ getEventHandler()+ "});");
}
