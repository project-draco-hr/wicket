{
  List<T> collection=new ArrayList<T>();
  if (values != null && values.length > 0) {
    for (    final String value : values) {
      if (value != null) {
        AbstractCheck<T> checkbox=(AbstractCheck<T>)visitChildren(new Component.IVisitor(){
          public Object component(          Component component){
            if (component instanceof Check) {
              final AbstractCheck<T> check=(AbstractCheck<T>)component;
              if (String.valueOf(check.getValue()).equals(value) && check.getGroup() == CheckGroup.this) {
                return check;
              }
            }
            return CONTINUE_TRAVERSAL;
          }
        }
);
        if (checkbox == null) {
          throw new WicketRuntimeException("submitted http post value [" + Arrays.toString(values) + "] for CheckGroup component ["+ getPath()+ "] contains an illegal value "+ "["+ value+ "] which does not point to a Check component. Due to this the CheckGroup component cannot resolve the selected Check component pointed to by the illegal value. A possible reason is that componment hierarchy changed between rendering and form submission.");
        }
        collection.add(checkbox.getModelObject());
      }
    }
  }
  return collection;
}
