{
  if (component instanceof IFormSubmittingComponent) {
    return ((IFormSubmittingComponent)component).getForm();
  }
class FindFormVisitor implements Component.IVisitor<Form<?>> {
    Form<?> form=null;
    public Object component(    Form<?> component){
      form=component;
      return Component.IVisitor.STOP_TRAVERSAL;
    }
  }
  Form<?> form=component.findParent(Form.class);
  if (form == null) {
    final Border border=component.findParent(Border.class);
    if (border != null) {
      FindFormVisitor formVisitor=new FindFormVisitor();
      border.visitChildren(Form.class,formVisitor);
      form=formVisitor.form;
    }
  }
  return form;
}
