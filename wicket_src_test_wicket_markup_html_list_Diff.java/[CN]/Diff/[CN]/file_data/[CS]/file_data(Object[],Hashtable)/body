{
  buffered_lines=data.length;
  equivs=new int[buffered_lines];
  undiscarded=new int[buffered_lines];
  realindexes=new int[buffered_lines];
  for (int i=0; i < data.length; ++i) {
    Integer ir=(Integer)h.get(data[i]);
    if (ir == null) {
      h.put(data[i],new Integer(equivs[i]=equiv_max++));
    }
 else {
      equivs[i]=ir.intValue();
    }
  }
}
