{
  ActionResponse response=getActionResponse(requestCycle);
  final PortletPage page=(PortletPage)requestTarget.getPage();
  page.urlFor(requestTarget);
  requestCycle.getSession().touch(page);
  final IPageMap pageMap=page.getPageMap();
  if (!pageMap.isDefault()) {
    response.setRenderParameter(PAGEMAP,pageMap.getName());
  }
  response.setRenderParameter(COMPONENT_PATH_PARAMETER_NAME,page.getPath());
  final int versionNumber=page.getCurrentVersionNumber();
  response.setRenderParameter(VERSION_PARAMETER_NAME,String.valueOf(versionNumber));
  response.setRenderParameter(INTERFACE_PARAMETER_NAME,IRedirectListener.INTERFACE.getName());
}
