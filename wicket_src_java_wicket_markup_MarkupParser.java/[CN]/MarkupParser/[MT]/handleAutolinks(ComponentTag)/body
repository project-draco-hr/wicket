{
  if (tag == null) {
    return false;
  }
  if ((automaticLinking == true) && (tag.getComponentName() == null) && tag.getAttributes().containsKey("href")) {
    final String originalHref=tag.getAttributes().getString("href");
    final int pos=originalHref.indexOf(".html");
    if (pos <= 0) {
      return false;
    }
    tag.componentName="_autolink_";
    tag.enableAutolink(true);
    return true;
  }
  if (tag instanceof ComponentWicketTag) {
    final ComponentWicketTag wtag=(ComponentWicketTag)tag;
    if (wtag.isLinkTag()) {
      if (tag.isOpen()) {
        if (autolinkStatus == null) {
          autolinkStatus=new Stack();
        }
        autolinkStatus.push(new Boolean(automaticLinking));
        final String autolink=tag.getAttributes().getString("autolink");
        if ((autolink == null) || "".equals(autolink) || "true".equalsIgnoreCase(autolink)|| "1".equals(autolink)) {
          automaticLinking=true;
        }
 else {
          automaticLinking=false;
        }
      }
 else       if (tag.isClose()) {
        automaticLinking=((Boolean)autolinkStatus.pop()).booleanValue();
      }
 else {
        throw new ParseException("<wicket:link> can not be a open-close tag",tag.getPos());
      }
    }
  }
  return false;
}
