{
  this.detectWicketComponents=new WicketTagIdentifier(xmlParser);
  this.detectWicketComponents.setWicketNamespace(this.wicketNamespace);
  final WicketParamTagHandler wicketParamTagHandler=new WicketParamTagHandler(new HtmlHandler(detectWicketComponents));
  wicketParamTagHandler.setStripWicketTag(this.stripWicketTag);
  final WicketRemoveTagHandler previewComponentTagRemover=new WicketRemoveTagHandler(wicketParamTagHandler);
  final WicketLinkTagHandler autolinkHandler=new WicketLinkTagHandler(previewComponentTagRemover);
  autolinkHandler.setAutomaticLinking(this.automaticLinking);
  final WicketExtendHandler extendHandler=new WicketExtendHandler(autolinkHandler);
  extendHandler.setTagList(tagList);
  if (this.container != null) {
    final BodyOnLoadHandler bodyHandler=new BodyOnLoadHandler(extendHandler);
    if ((this.container != null) && (container instanceof Page)) {
      final HtmlHeaderSectionHandler headerHandler=new HtmlHeaderSectionHandler(bodyHandler);
      headerHandler.setTagList(tagList);
      return headerHandler;
    }
    return bodyHandler;
  }
  return extendHandler;
}
