{
  int pos1=rawMarkup.indexOf("<!--");
  while (pos1 >= 0) {
    final AppendingStringBuffer buf=new AppendingStringBuffer(rawMarkup.length());
    final int pos2=rawMarkup.indexOf("-->",pos1);
    if (pos2 >= 0) {
      if (pos1 > 0) {
        buf.append(rawMarkup.substring(0,pos1 - 1));
      }
      buf.append(rawMarkup.substring(pos2 + 4));
      rawMarkup=buf.toString();
    }
    pos1=rawMarkup.indexOf("<!--");
  }
  return rawMarkup;
}
