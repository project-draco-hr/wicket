{
  String attrValue=null;
  final ValueMap attributes=tag.getAttributes();
  final Iterator it=attributes.keySet().iterator();
  while (it.hasNext()) {
    final String attributeName=(String)it.next();
    if (attributeName.startsWith("xmlns:")) {
      final String xmlnsUrl=attributes.getString(attributeName);
      if ((xmlnsUrl == null) || (xmlnsUrl.trim().length() == 0) || xmlnsUrl.toLowerCase().startsWith("http://wicket.sourceforge.net")) {
        String namespace=attributeName.substring(6);
        markup.setWicketNamespace(namespace);
        attrValue=attributeName;
      }
    }
  }
  if ((attrValue != null) && Application.get().getMarkupSettings().getStripWicketTags()) {
    attributes.remove(attrValue);
    return true;
  }
  return false;
}
