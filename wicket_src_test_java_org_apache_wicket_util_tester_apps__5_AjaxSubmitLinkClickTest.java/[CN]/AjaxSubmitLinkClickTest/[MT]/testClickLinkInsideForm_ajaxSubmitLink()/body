{
  MockPojo mockPojo=new MockPageWithFormAndLink.MockPojo();
  mockPojo.setName("Mock name");
  final MockPageWithFormAndContainedLink page=new MockPageWithFormAndContainedLink(mockPojo);
  page.addLink(new AjaxSubmitLink<Void>("link"){
    private static final long serialVersionUID=1L;
    @Override protected void onSubmit(    AjaxRequestTarget target,    Form<?> form){
      assertNotNull(form);
      linkClicked=true;
    }
  }
);
  tester.startPage(new ITestPageSource(){
    private static final long serialVersionUID=1L;
    public Page<?> getTestPage(){
      return page;
    }
  }
);
  tester.assertRenderedPage(MockPageWithFormAndContainedLink.class);
  page.getNameField().setModelValue(new String[]{"new mock value"});
  tester.clickLink("form:link");
  assertTrue(linkClicked);
  assertEquals("new mock value",mockPojo.getName());
}
