{
  IModel wsDetachModel=new LoadableDetachableModel<WeatherStation>(){
    private static final long serialVersionUID=1L;
    private transient WeatherStation station;
    @Override protected WeatherStation load(){
      return new WeatherStation();
    }
  }
;
  StringResourceModel model=new StringResourceModel("simple.text",page,wsDetachModel);
  tester.setupRequestAndResponse();
  new WebRequestCycle(tester.getWicketSession(),tester.getWicketRequest(),tester.getWicketResponse());
  model.getObject();
  Assert.assertNotNull(model.getLocalizer());
  model.detach();
  Assert.assertNull(model.getLocalizer());
}
