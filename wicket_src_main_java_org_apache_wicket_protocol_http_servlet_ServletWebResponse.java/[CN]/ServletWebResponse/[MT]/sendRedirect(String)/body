{
  try {
    redirect=true;
    url=getAbsoluteURL(url);
    url=httpServletResponse.encodeRedirectURL(url);
    this.disableCaching();
    if (ServletWebRequest.isAjax(httpServletRequest)) {
      httpServletResponse.addHeader("Ajax-Location",url);
      httpServletResponse.getWriter().write("<ajax-response><redirect>" + url + "</redirect></ajax-response>");
      setContentType("text/xml;charset=" + httpServletRequest.getCharacterEncoding());
    }
 else {
      httpServletResponse.sendRedirect(url);
    }
  }
 catch (  IOException e) {
    throw new WicketRuntimeException(e);
  }
}
