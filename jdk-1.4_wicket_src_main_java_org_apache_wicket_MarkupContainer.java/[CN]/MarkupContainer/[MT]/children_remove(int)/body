{
  if (children instanceof Component || children instanceof ComponentSourceEntry) {
    if (index == 0) {
      final Component removed=(Component)postprocess(children,true,null,-1);
      children=null;
      return removed;
    }
 else {
      throw new IndexOutOfBoundsException();
    }
  }
 else {
    Object[] c=((Object[])children);
    final Object removed=c[index];
    if (c.length == 2) {
      if (index == 0) {
        children=c[1];
      }
 else       if (index == 1) {
        children=c[0];
      }
 else {
        throw new IndexOutOfBoundsException();
      }
    }
 else {
      Object[] newChildren=new Object[c.length - 1];
      int j=0;
      for (int i=0; i < c.length; i++) {
        if (i != index) {
          newChildren[j++]=c[i];
        }
      }
      children=newChildren;
    }
    return (Component)postprocess(removed,true,null,-1);
  }
}
