{
  if (children instanceof Component) {
    if (index == 0) {
      final Component removed=(Component)children;
      children=null;
      return removed;
    }
 else {
      throw new IndexOutOfBoundsException();
    }
  }
 else {
    Component[] c=((Component[])children);
    final Component removed=c[index];
    if (c.length == 2) {
      if (index == 0) {
        children=c[1];
      }
 else       if (index == 1) {
        children=c[0];
      }
 else {
        throw new IndexOutOfBoundsException();
      }
    }
 else {
      Component[] newChildren=new Component[c.length - 1];
      int j=0;
      for (int i=0; i < c.length; i++) {
        if (i != index) {
          newChildren[j++]=c[i];
        }
      }
      children=newChildren;
    }
    return removed;
  }
}
