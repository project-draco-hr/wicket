{
  final IModel previous=this.model;
  super.setModel(model);
  if (previous instanceof IComponentInheritedModel) {
    visitChildren(new IVisitor(){
      public Object component(      Component component){
        IModel compModel=component.getModel();
        if (compModel instanceof IWrapModel) {
          compModel=((IWrapModel)compModel).getWrappedModel();
        }
        if (compModel == previous) {
          component.setModel(null);
        }
 else         if (compModel == model) {
          component.modelChanged();
        }
        return IVisitor.CONTINUE_TRAVERSAL;
      }
    }
);
  }
  return this;
}
