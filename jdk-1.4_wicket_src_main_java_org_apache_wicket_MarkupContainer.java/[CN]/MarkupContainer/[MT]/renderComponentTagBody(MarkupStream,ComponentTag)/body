{
  if ((markupStream != null) && (markupStream.getCurrentIndex() > 0)) {
    ComponentTag origOpenTag=(ComponentTag)markupStream.get(markupStream.getCurrentIndex() - 1);
    if (origOpenTag.isOpenClose()) {
      return;
    }
  }
  boolean render=openTag.requiresCloseTag();
  if (render == false) {
    render=!openTag.hasNoCloseTag();
  }
  if (render == true) {
    while (markupStream.hasMore() && !markupStream.get().closes(openTag)) {
      final int index=markupStream.getCurrentIndex();
      renderNext(markupStream);
      if (index == markupStream.getCurrentIndex()) {
        markupStream.throwMarkupException("Markup element at index " + index + " failed to advance the markup stream");
      }
    }
  }
}
