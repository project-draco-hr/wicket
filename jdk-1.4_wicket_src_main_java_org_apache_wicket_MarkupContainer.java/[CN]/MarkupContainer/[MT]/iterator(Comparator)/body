{
  final List sorted;
  if (children == null) {
    sorted=Collections.EMPTY_LIST;
  }
 else {
    if (children instanceof Component) {
      sorted=new ArrayList(1);
      sorted.add(children);
    }
 else     if (children instanceof ChildList) {
      sorted=new ArrayList((ChildList)children);
    }
 else {
      sorted=Arrays.asList((Component[])children);
    }
  }
  Collections.sort(sorted,comparator);
  return sorted.iterator();
}
