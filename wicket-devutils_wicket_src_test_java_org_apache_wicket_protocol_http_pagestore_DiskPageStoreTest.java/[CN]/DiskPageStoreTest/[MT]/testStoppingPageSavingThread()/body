{
  new WicketTester();
  DiskPageStore store=new DiskPageStore(){
    @Override protected boolean isSynchronous(){
      return false;
    }
  }
;
  int activeThreadsBefore=Thread.activeCount();
  store.destroy();
  int activeThreadsAfter=Thread.activeCount();
  if (activeThreadsAfter != (activeThreadsBefore - 1)) {
    try {
      Thread.sleep(2000);
    }
 catch (    InterruptedException e) {
    }
    activeThreadsAfter=Thread.activeCount();
  }
  assertEquals(activeThreadsBefore - 1,activeThreadsAfter);
}
