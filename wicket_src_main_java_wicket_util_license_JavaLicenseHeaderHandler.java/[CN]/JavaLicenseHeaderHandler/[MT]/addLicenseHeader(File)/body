{
  boolean added=false;
  try {
    String fileContent=new wicket.util.file.File(file).readString();
    Matcher mat=javaHeaderPattern.matcher(fileContent);
    if (mat.matches()) {
      String header=mat.group(1);
      if (header.equals(getLicenseHeader()) == false) {
        String newContent=fileContent.replace(header,"");
        newContent=getLicenseHeader().trim() + LINE_ENDING + newContent;
        new wicket.util.file.File(file).write(newContent);
        added=true;
      }
    }
 else {
      Assert.fail();
    }
  }
 catch (  Exception e) {
    e.printStackTrace();
    Assert.fail(e.getMessage());
  }
  return added;
}
