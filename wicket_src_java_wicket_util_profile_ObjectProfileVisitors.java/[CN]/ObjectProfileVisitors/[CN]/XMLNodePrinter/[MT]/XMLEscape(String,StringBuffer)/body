{
  final char[] chars=s.toCharArray();
  for (int i=0, iLimit=s.length(); i < iLimit; ++i) {
    final char c=chars[i];
switch (c) {
case '<':
      append.append("&lt;");
    break;
case '>':
  append.append("&gt;");
break;
case '"':
append.append("&#34;");
break;
case '&':
append.append("&amp;");
break;
default :
append.append(c);
}
}
}
