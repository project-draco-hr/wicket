{
  AjaxFallbackLink<Void> link=new AjaxFallbackLink<Void>("link"){
    private static final long serialVersionUID=1L;
    @Override public void onClick(    AjaxRequestTarget target){
      LoopItem item=(LoopItem)getParent();
      onRated(item.getIteration() + 1,target);
      if (target != null) {
        target.addComponent(RatingPanel.this.get("rater"));
      }
    }
    @Override public boolean isEnabled(){
      return !hasVoted.getObject();
    }
  }
;
  int iteration=item.getIteration();
  link.add(new WebMarkupContainer("star").add(new SimpleAttributeModifier("src",(onIsStarActive(iteration) ? getActiveStarUrl(iteration) : getInactiveStarUrl(iteration)))));
  item.add(link);
}
