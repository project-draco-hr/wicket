{
  final TagParser parser=new TagParser();
  parser.setInput("This is a test <a href=\"foo.html\"> <b>Bold!</b> " + "<img width=9 height=10 src=\"foo\"> <marker/> </a>");
  final Tag aOpen=parser.nextTag();
  System.out.println(aOpen);
  Assert.assertTrue(aOpen.getName().equals("a"));
  Assert.assertEquals("foo.html",aOpen.getAttributes().getString("href"));
  final Tag boldOpen=parser.nextTag();
  System.out.println(boldOpen);
  Assert.assertTrue(boldOpen.getName().equals("b"));
  Assert.assertTrue(boldOpen.isOpen());
  Assert.assertTrue(!boldOpen.isClose());
  final Tag boldClose=parser.nextTag();
  System.out.println(boldClose);
  Assert.assertTrue(boldClose.getName().equals("b"));
  Assert.assertTrue(!boldClose.isOpen());
  Assert.assertTrue(boldClose.isClose());
  final Tag img=parser.nextTag();
  System.out.println(img);
  Assert.assertTrue(img.getName().equals("img"));
  Assert.assertEquals(9,img.getAttributes().getInt("width"));
  Assert.assertEquals(10,img.getAttributes().getInt("height"));
  Assert.assertTrue(img.isOpen());
  Assert.assertTrue(!img.isClose());
  final Tag marker=parser.nextTag();
  System.out.println(marker);
  Assert.assertTrue(marker.getName().equals("marker"));
  Assert.assertTrue(marker.isOpen());
  Assert.assertTrue(marker.isClose());
  final Tag aClose=parser.nextTag();
  System.out.println(aClose);
  Assert.assertTrue(aClose.getName().equals("a"));
  Assert.assertNull(parser.nextTag());
}
