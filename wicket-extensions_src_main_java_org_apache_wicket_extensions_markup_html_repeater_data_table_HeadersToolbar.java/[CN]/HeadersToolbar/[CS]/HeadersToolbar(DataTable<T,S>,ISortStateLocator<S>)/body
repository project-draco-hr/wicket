{
  super(table);
  RepeatingView headers=new RepeatingView("headers");
  add(headers);
  final List<IColumn<T,S>> columns=table.getColumns();
  for (  final IColumn<T,S> column : columns) {
    AbstractItem item=new AbstractItem(headers.newChildId());
    headers.add(item);
    WebMarkupContainer header=null;
    if (column.isSortable()) {
      header=newSortableHeader("header",column.getSortProperty(),stateLocator);
    }
 else {
      header=new WebMarkupContainer("header");
    }
    if (column instanceof IStyledColumn) {
      CssAttributeBehavior cssAttributeBehavior=new DataTable.CssAttributeBehavior(){
        private static final long serialVersionUID=1L;
        @Override protected String getCssClass(){
          return ((IStyledColumn<?,S>)column).getCssClass();
        }
      }
;
      header.add(cssAttributeBehavior);
    }
    item.add(header);
    item.setRenderBodyOnly(true);
    header.add(column.getHeader("label"));
  }
}
