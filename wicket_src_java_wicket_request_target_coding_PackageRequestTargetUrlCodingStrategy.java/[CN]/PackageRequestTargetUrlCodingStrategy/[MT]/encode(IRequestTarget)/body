{
  if (!(requestTarget instanceof IBookmarkablePageRequestTarget)) {
    throw new IllegalArgumentException("this encoder can only be used with instances of " + IBookmarkablePageRequestTarget.class.getName());
  }
  AppendingStringBuffer url=new AppendingStringBuffer(40);
  url.append(getMountPath());
  IBookmarkablePageRequestTarget target=(IBookmarkablePageRequestTarget)requestTarget;
  url.append("/").append(Classes.simpleName(target.getPageClass()));
  appendPageParameters(url,target.getPageParameters());
  return url;
}
