{
  if (getAttribute(request,getSessionAttribute()) != newSession) {
    onBind(request,newSession);
    HttpSession httpSession=getHttpSession(request,false);
    String applicationKey=Application.get().getName();
    httpSession.setAttribute("Wicket:SessionUnbindingListener-" + applicationKey,new SessionBindingListener(applicationKey,httpSession.getId()));
    setAttribute(request,getSessionAttribute(),newSession);
  }
}
