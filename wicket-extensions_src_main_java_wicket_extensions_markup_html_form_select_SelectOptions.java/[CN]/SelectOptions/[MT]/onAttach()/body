{
  if (size() == 0 || recreateChoices) {
    removeAll();
    Collection<T> modelObject=getModelObject();
    if (modelObject != null) {
      if (!(modelObject instanceof Collection)) {
        throw new WicketRuntimeException("Model object " + modelObject + " not a collection");
      }
      for (      T value : modelObject) {
        WebMarkupContainer row=new WebMarkupContainer(this,newChildId());
        row.setRenderBodyOnly(true);
        String text=renderer.getDisplayValue(value);
        IModel<T> model=renderer.getModel(value);
        new SimpleSelectOption<T>(row,"option",model,text);
      }
    }
  }
}
