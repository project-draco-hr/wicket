{
  super.internalInit();
  getApplicationSettings().setPageExpiredErrorPage(PageExpiredErrorPage.class);
  getApplicationSettings().setInternalErrorPage(InternalErrorPage.class);
  getApplicationSettings().setAccessDeniedPage(AccessDeniedPage.class);
  getPageSettings().addComponentResolver(new AutoLinkResolver());
  getResourceSettings().setResourceFinder(new WebApplicationPath(getWicketServlet().getServletContext()));
  String contextPath=wicketServlet.getInitParameter(Application.CONTEXTPATH);
  if (contextPath != null) {
    getApplicationSettings().setContextPath(contextPath);
  }
  String configuration=null;
  try {
    configuration=System.getProperty("wicket." + Application.CONFIGURATION);
  }
 catch (  SecurityException e) {
  }
  if (configuration == null) {
    configuration=wicketServlet.getInitParameter(Application.CONFIGURATION);
  }
  if (configuration == null) {
    configuration=wicketServlet.getServletContext().getInitParameter(Application.CONFIGURATION);
  }
  if (configuration != null) {
    configure(configuration,wicketServlet.getInitParameter("sourceFolder"));
  }
 else {
    configure(Application.DEVELOPMENT,wicketServlet.getInitParameter("sourceFolder"));
  }
}
