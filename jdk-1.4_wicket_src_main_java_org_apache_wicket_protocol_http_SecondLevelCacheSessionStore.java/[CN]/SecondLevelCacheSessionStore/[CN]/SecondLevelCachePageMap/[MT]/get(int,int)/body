{
  PageVersions pv=null;
  if (versionNumber == -1) {
    for (int index=pageVersions.size() - 1; index >= 0; --index) {
      if (((PageVersions)pageVersions.get(index)).pageid == id) {
        pv=(PageVersions)pageVersions.get(index);
        versionNumber=pv.versionid;
        break;
      }
    }
  }
  String sessionId=getSession().getId();
  if (lastPage != null && lastPage.getNumericId() == id) {
    Page page=lastPage.getVersion(versionNumber);
    if (page != null) {
      getStore().pageAccessed(sessionId,page);
      return page;
    }
  }
  if (sessionId != null) {
    int ajaxVersionNumber=0;
    if (pv == null) {
      int index=pageVersions.indexOf(new PageVersions(id,versionNumber,-1));
      if (index != -1) {
        pv=(PageVersions)pageVersions.get(index);
      }
    }
    if (pv != null) {
      ajaxVersionNumber=pv.ajaxversionid;
    }
    return getStore().getPage(sessionId,getName(),id,versionNumber,ajaxVersionNumber);
  }
  return null;
}
