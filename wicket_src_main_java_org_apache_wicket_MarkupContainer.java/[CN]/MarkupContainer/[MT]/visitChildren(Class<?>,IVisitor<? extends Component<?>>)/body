{
  if (visitor == null) {
    throw new IllegalArgumentException("argument visitor may not be null");
  }
  for (int i=0; i < children_size(); i++) {
    final Component<?> child=children_get(i);
    Object value=null;
    IVisitor vis=visitor;
    if (clazz == null || clazz.isInstance(child)) {
      value=vis.component(child);
      if ((value != IVisitor.CONTINUE_TRAVERSAL) && (value != IVisitor.CONTINUE_TRAVERSAL_BUT_DONT_GO_DEEPER)) {
        return value;
      }
    }
    if ((child instanceof MarkupContainer) && (value != IVisitor.CONTINUE_TRAVERSAL_BUT_DONT_GO_DEEPER)) {
      value=((MarkupContainer<?>)child).visitChildren(clazz,visitor);
      if ((value != IVisitor.CONTINUE_TRAVERSAL) && (value != IVisitor.CONTINUE_TRAVERSAL_BUT_DONT_GO_DEEPER)) {
        return value;
      }
    }
  }
  return null;
}
