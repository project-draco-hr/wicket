{
  if (component instanceof MarkupContainer) {
    final MarkupContainer container=(MarkupContainer)component;
    if (container.size() > 0) {
      boolean visitChildren=true;
      if (container instanceof IFormVisitorParticipant) {
        visitChildren=((IFormVisitorParticipant)container).processChildren();
      }
      if (visitChildren) {
        Visit<R> childTraversal=new Visit<R>();
        final Iterator<? extends Component> children=container.iterator();
        while (children.hasNext()) {
          final Component child=children.next();
          visitComponentsPostOrderHelper(child,visitor,childTraversal);
          if (childTraversal.isStopped()) {
            visit.stop(childTraversal.getResult());
            return;
          }
        }
      }
    }
  }
  visitor.component(component,visit);
}
