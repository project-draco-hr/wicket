{
  Page page=new MyPage();
  WebComponent a;
  page.add(a=new WebComponent("a"));
  WebMarkupContainer b;
  page.add(b=new WebMarkupContainer("b"));
  WebMarkupContainer b1;
  b.add(b1=new WebMarkupContainer("b1"));
  WebMarkupContainer b2;
  b.add(b2=new WebMarkupContainer("b2"));
  WebMarkupContainer b12;
  b1.add(b12=new WebMarkupContainer("b12"));
  WebMarkupContainer b121;
  b12.add(b121=new WebMarkupContainer("b121"));
  int count=0;
  StringBuilder buf=new StringBuilder();
  ComponentHierarchyIterator iter=new ComponentHierarchyIterator(page);
  iter.setChildFirst(true);
  while (iter.hasNext()) {
    Component component=iter.next();
    count+=1;
    if (buf.length() > 0) {
      buf.append(Component.PATH_SEPARATOR);
    }
    buf.append(component.getId());
  }
  assertEquals(6,count);
  assertEquals("a:b121:b12:b1:b2:b",buf.toString());
}
