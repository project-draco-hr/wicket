{
  boolean hit=false;
  final Iterator iter=idToBook.values().iterator();
  while (iter.hasNext()) {
    final Book value=(Book)iter.next();
    if (value.toString().equals(book.toString())) {
      book.id=value.id;
      hit=true;
      break;
    }
  }
  if (hit == false) {
    idToBook.put(new Long(book.id),book);
  }
}
