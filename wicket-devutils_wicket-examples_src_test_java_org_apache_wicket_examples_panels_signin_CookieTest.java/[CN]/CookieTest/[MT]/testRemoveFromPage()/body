{
  panel.setPersistent(true);
  page.removePersistedFormData(SignInPanel.SignInForm.class,true);
  Collection<Cookie> cookieCollection=tester.getServletResponse().getCookies();
  Assert.assertEquals(2,cookieCollection.size());
  final Cookie cookieUsername=new Cookie("panel.signInForm.username","juergen");
  final Cookie cookiePassword=new Cookie("panel.signInForm.password","test");
  final Cookie[] cookies=new Cookie[]{cookieUsername,cookiePassword};
  tester.getServletRequest().setCookies(cookies);
  page.removePersistedFormData(SignInPanel.SignInForm.class,true);
  cookieCollection=tester.getServletResponse().getCookies();
  Assert.assertEquals(4,cookieCollection.size());
  for (  Cookie cookie : cookieCollection) {
    String pathOfStoredComponent=cookie.getName().replaceAll("\\.",":");
    Assert.assertNotNull(page.get(pathOfStoredComponent));
    Assert.assertEquals(cookie.getMaxAge(),0);
  }
}
