{
  CommentForm commentForm=new CommentForm("commentForm");
  add(commentForm);
  comments=new WebMarkupContainer("comments");
  add(comments.setOutputMarkupId(true));
  comments.add(commentListView=new ListView("comments",new PropertyModel(this,"commentList")){
    public void populateItem(    final ListItem listItem){
      final Comment comment=(Comment)listItem.getModelObject();
      listItem.add(new Label("date",new Model(comment.getDate())));
      listItem.add(new MultiLineLabel("text",comment.getText()));
    }
  }
);
  commentForm.add(new AjaxFormSubmitBehavior(commentForm,"onsubmit"){
    protected IAjaxCallDecorator getAjaxCallDecorator(){
      return new AjaxCallDecorator(){
        public CharSequence decorateScript(        CharSequence script){
          return script + "return false;";
        }
      }
;
    }
    protected void onSubmit(    AjaxRequestTarget target){
      target.addComponent(comments);
      target.addComponent(text);
      target.appendJavascript("document.getElementById('" + text.getMarkupId() + "').focus();");
    }
    @Override protected void onError(    AjaxRequestTarget target){
    }
  }
);
}
