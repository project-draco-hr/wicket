{
  Server server=new Server();
  SelectChannelConnector connector=new SelectChannelConnector();
  connector.setPort(8080);
  server.setConnectors(new Connector[]{connector});
  WebAppContext web=new WebAppContext();
  web.setContextPath("/wicket-examples");
  web.setWar("src/webapp");
  server.addHandler(web);
  MBeanServer mBeanServer=ManagementFactory.getPlatformMBeanServer();
  MBeanContainer mBeanContainer=new MBeanContainer(mBeanServer);
  server.getContainer().addEventListener(mBeanContainer);
  mBeanContainer.start();
  try {
    server.start();
    System.out.println(">>> PRESS ANY KEY TO SHUTDOWN THE SERVER");
    while (System.in.available() == 0) {
      Thread.sleep(2000);
    }
    System.out.println(">>> SHUTTING DOWN SERVER");
    server.stop();
    server.join();
  }
 catch (  Exception e) {
    e.printStackTrace();
    System.exit(100);
  }
}
