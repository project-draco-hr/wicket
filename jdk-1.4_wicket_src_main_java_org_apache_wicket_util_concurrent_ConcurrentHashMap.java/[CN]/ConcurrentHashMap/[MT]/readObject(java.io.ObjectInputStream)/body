{
  s.defaultReadObject();
  int cap=s.readInt();
  table=newTable(cap);
  for (int i=0; i < segments.length; ++i) {
    segments[i]=new Segment();
  }
  for (; ; ) {
    Object key=s.readObject();
    Object value=s.readObject();
    if (key == null) {
      break;
    }
    put(key,value);
  }
}
