{
  final ValueMap param=new ValueMap(queryString,"&");
  final String bookmarkablePage=param.getString(WebRequestCodingStrategy.BOOKMARKABLE_PAGE_PARAMETER_NAME);
  if (bookmarkablePage != null) {
    String url="/" + Strings.replaceAll(bookmarkablePage,".","/") + ".wic";
    param.remove(WebRequestCodingStrategy.BOOKMARKABLE_PAGE_PARAMETER_NAME);
    if (param.size() > 0) {
      char separator='?';
      for (final Iterator iterator=param.keySet().iterator(); iterator.hasNext(); ) {
        final String key=(String)iterator.next();
        url+=separator + key + "="+ param.getString(key);
        separator='&';
      }
    }
    return url;
  }
  return "?" + queryString;
}
