{
  HeaderCollection headers=new HeaderCollection();
  assertTrue(headers.isEmpty());
  headers.addHeader("X-Test","foo");
  headers.addHeader("X-Test","bar");
  assertArrayEquals(new String[]{"foo","bar"},headers.getValues("X-Test"));
  headers.removeHeaderValues("x-test");
  assertTrue(headers.isEmpty());
  headers.addHeader("   X-Image    ","    jpeg     ");
  headers.addHeader("X-Image    ","    gif     ");
  assertArrayEquals(new String[]{"jpeg","gif"},headers.getValues("X-IMAGE"));
  assertEquals(1,headers.getCount());
  headers.addHeader("X-Test","123");
  assertEquals(2,headers.getCount());
  headers.removeHeaderValues(" x-tesT ");
  assertEquals(1,headers.getCount());
}
