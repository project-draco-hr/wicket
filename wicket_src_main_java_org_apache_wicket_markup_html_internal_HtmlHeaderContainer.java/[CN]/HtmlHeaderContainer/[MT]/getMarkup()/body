{
  if (getParent() == null) {
    throw new WicketRuntimeException("Bug: The Wicket internal instance of HtmlHeaderContainer is not connected to a parent");
  }
  IMarkupFragment markup=getPage().getMarkup();
  if (markup == null) {
    throw new MarkupException("Unable to get page markup: " + getPage().toString());
  }
  MarkupStream stream=new MarkupStream(markup);
  while (stream.hasMore()) {
    MarkupElement elem=stream.get();
    if (elem instanceof ComponentTag) {
      ComponentTag tag=stream.getTag();
      if (tag.isOpen() || tag.isOpenClose()) {
        if (tag.getId().equals("_header_")) {
          return stream.getMarkupFragment();
        }
        if (tag.getId().equals("_head")) {
          if (tag.getMarkupClass() == null) {
            return stream.getMarkupFragment();
          }
        }
      }
    }
    stream.next();
  }
  return null;
}
