{
  PageParametersNg parameters=new PageParametersNg();
  parameters.setIndexedParameter(0,"i1");
  parameters.setIndexedParameter(1,"i2");
  parameters.setNamedParameter("a","b");
  parameters.setNamedParameter("b","c");
  DefaultPageProvider provider=new DefaultPageProvider(MockPage.class,parameters);
  provider.setPageSource(context);
  IRequestHandler handler=new BookmarkablePageRequestHandler(provider);
  Url url=encoder.mapHandler(handler);
  assertEquals("some/mount/path/i1/i2?a=b&b=c",url.toString());
}
