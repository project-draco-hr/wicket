{
  if (!(connection instanceof WebSocket.Connection)) {
    throw new IllegalArgumentException(JettyWebSocketProcessor.class.getName() + " can work only with " + WebSocket.Connection.class.getName());
  }
  onConnect(new JettyWebSocketConnection((WebSocket.Connection)connection,this));
}
