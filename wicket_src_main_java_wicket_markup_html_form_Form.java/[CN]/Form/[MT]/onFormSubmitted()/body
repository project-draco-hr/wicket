{
  setFlag(FLAG_SUBMITTED,true);
  if (handleMultiPart()) {
    inputChanged();
    String url=getRequest().getParameter(getHiddenFieldId(HIDDEN_FIELD_FAKE_SUBMIT));
    if (!Strings.isEmpty(url)) {
      dispatchEvent(getPage(),url);
    }
 else {
      final IFormSubmittingComponent submittingButton=findSubmittingButton();
      if (submittingButton != null && !submittingButton.getDefaultFormProcessing()) {
        submittingButton.onSubmit();
      }
 else {
        Form formToProcess=this;
        if (submittingButton != null) {
          formToProcess=submittingButton.getForm();
        }
        if (formToProcess.process()) {
          delegateSubmit(submittingButton);
        }
      }
    }
  }
}
