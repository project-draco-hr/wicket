{
  checkComponentTag(tag,"input");
  checkComponentTagAttribute(tag,"type","checkbox");
  final String value=getValue();
  if (value != null) {
    try {
      if (Strings.isTrue(value)) {
        tag.put("checked","checked");
      }
 else {
        tag.remove("checked");
      }
    }
 catch (    StringValueConversionException e) {
      throw new WicketRuntimeException("Invalid boolean value \"" + value + "\"",e);
    }
  }
  if (wantOnSelectionChangedNotifications()) {
    final CharSequence url=urlFor(IOnChangeListener.INTERFACE);
    Form form=(Form)findParent(Form.class);
    if (form != null) {
      tag.put("onclick",form.getJsForInterfaceUrl(url));
    }
 else {
      tag.put("onclick","location.href='" + url + "&"+ getInputName()+ "=' + this.checked;");
    }
  }
  super.onComponentTag(tag);
}
