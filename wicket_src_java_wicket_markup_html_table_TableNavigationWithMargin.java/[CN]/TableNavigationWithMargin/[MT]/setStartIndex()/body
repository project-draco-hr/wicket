{
  int firstListItem=this.getStartIndex();
  int viewSize=this.getViewSize();
  int currentPage=table.getCurrentPage();
  if (currentPage < (firstListItem + this.margin)) {
    firstListItem=currentPage - viewSize + margin;
  }
 else   if (currentPage >= (firstListItem + viewSize - this.margin)) {
    firstListItem=currentPage - margin;
  }
  if ((firstListItem + viewSize) >= table.getPageCount()) {
    firstListItem=table.getPageCount() - viewSize;
  }
  if (firstListItem < 0) {
    firstListItem=0;
  }
  this.setStartIndex(firstListItem);
}
