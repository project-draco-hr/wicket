{
  if (getComponent().getPage() == getPage()) {
    RedirectPolicy policy=getPage().isPageStateless() ? RedirectPolicy.NEVER_REDIRECT : RedirectPolicy.AUTO_REDIRECT;
    requestCycle.scheduleRequestHandlerAfterCurrent(new RenderPageRequestHandler(new PageProvider(getPage()),policy));
    if (getBehaviorIndex() == null) {
      listenerInterface.invoke(getComponent());
    }
 else {
      try {
        IBehavior behavior=getComponent().getBehaviors().get(behaviorIndex);
        listenerInterface.invoke(getComponent(),behavior);
      }
 catch (      IndexOutOfBoundsException e) {
        throw new WicketRuntimeException("Couldn't find component behavior.");
      }
    }
  }
 else {
    throw new WicketRuntimeException("Component " + getComponent() + " has been removed from page.");
  }
}
