{
  final Iterable<String> extensions=extension == null ? NO_EXTENSIONS : Arrays.asList(extension);
  final String realPath;
  final String realExtension;
  if ((extension == null) && (path != null) && (path.indexOf('.') != -1)) {
    realPath=Strings.beforeLast(path,'.');
    realExtension=Strings.afterLast(path,'.');
    if (realExtension.indexOf(',') > -1) {
      return new EmptyResourceNameIterator();
    }
  }
 else {
    realPath=path;
    realExtension=extension;
  }
  return new ResourceNameIterator(path,style,variation,locale,extensions,strict);
}
