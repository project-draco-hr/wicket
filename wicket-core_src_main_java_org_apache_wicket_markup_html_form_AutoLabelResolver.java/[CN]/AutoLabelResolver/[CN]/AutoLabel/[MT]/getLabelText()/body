{
  String label=null;
  if (component instanceof ILabelProvider) {
    ILabelProvider<?> provider=(ILabelProvider<?>)component;
    if (provider.getLabel() != null) {
      Object value=provider.getLabel().getObject();
      if (value != null) {
        label=value.toString();
      }
    }
  }
  if (label == null && component instanceof FormComponent) {
    label=((FormComponent<?>)component).getDefaultLabel("wicket:unknown");
    if ("wicket:unknown".equals(label)) {
      label=null;
    }
  }
  return label;
}
