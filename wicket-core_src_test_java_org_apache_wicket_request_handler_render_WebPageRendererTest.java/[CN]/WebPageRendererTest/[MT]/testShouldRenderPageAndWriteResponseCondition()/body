{
  TestPageRenderer renderer=new TestPageRenderer(handler);
  renderer.redirectPolicy=RedirectPolicy.NEVER_REDIRECT;
  renderer.ajax=true;
  renderer.onePassRender=true;
  renderer.redirectToRender=true;
  renderer.shouldPreserveClientUrl=true;
  renderer.newPageInstance=true;
  renderer.pageStateless=true;
  Assert.assertTrue(renderer.shouldRenderPageAndWriteResponse(requestCycle,Url.parse("test"),Url.parse("test")));
  renderer.ajax=false;
  renderer.onePassRender=false;
  renderer.redirectToRender=false;
  renderer.shouldPreserveClientUrl=false;
  renderer.newPageInstance=false;
  renderer.pageStateless=false;
  Assert.assertTrue(renderer.shouldRenderPageAndWriteResponse(requestCycle,Url.parse("test1"),Url.parse("test2")));
  renderer.redirectPolicy=RedirectPolicy.AUTO_REDIRECT;
  renderer.ajax=false;
  renderer.onePassRender=true;
  Assert.assertTrue(renderer.shouldRenderPageAndWriteResponse(requestCycle,Url.parse("test1"),Url.parse("test2")));
  renderer.redirectPolicy=RedirectPolicy.ALWAYS_REDIRECT;
  renderer.onePassRender=false;
  renderer.newPageInstance=false;
  renderer.pageStateless=false;
  Assert.assertTrue(renderer.shouldRenderPageAndWriteResponse(requestCycle,Url.parse("test"),Url.parse("test")));
  renderer.redirectToRender=true;
  Assert.assertTrue(renderer.shouldRenderPageAndWriteResponse(requestCycle,Url.parse("test"),Url.parse("test")));
  renderer.pageStateless=true;
  renderer.newPageInstance=true;
  renderer.redirectToRender=true;
  Assert.assertTrue(renderer.shouldRenderPageAndWriteResponse(requestCycle,Url.parse("test"),Url.parse("test")));
  renderer.shouldPreserveClientUrl=true;
  renderer.redirectPolicy=RedirectPolicy.AUTO_REDIRECT;
  renderer.ajax=true;
  renderer.onePassRender=false;
  renderer.redirectToRender=false;
  renderer.newPageInstance=true;
  renderer.pageStateless=true;
  Assert.assertTrue(renderer.shouldRenderPageAndWriteResponse(requestCycle,Url.parse("test1"),Url.parse("test2")));
}
