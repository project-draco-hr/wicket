{
  Conversation conversation=container.getCurrentConversation(cycle);
  if (conversation == null || conversation.isTransient()) {
    return;
  }
  Page page=getPage(handler);
  if (page != null && !conversation.isTransient()) {
    page.setMetaData(CID_KEY,conversation.getId());
  }
  if (propagation == ConversationPropagation.ALL) {
    PageParameters parameters=getPageParameters(handler);
    if (parameters != null && propagation == ConversationPropagation.ALL) {
      parameters.add(CID,conversation.getId());
    }
  }
}
