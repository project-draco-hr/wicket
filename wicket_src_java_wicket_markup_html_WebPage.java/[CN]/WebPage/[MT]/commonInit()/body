{
  MarkupStream markupStream=getAssociatedMarkupStream(false);
  if (markupStream == null) {
    throw new MarkupNotFoundException("Each Page must have associated markup. Unable to find the markup file for Page: " + this.toString());
  }
  while (markupStream.hasMoreComponentTags()) {
    final ComponentTag tag=markupStream.getTag();
    if (tag.isOpen() && tag.isBodyTag()) {
      if (BodyOnLoadHandler.BODY_ID.equals(tag.getId())) {
        new HtmlBodyContainer(this,tag.getId());
      }
      bodyContainer=new BodyContainer(this,tag.getId());
      break;
    }
  }
  markupStream.setCurrentIndex(0);
  while (markupStream.hasMoreComponentTags()) {
    final ComponentTag tag=markupStream.getTag();
    if (tag.isOpen() && tag.isHeadTag()) {
      if (HtmlHeaderSectionHandler.HEADER_ID.equals(tag.getId())) {
        new HtmlHeaderContainer(this,tag.getId());
      }
      break;
    }
  }
  if (getApplication().getPageSettings().getAutomaticMultiWindowSupport()) {
    add(new PageMapChecker());
  }
}
