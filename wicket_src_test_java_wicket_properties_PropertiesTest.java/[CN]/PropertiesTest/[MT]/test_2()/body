{
  tester.getApplication().getResourceSettings().addStringResourceLoader(new WicketBundleStringResourceLoader(tester.getApplication()));
  tester.setupRequestAndResponse();
  WebRequestCycle cycle=tester.createRequestCycle();
  cycle.getSession().setLocale(Locale.GERMANY);
  TestPage page=new TestPage(){
    private static final long serialVersionUID=1L;
    public String getVariation(){
      return "mystyle";
    }
  }
;
  String str=page.getString("test1");
  str=page.getString("test2");
  str=page.getString("test3");
  str=page.getString("test4");
}
