{
  super(id);
  if (settings == null) {
    throw new NullPointerException("settings must be non null when using this constructor");
  }
  this.settings=settings;
  if (target == null) {
    throw new NullPointerException("targetTextField must be not null");
  }
  target.add(new IdAttributeModifier(target));
  this.target=target;
  add(triggerButton=new TriggerButton("trigger",settings.getIcon()));
  add(new InitScript("script"));
  addToHeader(new DatePickerResourceReference("calendarMain","calendar.js","src"));
  addToHeader(new DatePickerResourceReference("calendarSetup","calendar-setup.js","src"));
  addToHeader(new DatePickerResourceReference("calendarLanguage",settings.getLanguage(),"src"));
  addToHeader(new DatePickerResourceReference("calendarStyle",settings.getStyle(),"href"));
  new StaticResourceReference(DatePicker.class,"style/aqua/active-bg.gif");
  new StaticResourceReference(DatePicker.class,"style/aqua/dark-bg.gif");
  new StaticResourceReference(DatePicker.class,"style/aqua/hover-bg.gif");
  new StaticResourceReference(DatePicker.class,"style/aqua/menuarrow.gif");
  new StaticResourceReference(DatePicker.class,"style/aqua/normal-bg.gif");
  new StaticResourceReference(DatePicker.class,"style/aqua/rowhover-bg.gif");
  new StaticResourceReference(DatePicker.class,"style/aqua/status-bg.gif");
  new StaticResourceReference(DatePicker.class,"style/aqua/title-bg.gif");
  new StaticResourceReference(DatePicker.class,"style/aqua/today-bg.gif");
}
