{
  byte[] bytes=null;
  long t1=System.currentTimeMillis();
  Page.serializer.set(new PageSerializer(key));
  try {
    bytes=Objects.objectToByteArray(page);
    totalSerializationTime+=(System.currentTimeMillis() - t1);
    serialized++;
    if (log.isDebugEnabled() && bytes != null) {
      log.debug("serializing page " + key.pageClass + "["+ key.id+ ","+ key.versionNumber+ "] size: "+ bytes.length+ " for session "+ key.sessionId+ " took "+ (System.currentTimeMillis() - t1)+ " miliseconds to serialize");
    }
  }
  finally {
    Page.serializer.set(null);
  }
  return bytes;
}
