{
  String document=tester.getLastResponseAsString();
  String updateScript=timer.getUpdateScript();
  if (inBodyOnLoad) {
    String bodyOnLoadUpdateScript="Wicket.Event.add(window, \"load\", function(event) { \n" + updateScript + ";\n;});";
    validateTimerScript(document,bodyOnLoadUpdateScript);
  }
 else {
    updateScript=updateScript.replaceAll("]","]^");
    validateTimerScript(document,updateScript);
  }
  tester.executeBehavior(timer);
  if (inBodyOnLoad) {
    updateScript=timer.getUpdateScript();
    updateScript=updateScript.replaceAll("]","]^");
  }
  document=tester.getLastResponseAsString();
  validateTimerScript(document,updateScript);
}
