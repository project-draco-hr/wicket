{
  final IResourceStreamReference orig=cache.get(key);
  if (NullResourceStreamReference.INSTANCE == orig) {
    return null;
  }
  if (orig instanceof UrlResourceStreamReference) {
    UrlResourceStreamReference resourceStreamReference=(UrlResourceStreamReference)orig;
    String url=resourceStreamReference.getReference();
    try {
      return new UrlResourceStream(new URL(url));
    }
 catch (    MalformedURLException e) {
      return null;
    }
  }
  if (orig instanceof FileResourceStreamReference) {
    FileResourceStreamReference resourceStreamReference=(FileResourceStreamReference)orig;
    String absolutePath=resourceStreamReference.getReference();
    return new FileResourceStream(new File(absolutePath));
  }
  return null;
}
