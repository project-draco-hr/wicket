{
  if (null == stream) {
    cache.put(key,NullResourceStreamReference.INSTANCE);
  }
 else   if (stream instanceof FileResourceStream) {
    FileResourceStream fileResourceStream=(FileResourceStream)stream;
    String absolutePath=fileResourceStream.getFile().getAbsolutePath();
    cache.put(key,new FileResourceStreamReference(absolutePath));
  }
 else   if (stream instanceof UrlResourceStream) {
    UrlResourceStream urlResourceStream=(UrlResourceStream)stream;
    String url=urlResourceStream.getURL().toExternalForm();
    cache.put(key,new UrlResourceStreamReference(url));
  }
}
