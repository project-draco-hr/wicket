{
  super();
  RequestCycle cycle=RequestCycle.get();
  if (cycle != null) {
    cycle.setPageParameters(this);
  }
  final StringList pairs=StringList.tokenize(keyValuePairs,delimiter);
  for (IStringIterator iterator=pairs.iterator(); iterator.hasNext(); ) {
    final String pair=iterator.next();
    final int pos=pair.indexOf('=');
    if (pos == 0) {
      throw new IllegalArgumentException("URL parameter is missing the lvalue: " + pair);
    }
 else     if (pos != -1) {
      final String key=pair.substring(0,pos).trim();
      final String value=pair.substring(pos + 1).trim();
      put(key,value);
    }
 else {
      final String key=pair.trim();
      final String value=null;
      put(key,value);
    }
  }
}
