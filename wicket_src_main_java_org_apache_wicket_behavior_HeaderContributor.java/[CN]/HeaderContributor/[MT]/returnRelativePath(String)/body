{
  if (location.startsWith("http://") || location.startsWith("https://") || location.startsWith("/")) {
    return location;
  }
 else {
    return RequestCycle.get().getRequest().getRelativePathPrefixToContextRoot() + location;
  }
}
