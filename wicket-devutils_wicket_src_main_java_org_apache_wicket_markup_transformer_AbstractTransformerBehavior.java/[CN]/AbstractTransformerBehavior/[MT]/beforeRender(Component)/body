{
  super.beforeRender(component);
  final RequestCycle requestCycle=RequestCycle.get();
  webResponse=requestCycle.getResponse();
  final Response response=newResponse();
  if (response == null) {
    throw new IllegalStateException("newResponse() must not return null");
  }
  requestCycle.setResponse(response);
}
