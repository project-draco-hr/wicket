{
  Map<String,List<String>> temp=new HashMap<String,List<String>>();
  final String[] paramTuples=queryString.split("&");
  for (int t=0; t < paramTuples.length; t++) {
    final String[] bits=paramTuples[t].split("=");
    final String key;
    final String value;
    key=WicketURLDecoder.QUERY_INSTANCE.decode(bits[0]);
    if (bits.length == 2) {
      value=WicketURLDecoder.QUERY_INSTANCE.decode(bits[1]);
    }
 else {
      value="";
    }
    List<String> l=temp.get(key);
    if (l == null) {
      l=new ArrayList<String>();
      temp.put(key,l);
    }
    l.add(value);
  }
  for (  Map.Entry<String,List<String>> entry : temp.entrySet()) {
    String s[]=new String[entry.getValue().size()];
    entry.getValue().toArray(s);
    parameters.put(entry.getKey(),s);
  }
}
