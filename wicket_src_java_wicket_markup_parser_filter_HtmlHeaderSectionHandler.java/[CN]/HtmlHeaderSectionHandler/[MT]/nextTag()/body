{
  ComponentTag tag=(ComponentTag)getParent().nextTag();
  if (tag == null) {
    return tag;
  }
  if ((status == STATE_BODY_FOUND) || (status == STATE_HEAD_CLOSED)) {
    return tag;
  }
  if (HEAD.equalsIgnoreCase(tag.getName())) {
    if (tag instanceof WicketTag) {
      if (tag.isOpen() == true) {
        status=STATE_WICKET_HEAD_OPENED;
      }
 else {
        status=STATE_WICKET_HEAD_CLOSED;
      }
    }
 else {
      if (tag.isOpen() == true) {
        status=STATE_HEAD_OPENED;
      }
 else {
        if (status != STATE_WICKET_HEAD_CLOSED) {
          insertWicketHeadTag(false);
        }
        status=STATE_HEAD_CLOSED;
      }
    }
    return tag;
  }
  if ("body".equalsIgnoreCase(tag.getName())) {
    insertWicketHeadTag(true);
    status=STATE_BODY_FOUND;
    return tag;
  }
  return tag;
}
