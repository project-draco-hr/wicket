{
  tester.setupRequestAndResponse();
  WebRequestCycle cycle=tester.createRequestCycle();
  ResourceReference rr=new ResourceReference("test");
  CharSequence url=cycle.urlFor(rr,new ValueMap("param=value",""));
  assertEquals("/WicketTester$DummyWebApplication/WicketTester$DummyWebApplication/resources/wicket.Application/test?param=value",url);
  rr=new ResourceReference(SharedResourceUrlTest.class,"test");
  url=cycle.urlFor(rr,new ValueMap("param=value",""));
  assertEquals("/WicketTester$DummyWebApplication/WicketTester$DummyWebApplication/resources/wicket.SharedResourceUrlTest/test?param=value",url);
}
