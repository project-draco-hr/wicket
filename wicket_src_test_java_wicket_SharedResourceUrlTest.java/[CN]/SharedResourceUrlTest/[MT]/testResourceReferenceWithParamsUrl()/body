{
  application.setupRequestAndResponse();
  WebRequestCycle cycle=application.createRequestCycle();
  ResourceReference rr=new ResourceReference("test");
  CharSequence url=cycle.urlFor(rr,new ValueMap("param=value",""));
  assertEquals("WicketTester/resources/wicket.Application/test?param=value",url);
  rr=new ResourceReference(SharedResourceUrlTest.class,"test");
  url=cycle.urlFor(rr,new ValueMap("param=value",""));
  assertEquals("WicketTester/resources/wicket.SharedResourceUrlTest/test?param=value",url);
}
