{
  if ((id == null) || (id.length() == 0)) {
    return null;
  }
  if (id.indexOf(Component.PATH_SEPARATOR) == -1) {
    for (    MarkupElement elem : this) {
      if (elem instanceof MarkupFragment) {
        MarkupFragment fragment=(MarkupFragment)elem;
        ComponentTag tag=(ComponentTag)fragment.get(0);
        String tagId=tag.getId();
        if ((tagId != null) && tagId.equals(id)) {
          return fragment;
        }
        if (tagId.startsWith(Component.AUTO_COMPONENT_PREFIX)) {
          MarkupFragment frag=fragment.getChildFragment(id);
          if (frag != null) {
            return frag;
          }
        }
      }
    }
  }
 else {
    String root=Strings.firstPathComponent(id,Component.PATH_SEPARATOR);
    MarkupFragment child=getChildFragment(root);
    if (child == null) {
      return null;
    }
    String remainingPath=Strings.afterFirst(id,Component.PATH_SEPARATOR);
    return child.getChildFragment(remainingPath);
  }
  return null;
}
