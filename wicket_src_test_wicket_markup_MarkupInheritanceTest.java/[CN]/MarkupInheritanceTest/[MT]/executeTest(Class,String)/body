{
  System.out.println("=== " + pageClass.getName() + " ===");
  application=new MockWebApplication(null);
  application.getPages().setHomePage(pageClass);
  application.setupRequestAndResponse();
  application.processRequestCycle();
  assertEquals(pageClass,application.getLastRenderedPage().getClass());
  String document=application.getServletResponse().getDocument();
  assertTrue(DiffUtil.validatePage(document,this.getClass(),filename));
}
