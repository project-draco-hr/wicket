{
  for (; index < markup.size(); index++) {
    MarkupElement element=markup.get(index);
    if (element instanceof ComponentTag) {
      ComponentTag tag=(ComponentTag)element;
      ComponentTag open=tag.isClose() ? tag.getOpenTag() : tag;
      if (open != null && canDequeueTag(open)) {
        index++;
        return tag;
      }
    }
  }
  return null;
}
