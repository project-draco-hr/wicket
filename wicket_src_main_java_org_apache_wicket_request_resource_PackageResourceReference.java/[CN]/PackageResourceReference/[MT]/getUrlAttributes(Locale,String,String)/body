{
  IResourceStreamLocator locator=ThreadContext.getApplication().getResourceSettings().getResourceStreamLocator();
  UrlAttributes res=testResource(locator,locale,style,variation);
  if (res == null) {
    res=testResource(locator,locale,style,null);
  }
  if (res == null) {
    res=testResource(locator,locale,null,variation);
  }
  if (res == null) {
    res=testResource(locator,null,style,variation);
  }
  if (res == null) {
    res=testResource(locator,locale,null,null);
  }
  if (res == null) {
    res=testResource(locator,null,style,null);
  }
  if (res == null) {
    res=testResource(locator,null,null,variation);
  }
  if (res == null) {
    res=new UrlAttributes(null,null,null);
  }
  return res;
}
