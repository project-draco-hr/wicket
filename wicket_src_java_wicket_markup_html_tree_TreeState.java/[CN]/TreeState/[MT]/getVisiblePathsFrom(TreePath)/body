{
  if (path == null)   return null;
  TreeStateNode node=getNodeForPath(path,true,false);
  if (node != null) {
    return new VisibleTreeStateNodeEnumeration(node);
  }
  TreePath parentPath=path.getParentPath();
  node=getNodeForPath(parentPath,true,false);
  if (node != null && node.isExpanded()) {
    return new VisibleTreeStateNodeEnumeration(node,treeModel.getIndexOfChild(parentPath.getLastPathComponent(),path.getLastPathComponent()));
  }
  return null;
}
