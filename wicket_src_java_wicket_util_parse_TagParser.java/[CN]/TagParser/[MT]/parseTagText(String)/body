{
  final int tagTextLength=tagText.length();
  final Matcher tagnameMatcher=TAG_NAME_PATTERN.matcher(tagText);
  final Tag tag=new Tag();
  if (tagnameMatcher.lookingAt()) {
    tag.name=tagnameMatcher.group(1).toLowerCase();
    int pos=tagnameMatcher.end(0);
    if (pos == tagTextLength) {
      return tag;
    }
    final Matcher attributeMatcher=ATTRIBUTE_PATTERN.matcher(tagText);
    while (attributeMatcher.find(pos)) {
      final String key=attributeMatcher.group(1);
      String value=attributeMatcher.group(2);
      pos=attributeMatcher.end(0);
      if (value.startsWith("\"")) {
        value=value.substring(1,value.length() - 1);
      }
      tag.attributes.put(key.toLowerCase(),StringValue.valueOf(value));
      if (pos == tagTextLength) {
        return tag;
      }
    }
  }
  return null;
}
