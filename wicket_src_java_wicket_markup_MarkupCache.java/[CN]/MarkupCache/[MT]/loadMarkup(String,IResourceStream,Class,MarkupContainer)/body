{
  try {
    final Markup markup=application.newMarkupParser(container).readAndParse(markupResourceStream);
    markup.setContainerClass(containerClass);
synchronized (markupCache) {
      markupCache.put(key,markup);
    }
    return markup;
  }
 catch (  ParseException e) {
synchronized (markupCache) {
      markupCache.remove(key);
    }
    log.error("Unable to parse markup from " + markupResourceStream,e);
  }
catch (  ResourceStreamNotFoundException e) {
    log.error("Unable to find markup from " + markupResourceStream,e);
  }
catch (  IOException e) {
    log.error("Unable to read markup from " + markupResourceStream,e);
  }
  return Markup.NO_MARKUP;
}
