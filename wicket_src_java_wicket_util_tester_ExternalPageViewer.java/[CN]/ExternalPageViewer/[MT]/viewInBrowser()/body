{
  int webRootPathIndex=getThisClassFileURL().getPath().indexOf("/WEB-INF");
  String webRootPath=getThisClassFileURL().getPath().substring(0,webRootPathIndex);
  File temp=new File(webRootPath + "/" + getTemperaryDumpHtmlFileName());
  FileOutputStream out=null;
  try {
    out=new FileOutputStream(temp);
    out.write(tester.getServletResponse().getDocument().getBytes(getHtmlEncoding()));
    out.flush();
  }
 catch (  UnsupportedEncodingException e) {
    throw convertoUnexpect(e);
  }
catch (  IOException e) {
    throw convertoUnexpect(e);
  }
 finally {
    if (out != null) {
      try {
        out.close();
      }
 catch (      IOException e) {
        throw convertoUnexpect(e);
      }
    }
  }
  if (!new File(getBrowserPath()).exists()) {
    throw new IllegalStateException("No browser found at " + getBrowserPath());
  }
  throw new RuntimeException("Not yet supported");
}
