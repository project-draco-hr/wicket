{
  if (parameters != null && parameters.size() > 0) {
    final Iterator entries=parameters.entrySet().iterator();
    while (entries.hasNext()) {
      Map.Entry entry=(Entry)entries.next();
      Object value=entry.getValue();
      if (value != null) {
        if (value instanceof String[]) {
          String[] values=(String[])value;
          for (int i=0; i < values.length; i++) {
            appendValue(url,entry.getKey().toString(),values[i]);
          }
        }
 else {
          appendValue(url,entry.getKey().toString(),value.toString());
        }
      }
    }
  }
}
