{
  this.application=application;
  webappRoot=null;
  if (path != null) {
    webappRoot=new File(path);
    if (!webappRoot.exists() || !webappRoot.isDirectory()) {
      log.warn("WARNING: The webapp root directory is invalid: " + path);
      webappRoot=null;
    }
  }
  final String uniqueKey=String.valueOf(System.currentTimeMillis()) + String.valueOf(Math.random()).substring(2);
  final File tempDir=createTempDir("wicket" + uniqueKey);
  attributes.put("javax.servlet.context.tempdir",tempDir);
  mimeTypes.put("html","text/html");
  mimeTypes.put("htm","text/html");
  mimeTypes.put("css","text/css");
  mimeTypes.put("xml","text/xml");
  mimeTypes.put("js","text/plain");
  mimeTypes.put("gif","image/gif");
  mimeTypes.put("jpg","image/jpeg");
  mimeTypes.put("png","image/png");
}
