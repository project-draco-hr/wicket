{
  DateFormat format=null;
  if (pattern == null) {
    format=DateFormat.getDateInstance(dateStyle,locale);
    format.setLenient(lenient);
  }
 else {
    SimpleDateFormat _format=new SimpleDateFormat(pattern,locale);
    _format.setLenient(lenient);
    if (locPattern) {
      _format.applyLocalizedPattern(pattern);
    }
 else {
      _format.applyPattern(pattern);
    }
    format=_format;
  }
  return format;
}
