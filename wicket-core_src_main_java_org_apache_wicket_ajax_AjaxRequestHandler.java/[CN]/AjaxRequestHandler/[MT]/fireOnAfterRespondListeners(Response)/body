{
  listenersFrozen=true;
  if (listeners != null) {
    final Map<String,Component> components=Collections.unmodifiableMap(markupIdToComponent);
    final IJavaScriptResponse jsresponse=new IJavaScriptResponse(){
      @Override public void addJavaScript(      String script){
        respondInvocation(response,script);
      }
    }
;
    for (    AjaxRequestTarget.IListener listener : listeners) {
      listener.onAfterRespond(components,jsresponse);
    }
  }
}
