{
  super.onComponentTag(tag);
  checkComponentTag(tag,"input");
  checkComponentTagAttribute(tag,"type","radio");
  final String value=getValue();
  RadioGroup<?> group=getGroup();
  tag.put("name",group.getInputName());
  tag.put("value",value);
  if (group.hasRawInput()) {
    String rawInput=group.getRawInput();
    if (rawInput != null && rawInput.equals(value)) {
      tag.put("checked","checked");
    }
  }
 else   if (group.getModelComparator().compare(group,getDefaultModelObject())) {
    tag.put("checked","checked");
  }
  if (group.wantOnSelectionChangedNotifications()) {
    CharSequence url=group.urlFor(IOnChangeListener.INTERFACE);
    Form<?> form=group.findParent(Form.class);
    if (form != null) {
      RequestContext rc=RequestContext.get();
      if (rc.isPortletRequest()) {
        url=((PortletRequestContext)rc).getLastEncodedPath();
      }
      tag.put("onclick",form.getJsForInterfaceUrl(url));
    }
 else {
      tag.put("onclick","window.location.href='" + url + (url.toString().indexOf('?') > -1 ? "&amp;" : "?")+ group.getInputName()+ "=' + this.value;");
    }
  }
  if (!isEnabledInHierarchy()) {
    tag.put(ATTR_DISABLED,ATTR_DISABLED);
  }
  final String marker="wicket-" + getGroup().getMarkupId();
  String clazz=tag.getAttribute("class");
  if (Strings.isEmpty(clazz)) {
    clazz=marker;
  }
 else {
    clazz=clazz + " " + marker;
  }
  tag.put("class",clazz);
}
