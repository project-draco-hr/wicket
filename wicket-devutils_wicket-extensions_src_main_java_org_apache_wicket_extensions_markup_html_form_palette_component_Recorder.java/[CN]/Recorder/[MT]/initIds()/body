{
  IChoiceRenderer<T> renderer=getPalette().getChoiceRenderer();
  StringBuffer modelStringBuffer=new StringBuffer();
  Iterator<T> selection=getPalette().getModelCollection().iterator();
  int i=0;
  while (selection.hasNext()) {
    modelStringBuffer.append(renderer.getIdValue(selection.next(),i++));
    if (selection.hasNext()) {
      modelStringBuffer.append(",");
    }
  }
  String modelString=modelStringBuffer.toString();
  setDefaultModel(new Model<String>(modelString));
  updateIds(modelString);
}
