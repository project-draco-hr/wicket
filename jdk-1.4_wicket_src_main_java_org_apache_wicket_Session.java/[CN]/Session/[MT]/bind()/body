{
  if (RequestCycle.get() == null)   return;
  ISessionStore store=getSessionStore();
  Request request=RequestCycle.get().getRequest();
  if (store.lookup(request) == null) {
    id=store.getSessionId(request,true);
    store.bind(request,this);
    if (temporarySessionAttributes != null) {
      for (Iterator i=temporarySessionAttributes.entrySet().iterator(); i.hasNext(); ) {
        Entry entry=(Entry)i.next();
        store.setAttribute(request,String.valueOf(entry.getKey()),entry.getValue());
      }
      temporarySessionAttributes=null;
    }
  }
}
