{
  super.onComponentTag(tag);
  final String saveCall="{" + generateCallbackScript("wicketAjaxGet('" + getCallbackUrl(true) + "&save=true&'+this.name+'='+wicketEncode(this.value)") + "; return false;}";
  final String cancelCall="{" + generateCallbackScript("wicketAjaxGet('" + getCallbackUrl(true) + "&save=false'") + "; return false;}";
  final String keypress="var kc=wicketKeyCode(event); if (kc==27) " + cancelCall + " else if (kc!=13) { return true; } else "+ saveCall;
  tag.put("onblur",saveCall);
  tag.put("onkeypress","if (Wicket.Browser.isSafari()) { return; }; " + keypress);
  tag.put("onkeydown","if (!Wicket.Browser.isSafari()) { return; }; " + keypress);
}
