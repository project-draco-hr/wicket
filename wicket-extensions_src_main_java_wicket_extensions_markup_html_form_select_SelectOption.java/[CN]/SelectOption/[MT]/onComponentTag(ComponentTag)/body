{
  checkComponentTag(tag,"option");
  AbstractSelect select=findParent(AbstractSelect.class);
  if (select == null) {
    throw new WicketRuntimeException("SelectOption component [" + getPath() + "] cannot find its parent Select. All SelectOption components must be a child of or below in the hierarchy of a Select component.");
  }
  tag.put("value",getPath());
  if (select.isSelected(this)) {
    tag.put("selected","true");
  }
  super.onComponentTag(tag);
}
