{
  List<Object> list=Arrays.asList(new Object[IMAGES_PER_PAGE]);
  add(new ListView<Object>("listView",list){
    private static final long serialVersionUID=1L;
    @Override protected void populateItem(    ListItem<Object> item){
      final Random random=new Random();
      BufferedImage image=new BufferedImage(16,16,BufferedImage.TYPE_INT_RGB);
      Graphics gfx=image.getGraphics();
      gfx.setColor(new Color(random.nextFloat(),random.nextFloat(),random.nextFloat()));
      gfx.fillRect(0,0,32,32);
      gfx.dispose();
      ByteArrayOutputStream baos=new ByteArrayOutputStream();
      JPEGImageEncoder encoder=JPEGCodec.createJPEGEncoder(baos);
      try {
        encoder.encode(image);
      }
 catch (      IOException e) {
        throw new WicketRuntimeException(e);
      }
      final byte[] imageData=baos.toByteArray();
      item.add(new Image<Void>("image",new WebResource(){
        private static final long serialVersionUID=1L;
        @Override public IResourceStream getResourceStream(){
          return new IResourceStream(){
            private static final long serialVersionUID=1L;
            public Time lastModifiedTime(){
              return Time.now();
            }
            public void setLocale(            Locale locale){
            }
            public long length(){
              return imageData.length;
            }
            public Locale getLocale(){
              return null;
            }
            public InputStream getInputStream() throws ResourceStreamNotFoundException {
              return new ByteArrayInputStream(imageData);
            }
            public String getContentType(){
              return "image/jpeg";
            }
            public void close() throws IOException {
            }
          }
;
        }
      }
));
    }
  }
);
}
