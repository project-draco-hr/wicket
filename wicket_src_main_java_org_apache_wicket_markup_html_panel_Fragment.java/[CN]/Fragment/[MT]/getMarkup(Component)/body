{
  IMarkupFragment markup=null;
  MarkupContainer provider=getMarkupProvider();
  if (provider == null) {
    provider=getParent();
  }
  if (provider.hasAssociatedMarkup()) {
    markup=provider.getAssociatedMarkup();
  }
 else {
    markup=getParent().getMarkup();
  }
  if (markup == null) {
    return null;
  }
  markup=markup.find(markupId);
  if (child == null) {
    return markup;
  }
  return markup.find(child.getId());
}
