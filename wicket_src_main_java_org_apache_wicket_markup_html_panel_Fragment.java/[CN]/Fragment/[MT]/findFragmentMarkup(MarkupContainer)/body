{
  IMarkupFragment markup=provider.getMarkup();
  if (provider.hasAssociatedMarkup()) {
    markup=provider.getAssociatedMarkup();
  }
  if (markup != null) {
    markup=findFragmentMarkup(markup);
  }
  if ((markup == null) && provider.hasAssociatedMarkup()) {
    markup=provider.getParent().getMarkup(provider);
    if (markup != null) {
      markup=findFragmentMarkup(markup);
    }
  }
  return markup;
}
