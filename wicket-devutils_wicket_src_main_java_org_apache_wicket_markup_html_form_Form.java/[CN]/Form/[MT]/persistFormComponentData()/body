{
  if (getRequestCycle() instanceof WebRequestCycle) {
    final IValuePersister persister=getValuePersister();
    visitFormComponentsPostOrder(new FormComponent.AbstractVisitor(){
      @Override public void onFormComponent(      final FormComponent<?> formComponent){
        if (formComponent.isVisibleInHierarchy()) {
          if (formComponent.isPersistent()) {
            persister.save(formComponent);
          }
 else {
            persister.clear(formComponent);
          }
        }
      }
    }
);
  }
}
