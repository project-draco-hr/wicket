{
  markFormsSubmitted();
  if (handleMultiPart()) {
    inputChanged();
    String url=getRequest().getParameter(getHiddenFieldId());
    if (!Strings.isEmpty(url)) {
      dispatchEvent(getPage(),url);
    }
 else {
      final IFormSubmittingComponent submittingComponent=findSubmittingButton();
      if (submittingComponent != null && !submittingComponent.getDefaultFormProcessing()) {
        submittingComponent.onSubmit();
      }
 else {
        Form<?> formToProcess=this;
        if (submittingComponent != null) {
          formToProcess=submittingComponent.getForm();
        }
        formToProcess.process(submittingComponent);
      }
    }
  }
 else   if (hasError()) {
    callOnError();
  }
}
