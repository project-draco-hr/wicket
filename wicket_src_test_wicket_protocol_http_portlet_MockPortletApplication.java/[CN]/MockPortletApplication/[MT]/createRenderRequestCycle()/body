{
  if (wicketPortletRequest == null) {
    throw new IllegalStateException("PortletRequest is not initialized");
  }
  if (!(wicketPortletResponse.getPortletResponse() instanceof RenderResponse)) {
    throw new IllegalStateException("Unable to initialize PortletRenderRequestCycle, response is not RenderResponse");
  }
  return new PortletRenderRequestCycle(wicketPortletSession,wicketPortletRequest,wicketPortletResponse);
}
