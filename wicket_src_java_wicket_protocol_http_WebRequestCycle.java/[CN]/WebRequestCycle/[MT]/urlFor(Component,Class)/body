{
  if (!listenerInterface.isAssignableFrom(component.getClass())) {
    throw new WicketRuntimeException("The component " + component + " of class "+ component.getClass()+ " does not implement "+ listenerInterface);
  }
  final StringBuffer buffer=urlPrefix();
  buffer.append("?component=");
  buffer.append(component.getPath());
  buffer.append("&revision=");
  buffer.append(component.getPage().getRevisionNumber());
  buffer.append("&interface=");
  buffer.append(Classes.name(listenerInterface));
  return response.encodeURL(buffer.toString());
}
