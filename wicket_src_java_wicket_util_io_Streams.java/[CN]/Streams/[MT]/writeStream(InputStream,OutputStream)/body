{
  final byte[] buffer=new byte[1024];
  while (true) {
    final int available=in.available();
    if (available > 0) {
      final int length=Math.min(available,buffer.length);
      in.read(buffer,0,length);
      out.write(buffer,0,length);
    }
 else {
      final int c=in.read();
      if (c == -1) {
        break;
      }
      out.write(c);
    }
  }
}
