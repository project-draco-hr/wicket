{
  Args.notNull(filter,"filter");
  C current=(C)getParent();
  Visit<R> visit=new Visit<R>();
  while (current != null) {
    if (parentClass.isInstance(current) && filter.visitObject(current)) {
      visitor.component(current,visit);
      if (visit.isStopped()) {
        return visit.getResult();
      }
    }
    current=(C)current.getParent();
  }
  return null;
}
