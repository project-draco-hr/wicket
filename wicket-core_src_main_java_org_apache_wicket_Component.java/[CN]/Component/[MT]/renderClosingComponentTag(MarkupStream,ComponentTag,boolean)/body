{
  if (openTag.isOpen()) {
    if (markupStream.atCloseTag() && markupStream.getTag().closes(openTag)) {
      if (renderBodyOnly == false) {
        ComponentTag closeTag=markupStream.getTag();
        if (openTag.getNameChanged()) {
          closeTag=closeTag.mutable();
          closeTag.setName(openTag.getName());
          closeTag.setNamespace(openTag.getNamespace());
        }
        renderComponentTag(closeTag);
      }
    }
 else     if (openTag.requiresCloseTag()) {
      markupStream.throwMarkupException("Expected close tag for " + openTag);
    }
  }
}
