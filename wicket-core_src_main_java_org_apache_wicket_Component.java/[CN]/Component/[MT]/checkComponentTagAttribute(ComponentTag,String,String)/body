{
  if (key != null) {
    final String tagAttributeValue=tag.getAttributes().getString(key);
    if (tagAttributeValue == null || !value.equalsIgnoreCase(tagAttributeValue)) {
      String msg=String.format("Component [%s] (path = [%s]) must be applied to a tag " + "with [%s] attribute matching [%s], not [%s]",getId(),getPath(),key,value,tagAttributeValue);
      findMarkupStream().throwMarkupException(msg);
    }
  }
}
