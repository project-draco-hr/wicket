{
  int limit=4;
  if (strict && locale != null) {
    limit=3;
  }
  return (state < limit);
}
