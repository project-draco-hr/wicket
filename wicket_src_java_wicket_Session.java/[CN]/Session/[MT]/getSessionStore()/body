{
  if (sessionStore == null) {
    ISessionStoreFactory sessionStoreFactory=application.getSessionSettings().getSessionStoreFactory();
    sessionStore=sessionStoreFactory.newSessionStore(this);
    if (sessionStore == null) {
      throw new IllegalStateException(sessionStoreFactory.getClass().getName() + " did not produce a session store");
    }
  }
  return sessionStore;
}
