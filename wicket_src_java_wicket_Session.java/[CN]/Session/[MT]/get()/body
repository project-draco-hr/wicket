{
  Session session=(Session)current.get();
  if (session == null) {
    throw new WicketRuntimeException("there is not session attached to current thread " + Thread.currentThread().getName());
  }
  return session;
}
