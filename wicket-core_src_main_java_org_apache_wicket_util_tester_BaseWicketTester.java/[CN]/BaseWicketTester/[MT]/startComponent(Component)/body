{
  try {
    component.internalInitialize();
    if (component instanceof FormComponent) {
      ((FormComponent<?>)component).processInput();
    }
    component.beforeRender();
  }
  finally {
    getRequestCycle().detach();
    component.detach();
  }
  return component;
}
