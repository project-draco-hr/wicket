{
  if (path != null) {
    path=getQualifiedPath(path);
    if (mimeResponse != null) {
      try {
        ResourceURL url=mimeResponse.createResourceURL();
        String resourceID=path.toString();
        url.setResourceID(resourceID);
        path=saveLastEncodedUrl(url.toString(),resourceID);
      }
 catch (      Exception e) {
        throw new RuntimeException(e);
      }
    }
  }
  return path;
}
