{
  if (!isExpanded && !isLeaf()) {
    boolean visible=isVisible();
    isExpanded=true;
    childCount=treeModel.getChildCount(getUserObject());
    if (visible) {
      didExpand();
    }
    if (visible && treeSelectionModel != null) {
      treeSelectionModel.resetRowSelection();
    }
  }
}
