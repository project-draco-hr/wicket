{
  checkType(object);
  boolean set=false;
  if (metaData != null) {
    for (int i=0; i < metaData.length; i++) {
      MetaDataEntry m=metaData[i];
      if (equals(m.key)) {
        m.object=object;
        set=true;
      }
    }
  }
  if (!set) {
    MetaDataEntry m=new MetaDataEntry();
    m.key=this;
    m.object=object;
    if (metaData == null) {
      metaData=new MetaDataEntry[1];
      metaData[0]=m;
    }
 else {
      final MetaDataEntry[] newMetaData=new MetaDataEntry[metaData.length + 1];
      System.arraycopy(metaData,0,newMetaData,0,metaData.length);
      newMetaData[metaData.length]=m;
      metaData=newMetaData;
    }
  }
  return metaData;
}
