{
  TreeNode node=(TreeNode)item.getModelObject();
  Component junctionLink=newJunctionLink(item,JUNCTION_LINK_ID,node);
  junctionLink.setComponentBorder(new JunctionBorder(node,level));
  item.add(junctionLink);
  Component nodeComponent=newNodeComponent(NODE_COMPONENT_ID,item.getModel());
  item.add(nodeComponent);
  item.add(new AbstractBehavior(){
    private static final long serialVersionUID=1L;
    public void onComponentTag(    Component component,    ComponentTag tag){
      TreeNode node=(TreeNode)component.getModelObject();
      if (getTreeState().isNodeSelected(node)) {
        CharSequence oldClass=tag.getString("class");
        if (Strings.isEmpty(oldClass)) {
          tag.put("class",getSelectedClass());
        }
 else {
          tag.put("class",oldClass + " " + getSelectedClass());
        }
      }
    }
  }
);
}
