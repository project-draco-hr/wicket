{
  final RequestCycle requestCycle=RequestCycle.get();
  try {
    Response response=requestCycle.getResponse();
    CharSequence output=transform(component,response.toString());
    webResponse.write(output);
  }
 catch (  Exception ex) {
    throw new WicketRuntimeException("Error while transforming the output: " + this,ex);
  }
 finally {
    requestCycle.setResponse(webResponse);
  }
}
