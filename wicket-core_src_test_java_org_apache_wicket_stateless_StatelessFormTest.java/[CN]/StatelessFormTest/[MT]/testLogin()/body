{
  WicketTester tester=new WicketTester(new MockApplication(){
    @Override public Class<? extends Page> getHomePage(){
      return HOME;
    }
  }
);
  try {
    tester.startPage(LOGIN);
    tester.assertRenderedPage(LOGIN);
    FormTester form=tester.newFormTester("signInPanel:signInForm");
    form.setValue("username","test");
    form.setValue("password","test");
    form.submit();
    tester.assertRenderedPage(HOME);
  }
  finally {
    tester.destroy();
  }
}
