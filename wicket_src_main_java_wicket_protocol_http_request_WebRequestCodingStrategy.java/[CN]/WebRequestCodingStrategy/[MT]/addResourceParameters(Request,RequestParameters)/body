{
  String pathInfo=request.getPath();
  if (pathInfo != null && pathInfo.startsWith(RESOURCES_PATH_PREFIX)) {
    int ix=RESOURCES_PATH_PREFIX.length();
    if (pathInfo.length() > ix) {
      StringBuffer path=new StringBuffer(pathInfo.substring(ix));
      int ixSemiColon=path.indexOf(";");
      if (ixSemiColon != -1) {
        int ixEnd=path.indexOf("?");
        if (ixEnd == -1) {
          ixEnd=path.length();
        }
        path.delete(ixSemiColon,ixEnd);
      }
      parameters.setResourceKey(path.toString());
    }
  }
}
