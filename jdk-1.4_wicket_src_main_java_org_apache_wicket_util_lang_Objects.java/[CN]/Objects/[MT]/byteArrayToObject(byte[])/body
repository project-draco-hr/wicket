{
  try {
    final ByteArrayInputStream in=new ByteArrayInputStream(data);
    try {
      return objectStreamFactory.newObjectInputStream(in).readObject();
    }
  finally {
      in.close();
    }
  }
 catch (  ClassNotFoundException e) {
    throw new RuntimeException("Could not deserialize object using `" + objectStreamFactory.getClass().getName() + "` object factory",e);
  }
catch (  IOException e) {
    throw new RuntimeException("Could not deserialize object using `" + objectStreamFactory.getClass().getName() + "` object factory",e);
  }
}
