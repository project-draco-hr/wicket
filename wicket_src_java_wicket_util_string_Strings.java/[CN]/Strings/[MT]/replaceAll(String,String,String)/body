{
  if (s != null) {
    final StringBuffer buf=new StringBuffer();
    int pos=0;
    while (true) {
      final int matchIndex=s.indexOf(searchFor,pos);
      if (matchIndex == -1) {
        buf.append(s.substring(pos));
        break;
      }
 else {
        buf.append(s.substring(pos,matchIndex));
        pos=matchIndex + searchFor.length();
        buf.append(replaceWith);
      }
    }
    return buf.toString();
  }
  return null;
}
