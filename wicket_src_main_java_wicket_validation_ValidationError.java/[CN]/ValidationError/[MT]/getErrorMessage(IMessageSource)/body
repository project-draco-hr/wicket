{
  String errorMessage=null;
  for (  String key : keys) {
    errorMessage=messageSource.getMessage(key);
    if (errorMessage != null) {
      break;
    }
  }
  if (errorMessage == null && this.message != null) {
    errorMessage=this.message;
  }
  if (errorMessage != null) {
    final Map<String,Object> p=(vars == null) ? Collections.EMPTY_MAP : vars;
    errorMessage=messageSource.substitute(errorMessage,p);
  }
  return errorMessage;
}
